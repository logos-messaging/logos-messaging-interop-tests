{"uid":"a4a00e555374b664","name":"test_subscribe_and_publish_on_another_content_topic_from_same_shard","fullName":"tests.sharding.test_relay_auto_sharding.TestRelayAutosharding#test_subscribe_and_publish_on_another_content_topic_from_same_shard","historyId":"22132942b07d562f554abc4e550c8324","time":{"start":1770438857321,"stop":1770438860043,"duration":2722},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"set_allure_env_variables","time":{"start":1770438645604,"stop":1770438645604,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_setup","time":{"start":1770438857319,"stop":1770438857320,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_id","time":{"start":1770438857319,"stop":1770438857319,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes","time":{"start":1770438857319,"stop":1770438857319,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_logs_on_fail","time":{"start":1770438857319,"stop":1770438857319,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"check_waku_log_errors","time":{"start":1770438857319,"stop":1770438857319,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"common_setup","time":{"start":1770438857320,"stop":1770438857320,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"relay_setup","time":{"start":1770438857320,"stop":1770438857320,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"sharding_setup","time":{"start":1770438857320,"stop":1770438857320,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"passed","steps":[{"name":"setup_main_relay_nodes","time":{"start":1770438857321,"stop":1770438859806,"duration":2485},"status":"passed","steps":[{"name":"setup_first_relay_node_with_filter","time":{"start":1770438857321,"stop":1770438858553,"duration":1232},"status":"passed","steps":[{"name":"setup_first_relay_node","time":{"start":1770438857321,"stop":1770438858553,"duration":1232},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"filter","value":"'true'"},{"name":"cluster_id","value":"2"},{"name":"content_topic","value":"'/myapp/1/latest/proto'"},{"name":"num_shards_in_network","value":"8"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"cluster_id","value":"2"},{"name":"content_topic","value":"'/myapp/1/latest/proto'"},{"name":"num_shards_in_network","value":"8"}],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"setup_second_relay_node","time":{"start":1770438858553,"stop":1770438859806,"duration":1253},"status":"passed","steps":[{"name":"add_node_peer","time":{"start":1770438859803,"stop":1770438859806,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"args","value":"(<tests.sharding.test_relay_auto_sharding.TestRelayAutosharding object at 0x7f4ae817faa0>, <src.node.waku_node.WakuNode object at 0x7f4ae81aa210>, ['/ip4/172.18.92.78/tcp/22183/p2p/16Uiu2HAm2gC4EvxpxbQpZuCxNPffrpKd5wxFfqfGmzY1qx1h3nf9'])"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"cluster_id","value":"2"},{"name":"content_topic","value":"'/myapp/1/latest/proto'"},{"name":"num_shards_in_network","value":"8"}],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"cluster_id","value":"2"},{"name":"content_topic","value":"'/myapp/1/latest/proto'"},{"name":"num_shards_in_network","value":"8"}],"stepsCount":4,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"subscribe_main_relay_nodes","time":{"start":1770438859806,"stop":1770438859815,"duration":9},"status":"passed","steps":[{"name":"subscribe_relay_node","time":{"start":1770438859806,"stop":1770438859810,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7f4ae82f76b0>"},{"name":"content_topics","value":"['/newsService/1.0/weekly/protobuf']"},{"name":"pubsub_topics","value":"None"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"subscribe_relay_node","time":{"start":1770438859810,"stop":1770438859815,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7f4ae81aa210>"},{"name":"content_topics","value":"['/newsService/1.0/weekly/protobuf']"},{"name":"pubsub_topics","value":"None"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"content_topics","value":"['/newsService/1.0/weekly/protobuf']"},{"name":"pubsub_topics","value":"None"}],"stepsCount":2,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_published_message_reaches_relay_peer","time":{"start":1770438859815,"stop":1770438859930,"duration":115},"status":"passed","steps":[{"name":"create_message","time":{"start":1770438859815,"stop":1770438859815,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"contentTopic","value":"'/newsService/1.0/weekly/protobuf'"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"relay_message","time":{"start":1770438859815,"stop":1770438859821,"duration":6},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7f4ae82f76b0>"},{"name":"message","value":"{'payload': 'U2hhcmRpbmcgd29ya3MhIQ==', 'contentTopic': '/newsService/1.0/weekly/protobuf', 'timestamp': 1770438859815068097}"},{"name":"pubsub_topic","value":"None"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"retrieve_relay_message","time":{"start":1770438859922,"stop":1770438859924,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7f4ae82f76b0>"},{"name":"content_topic","value":"'/newsService/1.0/weekly/protobuf'"},{"name":"pubsub_topic","value":"None"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"assert_received_message","time":{"start":1770438859926,"stop":1770438859926,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"sent_message","value":"{'payload': 'U2hhcmRpbmcgd29ya3MhIQ==', 'contentTopic': '/newsService/1.0/weekly/protobuf', 'timestamp': 1770438859815068097}"},{"name":"index","value":"0"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"retrieve_relay_message","time":{"start":1770438859926,"stop":1770438859928,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7f4ae81aa210>"},{"name":"content_topic","value":"'/newsService/1.0/weekly/protobuf'"},{"name":"pubsub_topic","value":"None"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"assert_received_message","time":{"start":1770438859929,"stop":1770438859930,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"sent_message","value":"{'payload': 'U2hhcmRpbmcgd29ya3MhIQ==', 'contentTopic': '/newsService/1.0/weekly/protobuf', 'timestamp': 1770438859815068097}"},{"name":"index","value":"0"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"content_topic","value":"'/newsService/1.0/weekly/protobuf'"},{"name":"pubsub_topic","value":"None"},{"name":"sender","value":"None"},{"name":"peer_list","value":"None"}],"stepsCount":6,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_published_message_reaches_relay_peer","time":{"start":1770438859930,"stop":1770438860043,"duration":113},"status":"passed","steps":[{"name":"create_message","time":{"start":1770438859930,"stop":1770438859930,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"contentTopic","value":"'/myapp/1/latest/proto'"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"relay_message","time":{"start":1770438859930,"stop":1770438859934,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7f4ae82f76b0>"},{"name":"message","value":"{'payload': 'U2hhcmRpbmcgd29ya3MhIQ==', 'contentTopic': '/myapp/1/latest/proto', 'timestamp': 1770438859929674474}"},{"name":"pubsub_topic","value":"None"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"retrieve_relay_message","time":{"start":1770438860035,"stop":1770438860038,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7f4ae82f76b0>"},{"name":"content_topic","value":"'/myapp/1/latest/proto'"},{"name":"pubsub_topic","value":"None"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"assert_received_message","time":{"start":1770438860039,"stop":1770438860039,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"sent_message","value":"{'payload': 'U2hhcmRpbmcgd29ya3MhIQ==', 'contentTopic': '/myapp/1/latest/proto', 'timestamp': 1770438859929674474}"},{"name":"index","value":"0"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"retrieve_relay_message","time":{"start":1770438860039,"stop":1770438860042,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7f4ae81aa210>"},{"name":"content_topic","value":"'/myapp/1/latest/proto'"},{"name":"pubsub_topic","value":"None"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"assert_received_message","time":{"start":1770438860043,"stop":1770438860043,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"sent_message","value":"{'payload': 'U2hhcmRpbmcgd29ya3MhIQ==', 'contentTopic': '/myapp/1/latest/proto', 'timestamp': 1770438859929674474}"},{"name":"index","value":"0"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"content_topic","value":"'/myapp/1/latest/proto'"},{"name":"pubsub_topic","value":"None"},{"name":"sender","value":"None"},{"name":"peer_list","value":"None"}],"stepsCount":6,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"1095c1d727cf76f0","name":"log","source":"1095c1d727cf76f0.txt","type":"text/plain","size":15562},{"uid":"4e2d62134f6ec127","name":"stderr","source":"4e2d62134f6ec127.txt","type":"text/plain","size":15190}],"parameters":[],"stepsCount":22,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"test_setup::0","time":{"start":1770438860044,"stop":1770438860045,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes::0","time":{"start":1770438860045,"stop":1770438861117,"duration":1072},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"check_waku_log_errors::0","time":{"start":1770438861118,"stop":1770438861131,"duration":13},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_logs_on_fail::0","time":{"start":1770438861131,"stop":1770438861131,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"set_allure_env_variables::0","time":{"start":1770439065556,"stop":1770439065556,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"tests.sharding"},{"name":"suite","value":"test_relay_auto_sharding"},{"name":"subSuite","value":"TestRelayAutosharding"},{"name":"host","value":"runnervmwffz4"},{"name":"thread","value":"3351-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.sharding.test_relay_auto_sharding"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":0,"broken":0,"skipped":0,"passed":12,"unknown":0,"total":12},"items":[{"uid":"f0c807a32c42ed72","reportUrl":"https://logos-messaging.github.io/logos-messaging-interop-tests/nim/1071/#testresult/f0c807a32c42ed72","status":"passed","time":{"start":1770352586149,"stop":1770352588867,"duration":2718}},{"uid":"1023a5702900cf8b","reportUrl":"https://logos-messaging.github.io/logos-messaging-interop-tests/nim/1070/#testresult/1023a5702900cf8b","status":"passed","time":{"start":1770266216155,"stop":1770266218883,"duration":2728}},{"uid":"84ce38fd0010654b","reportUrl":"https://logos-messaging.github.io/logos-messaging-interop-tests/nim/1069/#testresult/84ce38fd0010654b","status":"passed","time":{"start":1770225195314,"stop":1770225198047,"duration":2733}},{"uid":"ce44c4f4d59551a","reportUrl":"https://logos-messaging.github.io/logos-messaging-interop-tests/nim/1068/#testresult/ce44c4f4d59551a","status":"passed","time":{"start":1770206182614,"stop":1770206185261,"duration":2647}},{"uid":"f630739ecdb33615","reportUrl":"https://logos-messaging.github.io/logos-messaging-interop-tests/nim/1067/#testresult/f630739ecdb33615","status":"passed","time":{"start":1770179691278,"stop":1770179693982,"duration":2704}},{"uid":"484d0f59476fa4ff","reportUrl":"https://logos-messaging.github.io/logos-messaging-interop-tests/nim/1066/#testresult/484d0f59476fa4ff","status":"passed","time":{"start":1770093357156,"stop":1770093359918,"duration":2762}},{"uid":"a0c239fe2a2346ff","reportUrl":"https://logos-messaging.github.io/logos-messaging-interop-tests/nim/1065/#testresult/a0c239fe2a2346ff","status":"passed","time":{"start":1770007374894,"stop":1770007377631,"duration":2737}},{"uid":"3db04d4b6be424c3","reportUrl":"https://logos-messaging.github.io/logos-messaging-interop-tests/nim/1064/#testresult/3db04d4b6be424c3","status":"passed","time":{"start":1769921175885,"stop":1769921178608,"duration":2723}},{"uid":"a222ce33bfa85673","reportUrl":"https://logos-messaging.github.io/logos-messaging-interop-tests/nim/1063/#testresult/a222ce33bfa85673","status":"passed","time":{"start":1769834000273,"stop":1769834002992,"duration":2719}},{"uid":"3c89b23525881086","reportUrl":"https://logos-messaging.github.io/logos-messaging-interop-tests/nim/1062/#testresult/3c89b23525881086","status":"passed","time":{"start":1769747696721,"stop":1769747699438,"duration":2717}},{"uid":"82696b69422f491","reportUrl":"https://logos-messaging.github.io/logos-messaging-interop-tests/nim/1061/#testresult/82696b69422f491","status":"passed","time":{"start":1769662011312,"stop":1769662014145,"duration":2833}}]},"tags":[]},"source":"a4a00e555374b664.json","parameterValues":[]}