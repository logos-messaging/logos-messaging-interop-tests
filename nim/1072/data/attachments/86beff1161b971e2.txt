2026-02-07 04:32:34.886 DEBUG [tests.conftest] Running fixture setup: test_id
2026-02-07 04:32:34.887 DEBUG [tests.conftest] Running test: test_store_invalid_ascending with id: 2026-02-07_04-32-34__07be1a16-9414-4bf9-98bc-7a5ced0928cd
2026-02-07 04:32:34.887 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-02-07 04:32:34.888 DEBUG [src.steps.store] Running fixture setup: store_setup
2026-02-07 04:32:34.888 DEBUG [src.steps.store] Running fixture setup: node_setup
2026-02-07 04:32:34.895 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-07 04:32:34.896 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/publishing_node1_2026-02-07_04-32-34__07be1a16-9414-4bf9-98bc-7a5ced0928cd__wakuorg_nwaku:latest.log
2026-02-07 04:32:34.896 DEBUG [src.node.waku_node] Starting Node...
2026-02-07 04:32:34.897 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-07 04:32:34.898 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-07 04:32:34.899 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.63.54
2026-02-07 04:32:34.900 DEBUG [src.node.docker_mananger] Generated ports ['6972', '6973', '6974', '6975', '6976']
2026-02-07 04:32:34.900 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-07 04:32:34.901 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-07 04:32:34.901 DEBUG [src.node.waku_node] Using volumes []
2026-02-07 04:32:34.902 DEBUG [src.node.docker_mananger] docker run -i -t -p 6972:6972 -p 6973:6973 -p 6974:6974 -p 6975:6975 -p 6976:6976 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=6974 --rest-port=6972 --tcp-port=6973 --discv5-udp-port=6975 --rest-address=0.0.0.0 --nat=extip:172.18.63.54 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=5485de91ca147ea90aaf1dd2e1dbbd3daaaf2515a9cbdfe7743c6eb31796e2d5 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=6976 --metrics-logging=true --store=true --relay=true
2026-02-07 04:32:35.087 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.63.54 waku 2bcd34cc6f9d74b40ce07c16011fdfe7b7162ad92e7c796336c8b5eea78e558d
2026-02-07 04:32:35.117 DEBUG [src.node.docker_mananger] Container started with ID 2bcd34cc6f9d. Setting up logs at ./log/docker/publishing_node1_2026-02-07_04-32-34__07be1a16-9414-4bf9-98bc-7a5ced0928cd__wakuorg_nwaku:latest.log
2026-02-07 04:32:35.119 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 6972
2026-02-07 04:32:35.119 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-07 04:32:35.137 ERROR [src.node.docker_mananger] Max retries reached for container 3e132c5d1782. Exiting log stream.
2026-02-07 04:32:35.753 ERROR [src.node.docker_mananger] Max retries reached for container 880b784bdc93. Exiting log stream.
2026-02-07 04:32:36.120 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:6972/health" -H "Content-Type: application/json" -d 'None'
2026-02-07 04:32:36.123 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"READY"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"READY"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-07 04:32:36.123 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-07 04:32:36.123 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:6972/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-07 04:32:36.125 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.63.54/tcp/6973/p2p/16Uiu2HAkzEm8YSRk45i2rf9k4ccgepYBU9syWAt1iNyrhTcmQfRn","/ip4/172.18.63.54/tcp/6974/ws/p2p/16Uiu2HAkzEm8YSRk45i2rf9k4ccgepYBU9syWAt1iNyrhTcmQfRn"],"enrUri":"enr:-L24QJzY8p-ABkL5QgmWspuNisrqj5mtTq4yt6XyiBZsZGziIJsNQUhoJ6VA_NQbXSfCFo7XtUd1D6AEgCzFkilzSO0CgmlkgnY0gmlwhKwSPzaKbXVsdGlhZGRyc5YACASsEj82Bhs9AAoErBI_NgYbPt0DgnJzhQADAQAAiXNlY3AyNTZrMaECR37erFo61k216QAsJo1Ni7gtd2nVdkXi2zY_YXmICa2DdGNwghs9g3VkcIIbP4V3YWt1MgM"}'
2026-02-07 04:32:36.125 INFO [src.node.waku_node] REST service is ready !!
2026-02-07 04:32:36.132 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-07 04:32:36.132 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/store_node1_2026-02-07_04-32-34__07be1a16-9414-4bf9-98bc-7a5ced0928cd__wakuorg_nwaku:latest.log
2026-02-07 04:32:36.132 DEBUG [src.node.waku_node] Starting Node...
2026-02-07 04:32:36.133 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-07 04:32:36.134 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-07 04:32:36.134 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.240.21
2026-02-07 04:32:36.134 DEBUG [src.node.docker_mananger] Generated ports ['24538', '24539', '24540', '24541', '24542']
2026-02-07 04:32:36.134 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-07 04:32:36.134 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-07 04:32:36.135 DEBUG [src.node.waku_node] Using volumes []
2026-02-07 04:32:36.135 DEBUG [src.node.docker_mananger] docker run -i -t -p 24538:24538 -p 24539:24539 -p 24540:24540 -p 24541:24541 -p 24542:24542 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=24540 --rest-port=24538 --tcp-port=24539 --discv5-udp-port=24541 --rest-address=0.0.0.0 --nat=extip:172.18.240.21 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e6da74acccccf62ca89d730f654b1f23c753aed98dcaeecac82fe6fb9c8ebeea --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=24542 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QJzY8p-ABkL5QgmWspuNisrqj5mtTq4yt6XyiBZsZGziIJsNQUhoJ6VA_NQbXSfCFo7XtUd1D6AEgCzFkilzSO0CgmlkgnY0gmlwhKwSPzaKbXVsdGlhZGRyc5YACASsEj82Bhs9AAoErBI_NgYbPt0DgnJzhQADAQAAiXNlY3AyNTZrMaECR37erFo61k216QAsJo1Ni7gtd2nVdkXi2zY_YXmICa2DdGNwghs9g3VkcIIbP4V3YWt1MgM --storenode=/ip4/172.18.63.54/tcp/6973/p2p/16Uiu2HAkzEm8YSRk45i2rf9k4ccgepYBU9syWAt1iNyrhTcmQfRn --store=true --relay=true
2026-02-07 04:32:36.318 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.240.21 waku 4230daad6f8b3cf1af810c08be6fb7d15aa7c499791f94ce33f227188c50a0ee
2026-02-07 04:32:36.345 DEBUG [src.node.docker_mananger] Container started with ID 4230daad6f8b. Setting up logs at ./log/docker/store_node1_2026-02-07_04-32-34__07be1a16-9414-4bf9-98bc-7a5ced0928cd__wakuorg_nwaku:latest.log
2026-02-07 04:32:36.346 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 24538
2026-02-07 04:32:36.346 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-07 04:32:37.347 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:24538/health" -H "Content-Type: application/json" -d 'None'
2026-02-07 04:32:37.351 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"READY"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"READY"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"READY"},{"Legacy Store Client":"READY"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-07 04:32:37.351 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-07 04:32:37.351 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:24538/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-07 04:32:37.353 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.240.21/tcp/24539/p2p/16Uiu2HAmHwfYqRa9VRLuPtefXuTenYMx7tjG6TGr6zCaCQV1P5oS","/ip4/172.18.240.21/tcp/24540/ws/p2p/16Uiu2HAmHwfYqRa9VRLuPtefXuTenYMx7tjG6TGr6zCaCQV1P5oS"],"enrUri":"enr:-L24QIvY7bGTucyvzgHqB-4QPJ_4vC0-wCezpTOlP_rFetF9NQlCdp1T8xTE6NkU98NXr5dWcOXuy4vfoou1DLWos2ICgmlkgnY0gmlwhKwS8BWKbXVsdGlhZGRyc5YACASsEvAVBl_bAAoErBLwFQZf3N0DgnJzhQADAQAAiXNlY3AyNTZrMaEDTpAM04A0dNf9kaIrz12GFKc4vOQPPdCCMM5k7QfoGkWDdGNwgl_bg3VkcIJf3YV3YWt1MgM"}'
2026-02-07 04:32:37.354 INFO [src.node.waku_node] REST service is ready !!
2026-02-07 04:32:37.354 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:24538/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.63.54/tcp/6973/p2p/16Uiu2HAkzEm8YSRk45i2rf9k4ccgepYBU9syWAt1iNyrhTcmQfRn"]'
2026-02-07 04:32:37.356 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-07 04:32:37.357 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:6972/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-07 04:32:37.359 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-07 04:32:37.359 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:24538/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-07 04:32:37.361 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-07 04:32:37.363 DEBUG [src.steps.store] Relaying message
2026-02-07 04:32:37.363 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:6972/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8w", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-07 04:32:37.367 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-07 04:32:37.367 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-07 04:32:37.568 DEBUG [src.steps.store] Relaying message
2026-02-07 04:32:37.568 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:6972/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8x", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-07 04:32:37.573 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-07 04:32:37.574 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-07 04:32:37.775 DEBUG [src.steps.store] Relaying message
2026-02-07 04:32:37.775 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:6972/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8y", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-07 04:32:37.779 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-07 04:32:37.780 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-07 04:32:37.981 DEBUG [src.steps.store] Relaying message
2026-02-07 04:32:37.982 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:6972/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8z", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-07 04:32:37.986 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-07 04:32:37.987 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-07 04:32:38.187 DEBUG [tests.store.test_sorting] requesting stored messages with invalid ascending =##
2026-02-07 04:32:38.188 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:6972/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=2&ascending=##" -H "Content-Type: application/json" -d 'None'
2026-02-07 04:32:38.190 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xcf2e45764fdb965adbb934210c19c8348475bdbd283e17f6f358f4ca0a434309"},{"messageHash":"0xc69ed27d2379ab3be1e22c3a1641cd02f524d284b9dcdae7bc11e2bc2d4d4a4c"}],"paginationCursor":"0xc69ed27d2379ab3be1e22c3a1641cd02f524d284b9dcdae7bc11e2bc2d4d4a4c"}'
2026-02-07 04:32:38.191 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:24538/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=2&ascending=##" -H "Content-Type: application/json" -d 'None'
2026-02-07 04:32:38.193 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xcf2e45764fdb965adbb934210c19c8348475bdbd283e17f6f358f4ca0a434309"},{"messageHash":"0xc69ed27d2379ab3be1e22c3a1641cd02f524d284b9dcdae7bc11e2bc2d4d4a4c"}],"paginationCursor":"0xc69ed27d2379ab3be1e22c3a1641cd02f524d284b9dcdae7bc11e2bc2d4d4a4c"}'
2026-02-07 04:32:38.195 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-02-07 04:32:38.196 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-02-07 04:32:38.196 DEBUG [src.node.waku_node] Stopping container with id 2bcd34cc6f9d
2026-02-07 04:32:38.725 DEBUG [src.node.waku_node] Container stopped.
2026-02-07 04:32:38.726 DEBUG [src.node.waku_node] Stopping container with id 4230daad6f8b
2026-02-07 04:32:39.256 DEBUG [src.node.waku_node] Container stopped.
2026-02-07 04:32:39.259 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-02-07 04:32:39.271 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-07 04:32:39.277 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
