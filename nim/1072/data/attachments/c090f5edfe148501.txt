2026-02-07 04:36:21.379 DEBUG [tests.conftest] Running fixture setup: test_id
2026-02-07 04:36:21.379 DEBUG [tests.conftest] Running test: test_light_push_with_valid_timestamps with id: 2026-02-07_04-36-21__33b66773-4f49-49bd-862e-fca20a36e29e
2026-02-07 04:36:21.379 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-02-07 04:36:21.380 DEBUG [src.steps.light_push] Running fixture setup: light_push_setup
2026-02-07 04:36:21.386 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-07 04:36:21.386 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node1_2026-02-07_04-36-21__33b66773-4f49-49bd-862e-fca20a36e29e__wakuorg_nwaku:latest.log
2026-02-07 04:36:21.386 DEBUG [src.node.waku_node] Starting Node...
2026-02-07 04:36:21.386 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-07 04:36:21.388 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-07 04:36:21.388 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.51.177
2026-02-07 04:36:21.388 DEBUG [src.node.docker_mananger] Generated ports ['46809', '46810', '46811', '46812', '46813']
2026-02-07 04:36:21.388 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-07 04:36:21.388 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-07 04:36:21.388 DEBUG [src.node.waku_node] Using volumes []
2026-02-07 04:36:21.388 DEBUG [src.node.docker_mananger] docker run -i -t -p 46809:46809 -p 46810:46810 -p 46811:46811 -p 46812:46812 -p 46813:46813 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=46811 --rest-port=46809 --tcp-port=46810 --discv5-udp-port=46812 --rest-address=0.0.0.0 --nat=extip:172.18.51.177 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ef804ebfdff6fdd4fe57af3a5f8fdd64cad7dc0025ffbbda05e16a550ec91e2f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=46813 --metrics-logging=true --lightpush=true --relay=true
2026-02-07 04:36:21.531 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.51.177 waku d8c79101b8e1b7cda39e93fb3e8d9e3e1f49539ba3268bba70983aeba5ff5fa8
2026-02-07 04:36:21.556 DEBUG [src.node.docker_mananger] Container started with ID d8c79101b8e1. Setting up logs at ./log/docker/receiving_node1_2026-02-07_04-36-21__33b66773-4f49-49bd-862e-fca20a36e29e__wakuorg_nwaku:latest.log
2026-02-07 04:36:21.557 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 46809
2026-02-07 04:36:21.558 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-07 04:36:21.663 ERROR [src.node.docker_mananger] Max retries reached for container 9c67ef56beeb. Exiting log stream.
2026-02-07 04:36:22.162 ERROR [src.node.docker_mananger] Max retries reached for container bcf1376b6bf2. Exiting log stream.
2026-02-07 04:36:22.559 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46809/health" -H "Content-Type: application/json" -d 'None'
2026-02-07 04:36:22.562 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_READY","desc":"Node has no relay peers to fullfill push requests"},{"Legacy Lightpush":"NOT_READY","desc":"Node has no relay peers to fullfill push requests"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-07 04:36:22.562 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-07 04:36:22.562 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46809/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-07 04:36:22.564 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.51.177/tcp/46810/p2p/16Uiu2HAkuwqEvKcTgXELy1JT3utwzGM3qDpvnfrRtQHr6AGGZJsu","/ip4/172.18.51.177/tcp/46811/ws/p2p/16Uiu2HAkuwqEvKcTgXELy1JT3utwzGM3qDpvnfrRtQHr6AGGZJsu"],"enrUri":"enr:-L24QF8R7_g1blSigRbIq6b-V0yPZQYvp1xzxK-a03KRBpiWG7DpmhMuzbGBsKYsxQcgHFEk7WHZwgQh5kdOWeezDtwCgmlkgnY0gmlwhKwSM7GKbXVsdGlhZGRyc5YACASsEjOxBrbaAAoErBIzsQa2290DgnJzhQADAQAAiXNlY3AyNTZrMaECB7nlP0ONmQDDOrYbYgYlRWKzTxX4987PnJVlEiGIafyDdGNwgrbag3VkcIK23IV3YWt1Mgk"}'
2026-02-07 04:36:22.564 INFO [src.node.waku_node] REST service is ready !!
2026-02-07 04:36:22.570 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-07 04:36:22.570 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node2_2026-02-07_04-36-21__33b66773-4f49-49bd-862e-fca20a36e29e__wakuorg_nwaku:latest.log
2026-02-07 04:36:22.571 DEBUG [src.node.waku_node] Starting Node...
2026-02-07 04:36:22.571 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-07 04:36:22.572 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-07 04:36:22.572 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.160.66
2026-02-07 04:36:22.572 DEBUG [src.node.docker_mananger] Generated ports ['37953', '37954', '37955', '37956', '37957']
2026-02-07 04:36:22.572 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-07 04:36:22.572 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-07 04:36:22.572 DEBUG [src.node.waku_node] Using volumes []
2026-02-07 04:36:22.572 DEBUG [src.node.docker_mananger] docker run -i -t -p 37953:37953 -p 37954:37954 -p 37955:37955 -p 37956:37956 -p 37957:37957 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=37955 --rest-port=37953 --tcp-port=37954 --discv5-udp-port=37956 --rest-address=0.0.0.0 --nat=extip:172.18.160.66 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=4fc0d0edf6b2776d3dc0feaae8ecfbbc43df7be8aaeb1ff18cbc1b3639dcbdb6 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=37957 --metrics-logging=true --lightpush=false --relay=true
2026-02-07 04:36:22.716 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.160.66 waku 2210089e01eec087b8556b1468ce5d75d117570ad48ce19d340fe98dd24bff90
2026-02-07 04:36:22.740 DEBUG [src.node.docker_mananger] Container started with ID 2210089e01ee. Setting up logs at ./log/docker/receiving_node2_2026-02-07_04-36-21__33b66773-4f49-49bd-862e-fca20a36e29e__wakuorg_nwaku:latest.log
2026-02-07 04:36:22.741 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 37953
2026-02-07 04:36:22.741 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-07 04:36:23.741 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:37953/health" -H "Content-Type: application/json" -d 'None'
2026-02-07 04:36:23.744 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-07 04:36:23.744 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-07 04:36:23.745 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:37953/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-07 04:36:23.747 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.160.66/tcp/37954/p2p/16Uiu2HAmH7PASgten81Sip1PzkF5ZAmU46iESg2MNUT2uCbg9DdM","/ip4/172.18.160.66/tcp/37955/ws/p2p/16Uiu2HAmH7PASgten81Sip1PzkF5ZAmU46iESg2MNUT2uCbg9DdM"],"enrUri":"enr:-L24QOBk7IlOkXyUbTx7Jnqo13mQYqWv59Mt9a44PNbd3Rb_V1zUQfr4gOzdgurjmPUOPz6IiWjT3fsXwNYqavbElAACgmlkgnY0gmlwhKwSoEKKbXVsdGlhZGRyc5YACASsEqBCBpRCAAoErBKgQgaUQ90DgnJzhQADAQAAiXNlY3AyNTZrMaEDQjGkuxGGbnJD-iHlDd15_UZTEnrMVFLowTOzERM585yDdGNwgpRCg3VkcIKURIV3YWt1MgE"}'
2026-02-07 04:36:23.747 INFO [src.node.waku_node] REST service is ready !!
2026-02-07 04:36:23.747 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:37953/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.51.177/tcp/46810/p2p/16Uiu2HAkuwqEvKcTgXELy1JT3utwzGM3qDpvnfrRtQHr6AGGZJsu"]'
2026-02-07 04:36:23.776 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-07 04:36:23.784 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-07 04:36:23.785 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/lightpush_node1_2026-02-07_04-36-21__33b66773-4f49-49bd-862e-fca20a36e29e__wakuorg_nwaku:latest.log
2026-02-07 04:36:23.785 DEBUG [src.node.waku_node] Starting Node...
2026-02-07 04:36:23.785 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-07 04:36:23.787 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-07 04:36:23.787 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.254.136
2026-02-07 04:36:23.787 DEBUG [src.node.docker_mananger] Generated ports ['21420', '21421', '21422', '21423', '21424']
2026-02-07 04:36:23.787 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-07 04:36:23.788 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-07 04:36:23.788 DEBUG [src.node.waku_node] Using volumes []
2026-02-07 04:36:23.788 DEBUG [src.node.docker_mananger] docker run -i -t -p 21420:21420 -p 21421:21421 -p 21422:21422 -p 21423:21423 -p 21424:21424 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=21422 --rest-port=21420 --tcp-port=21421 --discv5-udp-port=21423 --rest-address=0.0.0.0 --nat=extip:172.18.254.136 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b7a4e13eadeeb4d87a6e8a2b482edbf9e4bafdba9eb02f8cdaffc62aef35f138 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=21424 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QF8R7_g1blSigRbIq6b-V0yPZQYvp1xzxK-a03KRBpiWG7DpmhMuzbGBsKYsxQcgHFEk7WHZwgQh5kdOWeezDtwCgmlkgnY0gmlwhKwSM7GKbXVsdGlhZGRyc5YACASsEjOxBrbaAAoErBIzsQa2290DgnJzhQADAQAAiXNlY3AyNTZrMaECB7nlP0ONmQDDOrYbYgYlRWKzTxX4987PnJVlEiGIafyDdGNwgrbag3VkcIK23IV3YWt1Mgk --lightpushnode=/ip4/172.18.51.177/tcp/46810/p2p/16Uiu2HAkuwqEvKcTgXELy1JT3utwzGM3qDpvnfrRtQHr6AGGZJsu --lightpush=true --relay=true
2026-02-07 04:36:23.940 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.254.136 waku e5ea91c944ff8dc97f14f891b1aa15531ff17aa4714c8a177655fa3d6e847b05
2026-02-07 04:36:23.967 DEBUG [src.node.docker_mananger] Container started with ID e5ea91c944ff. Setting up logs at ./log/docker/lightpush_node1_2026-02-07_04-36-21__33b66773-4f49-49bd-862e-fca20a36e29e__wakuorg_nwaku:latest.log
2026-02-07 04:36:23.967 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 21420
2026-02-07 04:36:23.968 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-07 04:36:24.968 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21420/health" -H "Content-Type: application/json" -d 'None'
2026-02-07 04:36:24.972 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_READY","desc":"Node has no relay peers to fullfill push requests"},{"Legacy Lightpush":"NOT_READY","desc":"Node has no relay peers to fullfill push requests"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"READY"},{"Legacy Lightpush Client":"READY"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-07 04:36:24.973 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-07 04:36:24.973 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21420/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-07 04:36:24.975 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.254.136/tcp/21421/p2p/16Uiu2HAkygH68p69j5mjdMKjik6CqPzzQpGJmiHY6eWNBf99NSpC","/ip4/172.18.254.136/tcp/21422/ws/p2p/16Uiu2HAkygH68p69j5mjdMKjik6CqPzzQpGJmiHY6eWNBf99NSpC"],"enrUri":"enr:-L24QGEu2oYqNTtHy3Zm80wkr0DbVSASr_P2iD4mvqaNfCgYMfKnbM4ypRqLjHoABr0zW7_b4SBA-zWKPg0IHc1sujQCgmlkgnY0gmlwhKwS_oiKbXVsdGlhZGRyc5YACASsEv6IBlOtAAoErBL-iAZTrt0DgnJzhQADAQAAiXNlY3AyNTZrMaECPyyTyZpCNj8aZPTSL7PEaY8QORCIZZcrrwP4KpD0932DdGNwglOtg3VkcIJTr4V3YWt1Mgk"}'
2026-02-07 04:36:24.975 INFO [src.node.waku_node] REST service is ready !!
2026-02-07 04:36:24.975 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21420/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.51.177/tcp/46810/p2p/16Uiu2HAkuwqEvKcTgXELy1JT3utwzGM3qDpvnfrRtQHr6AGGZJsu"]'
2026-02-07 04:36:25.003 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-07 04:36:25.005 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21420/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.160.66/tcp/37954/p2p/16Uiu2HAmH7PASgten81Sip1PzkF5ZAmU46iESg2MNUT2uCbg9DdM"]'
2026-02-07 04:36:25.024 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-07 04:36:25.025 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46809/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-07 04:36:25.032 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-07 04:36:25.033 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:37953/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-07 04:36:25.041 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-07 04:36:25.041 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21420/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-07 04:36:25.043 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-07 04:36:25.044 DEBUG [tests.light_push.test_publish] Running test with timestamp Now
2026-02-07 04:36:25.044 DEBUG [src.steps.light_push] Lightpushing message
2026-02-07 04:36:25.044 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21420/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1770438640310413824}}'
2026-02-07 04:36:25.055 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-07 04:36:25.056 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-07 04:36:25.156 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2026-02-07 04:36:25.156 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46809/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-07 04:36:25.159 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770438640310413824,"ephemeral":false,"proof":""}]'
2026-02-07 04:36:25.161 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2026-02-07 04:36:25.161 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:37953/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-07 04:36:25.163 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770438640310413824,"ephemeral":false,"proof":""}]'
2026-02-07 04:36:25.164 DEBUG [src.steps.light_push] Checking that peer NODE_3:wakuorg/nwaku:latest can find the lightpushed message
2026-02-07 04:36:25.164 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21420/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-07 04:36:25.166 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770438640310413824,"ephemeral":false,"proof":""}]'
2026-02-07 04:36:25.168 DEBUG [tests.light_push.test_publish] Running test with timestamp Far future
2026-02-07 04:36:25.168 DEBUG [src.steps.light_push] Lightpushing message
2026-02-07 04:36:25.168 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21420/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 2085798640310400000}}'
2026-02-07 04:36:25.180 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-07 04:36:25.180 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-07 04:36:25.280 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2026-02-07 04:36:25.281 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46809/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-07 04:36:25.283 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":2085798640310400000,"ephemeral":false,"proof":""}]'
2026-02-07 04:36:25.285 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2026-02-07 04:36:25.285 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:37953/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-07 04:36:25.287 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":2085798640310400000,"ephemeral":false,"proof":""}]'
2026-02-07 04:36:25.288 DEBUG [src.steps.light_push] Checking that peer NODE_3:wakuorg/nwaku:latest can find the lightpushed message
2026-02-07 04:36:25.288 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21420/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-07 04:36:25.291 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":2085798640310400000,"ephemeral":false,"proof":""}]'
2026-02-07 04:36:25.292 DEBUG [tests.light_push.test_publish] Running test with timestamp Recent past
2026-02-07 04:36:25.292 DEBUG [src.steps.light_push] Lightpushing message
2026-02-07 04:36:25.292 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21420/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1770435040310400000}}'
2026-02-07 04:36:25.302 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-07 04:36:25.303 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-07 04:36:25.403 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2026-02-07 04:36:25.403 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46809/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-07 04:36:25.406 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770435040310400000,"ephemeral":false,"proof":""}]'
2026-02-07 04:36:25.407 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2026-02-07 04:36:25.407 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:37953/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-07 04:36:25.409 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770435040310400000,"ephemeral":false,"proof":""}]'
2026-02-07 04:36:25.411 DEBUG [src.steps.light_push] Checking that peer NODE_3:wakuorg/nwaku:latest can find the lightpushed message
2026-02-07 04:36:25.411 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21420/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-07 04:36:25.413 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770435040310400000,"ephemeral":false,"proof":""}]'
2026-02-07 04:36:25.414 DEBUG [tests.light_push.test_publish] Running test with timestamp Near future
2026-02-07 04:36:25.414 DEBUG [src.steps.light_push] Lightpushing message
2026-02-07 04:36:25.414 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21420/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1770442240310400000}}'
2026-02-07 04:36:25.426 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-07 04:36:25.426 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-07 04:36:25.526 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2026-02-07 04:36:25.526 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46809/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-07 04:36:25.529 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770442240310400000,"ephemeral":false,"proof":""}]'
2026-02-07 04:36:25.530 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2026-02-07 04:36:25.530 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:37953/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-07 04:36:25.532 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770442240310400000,"ephemeral":false,"proof":""}]'
2026-02-07 04:36:25.534 DEBUG [src.steps.light_push] Checking that peer NODE_3:wakuorg/nwaku:latest can find the lightpushed message
2026-02-07 04:36:25.534 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21420/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-07 04:36:25.536 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770442240310400000,"ephemeral":false,"proof":""}]'
2026-02-07 04:36:25.537 DEBUG [tests.light_push.test_publish] Running test with timestamp Positive number
2026-02-07 04:36:25.538 DEBUG [src.steps.light_push] Lightpushing message
2026-02-07 04:36:25.538 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21420/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1}}'
2026-02-07 04:36:25.549 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-07 04:36:25.549 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-07 04:36:25.650 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2026-02-07 04:36:25.650 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46809/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-07 04:36:25.653 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1,"ephemeral":false,"proof":""}]'
2026-02-07 04:36:25.654 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2026-02-07 04:36:25.654 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:37953/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-07 04:36:25.657 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1,"ephemeral":false,"proof":""}]'
2026-02-07 04:36:25.658 DEBUG [src.steps.light_push] Checking that peer NODE_3:wakuorg/nwaku:latest can find the lightpushed message
2026-02-07 04:36:25.658 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21420/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-07 04:36:25.660 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1,"ephemeral":false,"proof":""}]'
2026-02-07 04:36:25.662 DEBUG [tests.light_push.test_publish] Running test with timestamp Negative number
2026-02-07 04:36:25.663 DEBUG [src.steps.light_push] Lightpushing message
2026-02-07 04:36:25.663 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21420/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": -1}}'
2026-02-07 04:36:25.674 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-07 04:36:25.674 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-07 04:36:25.774 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2026-02-07 04:36:25.774 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46809/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-07 04:36:25.777 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":-1,"ephemeral":false,"proof":""}]'
2026-02-07 04:36:25.778 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2026-02-07 04:36:25.778 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:37953/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-07 04:36:25.780 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":-1,"ephemeral":false,"proof":""}]'
2026-02-07 04:36:25.782 DEBUG [src.steps.light_push] Checking that peer NODE_3:wakuorg/nwaku:latest can find the lightpushed message
2026-02-07 04:36:25.782 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21420/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-07 04:36:25.802 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":-1,"ephemeral":false,"proof":""}]'
2026-02-07 04:36:25.804 DEBUG [tests.light_push.test_publish] Running test with timestamp DST change
2026-02-07 04:36:25.804 DEBUG [src.steps.light_push] Lightpushing message
2026-02-07 04:36:25.804 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21420/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1583632800000000000}}'
2026-02-07 04:36:25.815 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-07 04:36:25.815 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-07 04:36:25.916 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2026-02-07 04:36:25.916 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46809/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-07 04:36:25.918 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1583632800000000000,"ephemeral":false,"proof":""}]'
2026-02-07 04:36:25.920 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2026-02-07 04:36:25.920 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:37953/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-07 04:36:25.922 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1583632800000000000,"ephemeral":false,"proof":""}]'
2026-02-07 04:36:25.923 DEBUG [src.steps.light_push] Checking that peer NODE_3:wakuorg/nwaku:latest can find the lightpushed message
2026-02-07 04:36:25.923 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21420/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-07 04:36:25.925 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1583632800000000000,"ephemeral":false,"proof":""}]'
2026-02-07 04:36:25.928 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-02-07 04:36:25.929 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-02-07 04:36:25.929 DEBUG [src.node.waku_node] Stopping container with id d8c79101b8e1
2026-02-07 04:36:26.412 DEBUG [src.node.waku_node] Container stopped.
2026-02-07 04:36:26.412 DEBUG [src.node.waku_node] Stopping container with id 2210089e01ee
2026-02-07 04:36:26.904 DEBUG [src.node.waku_node] Container stopped.
2026-02-07 04:36:26.904 DEBUG [src.node.waku_node] Stopping container with id e5ea91c944ff
2026-02-07 04:36:27.225 ERROR [src.node.docker_mananger] Max retries reached for container d8c79101b8e1. Exiting log stream.
2026-02-07 04:36:27.381 DEBUG [src.node.waku_node] Container stopped.
2026-02-07 04:36:27.382 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-02-07 04:36:27.396 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-07 04:36:27.405 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-07 04:36:27.417 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
