2026-02-07 04:33:32.167 DEBUG [tests.conftest] Running fixture setup: test_id
2026-02-07 04:33:32.167 DEBUG [tests.conftest] Running test: test_filter_unsubscribe_with_no_content_topic with id: 2026-02-07_04-33-32__938bdd5d-e518-422e-94f0-d99a52c00c1f
2026-02-07 04:33:32.167 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-02-07 04:33:32.168 DEBUG [src.steps.filter] Running fixture setup: filter_setup
2026-02-07 04:33:32.168 DEBUG [src.steps.filter] Running fixture setup: setup_main_relay_node
2026-02-07 04:33:32.174 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-07 04:33:32.174 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2026-02-07_04-33-32__938bdd5d-e518-422e-94f0-d99a52c00c1f__wakuorg_nwaku:latest.log
2026-02-07 04:33:32.174 DEBUG [src.node.waku_node] Starting Node...
2026-02-07 04:33:32.174 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-07 04:33:32.175 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-07 04:33:32.176 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.82.193
2026-02-07 04:33:32.176 DEBUG [src.node.docker_mananger] Generated ports ['37349', '37350', '37351', '37352', '37353']
2026-02-07 04:33:32.176 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-07 04:33:32.176 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-07 04:33:32.176 DEBUG [src.node.waku_node] Using volumes []
2026-02-07 04:33:32.176 DEBUG [src.node.docker_mananger] docker run -i -t -p 37349:37349 -p 37350:37350 -p 37351:37351 -p 37352:37352 -p 37353:37353 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=37351 --rest-port=37349 --tcp-port=37350 --discv5-udp-port=37352 --rest-address=0.0.0.0 --nat=extip:172.18.82.193 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=eec83b79b7ceff59cc9c3e8fc9de465baadc390aec55b21e3b9cfc296a7b0dfe --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=37353 --metrics-logging=true --relay=true --filter=true
2026-02-07 04:33:32.357 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.82.193 waku a6a68d480df668eb1d27639f31f8abcfef60fbeb746682b19662c3c0f18022b0
2026-02-07 04:33:32.385 DEBUG [src.node.docker_mananger] Container started with ID a6a68d480df6. Setting up logs at ./log/docker/node1_2026-02-07_04-33-32__938bdd5d-e518-422e-94f0-d99a52c00c1f__wakuorg_nwaku:latest.log
2026-02-07 04:33:32.385 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 37349
2026-02-07 04:33:32.386 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-07 04:33:32.431 ERROR [src.node.docker_mananger] Max retries reached for container 484946c2ac5b. Exiting log stream.
2026-02-07 04:33:32.963 ERROR [src.node.docker_mananger] Max retries reached for container 42bf0d1d99f5. Exiting log stream.
2026-02-07 04:33:33.387 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:37349/health" -H "Content-Type: application/json" -d 'None'
2026-02-07 04:33:33.390 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_READY","desc":"Relay is not ready, filter will not be able to sort out messages"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-07 04:33:33.390 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-07 04:33:33.390 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:37349/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-07 04:33:33.393 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.82.193/tcp/37350/p2p/16Uiu2HAkuZhpw5XApfuz7sK8VrmNyhqN2zK71dRWimZMKuVSJBfd","/ip4/172.18.82.193/tcp/37351/ws/p2p/16Uiu2HAkuZhpw5XApfuz7sK8VrmNyhqN2zK71dRWimZMKuVSJBfd"],"enrUri":"enr:-L24QAy9u7UV8eJ1iu6cj9fQ-_T3aqH00O9LYund9Dw0LQ0CHe_w-YA6-QEzsimISZdv0I1fyOmk5HGWTV9N_NR9bckCgmlkgnY0gmlwhKwSUsGKbXVsdGlhZGRyc5YACASsElLBBpHmAAoErBJSwQaR590DgnJzhQADAQAAiXNlY3AyNTZrMaECAg68MrY3n-iDnHusNhWSEXx24iLmZKMSNDqNTXkd6uCDdGNwgpHmg3VkcIKR6IV3YWt1MgU"}'
2026-02-07 04:33:33.393 INFO [src.node.waku_node] REST service is ready !!
2026-02-07 04:33:33.393 DEBUG [src.steps.filter] Running fixture setup: setup_main_filter_node
2026-02-07 04:33:33.400 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-07 04:33:33.400 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2026-02-07_04-33-32__938bdd5d-e518-422e-94f0-d99a52c00c1f__wakuorg_nwaku:latest.log
2026-02-07 04:33:33.400 DEBUG [src.node.waku_node] Starting Node...
2026-02-07 04:33:33.400 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-07 04:33:33.401 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-07 04:33:33.401 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.201.177
2026-02-07 04:33:33.402 DEBUG [src.node.docker_mananger] Generated ports ['49722', '49723', '49724', '49725', '49726']
2026-02-07 04:33:33.402 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-07 04:33:33.402 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-07 04:33:33.402 DEBUG [src.node.waku_node] Using volumes []
2026-02-07 04:33:33.402 DEBUG [src.node.docker_mananger] docker run -i -t -p 49722:49722 -p 49723:49723 -p 49724:49724 -p 49725:49725 -p 49726:49726 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=49724 --rest-port=49722 --tcp-port=49723 --discv5-udp-port=49725 --rest-address=0.0.0.0 --nat=extip:172.18.201.177 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e5f62a94d9fab7bcd35eb49dd29423abf25ebfc602faaf9a1b6a1ecacbb40b28 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=49726 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QAy9u7UV8eJ1iu6cj9fQ-_T3aqH00O9LYund9Dw0LQ0CHe_w-YA6-QEzsimISZdv0I1fyOmk5HGWTV9N_NR9bckCgmlkgnY0gmlwhKwSUsGKbXVsdGlhZGRyc5YACASsElLBBpHmAAoErBJSwQaR590DgnJzhQADAQAAiXNlY3AyNTZrMaECAg68MrY3n-iDnHusNhWSEXx24iLmZKMSNDqNTXkd6uCDdGNwgpHmg3VkcIKR6IV3YWt1MgU --filternode=/ip4/172.18.82.193/tcp/37350/p2p/16Uiu2HAkuZhpw5XApfuz7sK8VrmNyhqN2zK71dRWimZMKuVSJBfd
2026-02-07 04:33:33.579 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.201.177 waku 4f336e050c29992be1b4eca12d800aeea8d19ecaaa0c6fe642a87fe9c4e27dc5
2026-02-07 04:33:33.608 DEBUG [src.node.docker_mananger] Container started with ID 4f336e050c29. Setting up logs at ./log/docker/node2_2026-02-07_04-33-32__938bdd5d-e518-422e-94f0-d99a52c00c1f__wakuorg_nwaku:latest.log
2026-02-07 04:33:33.608 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 49722
2026-02-07 04:33:33.609 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-07 04:33:34.610 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49722/health" -H "Content-Type: application/json" -d 'None'
2026-02-07 04:33:34.614 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_MOUNTED"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"READY"}]}'
2026-02-07 04:33:34.614 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-07 04:33:34.614 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49722/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-07 04:33:34.616 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.201.177/tcp/49723/p2p/16Uiu2HAmJtdw9Kw3tcLxnj6gWZc9y141R3aDZvUn5fLg6AvetJCT","/ip4/172.18.201.177/tcp/49724/ws/p2p/16Uiu2HAmJtdw9Kw3tcLxnj6gWZc9y141R3aDZvUn5fLg6AvetJCT"],"enrUri":"enr:-L24QHI2rnXvJalLVYwi5xEvzdriAGYd-QQVdK_Lsh9JVA8xDoSahM6TwORqH3CUHyxF6aas-ckikeQdhJ2z9Oh2GM8CgmlkgnY0gmlwhKwSybGKbXVsdGlhZGRyc5YACASsEsmxBsI7AAoErBLJsQbCPN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDXKUrCIx8jubXkDKO7CBmPfCI_cXk7-Pl1QztG3Kz_ySDdGNwgsI7g3VkcILCPYV3YWt1MgA"}'
2026-02-07 04:33:34.617 INFO [src.node.waku_node] REST service is ready !!
2026-02-07 04:33:34.617 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:49722/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.82.193/tcp/37350/p2p/16Uiu2HAkuZhpw5XApfuz7sK8VrmNyhqN2zK71dRWimZMKuVSJBfd"]'
2026-02-07 04:33:34.646 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-07 04:33:34.647 DEBUG [src.steps.filter] Running fixture setup: subscribe_main_nodes
2026-02-07 04:33:34.648 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:37349/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2026-02-07 04:33:34.660 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-07 04:33:34.661 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:49722/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "395314bf-65b9-4d3d-94db-08d8b4296d91", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
2026-02-07 04:33:34.672 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"395314bf-65b9-4d3d-94db-08d8b4296d91","statusDesc":"OK"}'
2026-02-07 04:33:34.674 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:49722/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "pubsubTopic": "/waku/2/rs/3/1"}'
2026-02-07 04:33:34.677 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:49722/filter/v2/subscriptions. Response content: b'{"requestId":"unknown","statusDesc":"BAD_REQUEST: Failed to decode request: (status: 400 Bad Request, headers: , kind: Error, errobj: (status: 400 Bad Request, message: \\"Invalid content body, could not decode. Unable to deserialize data: \\", contentType: \\"text/plain\\"))"}'
2026-02-07 04:33:34.679 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-02-07 04:33:34.680 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-02-07 04:33:34.680 DEBUG [src.node.waku_node] Stopping container with id a6a68d480df6
2026-02-07 04:33:35.202 DEBUG [src.node.waku_node] Container stopped.
2026-02-07 04:33:35.202 DEBUG [src.node.waku_node] Stopping container with id 4f336e050c29
2026-02-07 04:33:35.740 DEBUG [src.node.waku_node] Container stopped.
2026-02-07 04:33:35.741 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-02-07 04:33:35.746 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-07 04:33:35.751 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
