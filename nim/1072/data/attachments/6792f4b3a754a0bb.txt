2026-02-07 04:32:41.859 DEBUG [tests.conftest] Running fixture setup: test_id
2026-02-07 04:32:41.859 DEBUG [tests.conftest] Running test: test_relay_subscribe_with_empty_pubsub_topic_list with id: 2026-02-07_04-32-41__86771e58-db83-44a8-8647-78d6b04725e2
2026-02-07 04:32:41.859 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-02-07 04:32:41.860 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2026-02-07 04:32:41.860 DEBUG [src.steps.relay] Running fixture setup: setup_main_relay_nodes
2026-02-07 04:32:41.867 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-07 04:32:41.867 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2026-02-07_04-32-41__86771e58-db83-44a8-8647-78d6b04725e2__wakuorg_nwaku:latest.log
2026-02-07 04:32:41.867 DEBUG [src.node.waku_node] Starting Node...
2026-02-07 04:32:41.867 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-07 04:32:41.869 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-07 04:32:41.869 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.245.148
2026-02-07 04:32:41.869 DEBUG [src.node.docker_mananger] Generated ports ['50166', '50167', '50168', '50169', '50170']
2026-02-07 04:32:41.869 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-07 04:32:41.869 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-07 04:32:41.869 DEBUG [src.node.waku_node] Using volumes []
2026-02-07 04:32:41.870 DEBUG [src.node.docker_mananger] docker run -i -t -p 50166:50166 -p 50167:50167 -p 50168:50168 -p 50169:50169 -p 50170:50170 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=50168 --rest-port=50166 --tcp-port=50167 --discv5-udp-port=50169 --rest-address=0.0.0.0 --nat=extip:172.18.245.148 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=582bdb54bafb0f1adcd86ffd04b657b264d054caa9cfb22c7532a71fdaaa9ad0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=50170 --metrics-logging=true --relay=true
2026-02-07 04:32:42.056 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.245.148 waku 10386461408ea6200390eb68ed054ace39eb9ff56e5e68af8f76976ae4bc8de8
2026-02-07 04:32:42.087 DEBUG [src.node.docker_mananger] Container started with ID 10386461408e. Setting up logs at ./log/docker/node1_2026-02-07_04-32-41__86771e58-db83-44a8-8647-78d6b04725e2__wakuorg_nwaku:latest.log
2026-02-07 04:32:42.088 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 50166
2026-02-07 04:32:42.088 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-07 04:32:42.131 ERROR [src.node.docker_mananger] Max retries reached for container 2402188781e7. Exiting log stream.
2026-02-07 04:32:42.658 ERROR [src.node.docker_mananger] Max retries reached for container 928dc60385d2. Exiting log stream.
2026-02-07 04:32:43.089 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50166/health" -H "Content-Type: application/json" -d 'None'
2026-02-07 04:32:43.093 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-07 04:32:43.093 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-07 04:32:43.093 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50166/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-07 04:32:43.095 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.245.148/tcp/50167/p2p/16Uiu2HAmLcPrJntg27zECGnmvFLwwX1uT1F3cT73agwKN5q98nea","/ip4/172.18.245.148/tcp/50168/ws/p2p/16Uiu2HAmLcPrJntg27zECGnmvFLwwX1uT1F3cT73agwKN5q98nea"],"enrUri":"enr:-L24QGWgP1N-C9LRwhjM7gGbNSZXv7aiIodUKC88EYWkuDzmWflav8TZ-KyBF0JtpLWuY2gSaICWrEm4IFnSnC1rSJUCgmlkgnY0gmlwhKwS9ZSKbXVsdGlhZGRyc5YACASsEvWUBsP3AAoErBL1lAbD-N0DgnJzhQADAQAAiXNlY3AyNTZrMaEDdjNTKjogBYH6eqgZG9BrixFbJmcfulmbLIV4gKwQTO-DdGNwgsP3g3VkcILD-YV3YWt1MgE"}'
2026-02-07 04:32:43.096 INFO [src.node.waku_node] REST service is ready !!
2026-02-07 04:32:43.102 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-07 04:32:43.103 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2026-02-07_04-32-41__86771e58-db83-44a8-8647-78d6b04725e2__wakuorg_nwaku:latest.log
2026-02-07 04:32:43.103 DEBUG [src.node.waku_node] Starting Node...
2026-02-07 04:32:43.103 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-07 04:32:43.104 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-07 04:32:43.104 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.111.221
2026-02-07 04:32:43.105 DEBUG [src.node.docker_mananger] Generated ports ['54725', '54726', '54727', '54728', '54729']
2026-02-07 04:32:43.105 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-07 04:32:43.105 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-07 04:32:43.105 DEBUG [src.node.waku_node] Using volumes []
2026-02-07 04:32:43.105 DEBUG [src.node.docker_mananger] docker run -i -t -p 54725:54725 -p 54726:54726 -p 54727:54727 -p 54728:54728 -p 54729:54729 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=54727 --rest-port=54725 --tcp-port=54726 --discv5-udp-port=54728 --rest-address=0.0.0.0 --nat=extip:172.18.111.221 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=79fec4c8f83e8e167e9fadd6abae8c2bbaa8ffd58cfbaed757e2474efeaafddf --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=54729 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QGWgP1N-C9LRwhjM7gGbNSZXv7aiIodUKC88EYWkuDzmWflav8TZ-KyBF0JtpLWuY2gSaICWrEm4IFnSnC1rSJUCgmlkgnY0gmlwhKwS9ZSKbXVsdGlhZGRyc5YACASsEvWUBsP3AAoErBL1lAbD-N0DgnJzhQADAQAAiXNlY3AyNTZrMaEDdjNTKjogBYH6eqgZG9BrixFbJmcfulmbLIV4gKwQTO-DdGNwgsP3g3VkcILD-YV3YWt1MgE
2026-02-07 04:32:43.284 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.111.221 waku eb3b66084514ceee16d4da933ce255e0e43eede27f3284f40983444b6956fce7
2026-02-07 04:32:43.316 DEBUG [src.node.docker_mananger] Container started with ID eb3b66084514. Setting up logs at ./log/docker/node2_2026-02-07_04-32-41__86771e58-db83-44a8-8647-78d6b04725e2__wakuorg_nwaku:latest.log
2026-02-07 04:32:43.316 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 54725
2026-02-07 04:32:43.317 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-07 04:32:44.317 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:54725/health" -H "Content-Type: application/json" -d 'None'
2026-02-07 04:32:44.327 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-07 04:32:44.329 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-07 04:32:44.330 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:54725/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-07 04:32:44.334 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.111.221/tcp/54726/p2p/16Uiu2HAm4GTVM8XQy1vdst2jMVWvhQwTQ7oAtJFRgdD6Sp7MLcMr","/ip4/172.18.111.221/tcp/54727/ws/p2p/16Uiu2HAm4GTVM8XQy1vdst2jMVWvhQwTQ7oAtJFRgdD6Sp7MLcMr"],"enrUri":"enr:-L24QHKxR3AWIcI463juv97vGOeVvuEipYmdUV2Bg219STKLdhxc2sHyjH7yjJQglnrHPSy_nUST35WH3ggt_wUZE8ECgmlkgnY0gmlwhKwSb92KbXVsdGlhZGRyc5YACASsEm_dBtXGAAoErBJv3QbVx90DgnJzhQADAQAAiXNlY3AyNTZrMaECg1zVAmN1Uvd7hRnmkcT9xNIm-l-rpM3QfK5Di6Jg2d2DdGNwgtXGg3VkcILVyIV3YWt1MgE"}'
2026-02-07 04:32:44.335 INFO [src.node.waku_node] REST service is ready !!
2026-02-07 04:32:44.335 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:54725/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.245.148/tcp/50167/p2p/16Uiu2HAmLcPrJntg27zECGnmvFLwwX1uT1F3cT73agwKN5q98nea"]'
2026-02-07 04:32:44.338 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-07 04:32:44.339 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:50166/relay/v1/subscriptions" -H "Content-Type: application/json" -d '[]'
2026-02-07 04:32:44.341 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-07 04:32:44.341 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:54725/relay/v1/subscriptions" -H "Content-Type: application/json" -d '[]'
2026-02-07 04:32:44.343 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-07 04:32:44.345 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-02-07 04:32:44.346 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-02-07 04:32:44.346 DEBUG [src.node.waku_node] Stopping container with id 10386461408e
2026-02-07 04:32:44.889 DEBUG [src.node.waku_node] Container stopped.
2026-02-07 04:32:44.890 DEBUG [src.node.waku_node] Stopping container with id eb3b66084514
2026-02-07 04:32:45.448 DEBUG [src.node.waku_node] Container stopped.
2026-02-07 04:32:45.449 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-02-07 04:32:45.458 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-07 04:32:45.462 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
