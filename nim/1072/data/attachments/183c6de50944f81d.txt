2026-02-07 04:34:00.113 DEBUG [tests.conftest] Running fixture setup: test_id
2026-02-07 04:34:00.113 DEBUG [tests.conftest] Running test: test_store_with_long_string_pubsub_topic with id: 2026-02-07_04-34-00__23baceac-adef-4e99-898d-8cd1dea4f519
2026-02-07 04:34:00.114 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-02-07 04:34:00.114 DEBUG [src.steps.store] Running fixture setup: store_setup
2026-02-07 04:34:00.114 DEBUG [src.steps.store] Running fixture setup: node_setup
2026-02-07 04:34:00.121 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-07 04:34:00.121 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/publishing_node1_2026-02-07_04-34-00__23baceac-adef-4e99-898d-8cd1dea4f519__wakuorg_nwaku:latest.log
2026-02-07 04:34:00.121 DEBUG [src.node.waku_node] Starting Node...
2026-02-07 04:34:00.121 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-07 04:34:00.122 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-07 04:34:00.122 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.204.50
2026-02-07 04:34:00.123 DEBUG [src.node.docker_mananger] Generated ports ['10432', '10433', '10434', '10435', '10436']
2026-02-07 04:34:00.123 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-07 04:34:00.123 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-07 04:34:00.123 DEBUG [src.node.waku_node] Using volumes []
2026-02-07 04:34:00.123 DEBUG [src.node.docker_mananger] docker run -i -t -p 10432:10432 -p 10433:10433 -p 10434:10434 -p 10435:10435 -p 10436:10436 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=10434 --rest-port=10432 --tcp-port=10433 --discv5-udp-port=10435 --rest-address=0.0.0.0 --nat=extip:172.18.204.50 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=dabf04cd4f78ecfce9dbb4cb72fc4a67ec7a6a6cc3fffeecc2d5b79753fcf1ca --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=10436 --metrics-logging=true --store=true --relay=true
2026-02-07 04:34:00.308 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.204.50 waku a6f12fbcbf30116b7b9e93b62e758d2a7eeccb934e06f72fb9c54eb6ec0717ea
2026-02-07 04:34:00.342 DEBUG [src.node.docker_mananger] Container started with ID a6f12fbcbf30. Setting up logs at ./log/docker/publishing_node1_2026-02-07_04-34-00__23baceac-adef-4e99-898d-8cd1dea4f519__wakuorg_nwaku:latest.log
2026-02-07 04:34:00.342 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 10432
2026-02-07 04:34:00.344 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-07 04:34:00.375 ERROR [src.node.docker_mananger] Max retries reached for container 64d8d6e2c3e8. Exiting log stream.
2026-02-07 04:34:00.916 ERROR [src.node.docker_mananger] Max retries reached for container e1a77df157fc. Exiting log stream.
2026-02-07 04:34:01.345 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10432/health" -H "Content-Type: application/json" -d 'None'
2026-02-07 04:34:01.348 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"READY"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"READY"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-07 04:34:01.348 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-07 04:34:01.348 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10432/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-07 04:34:01.351 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.204.50/tcp/10433/p2p/16Uiu2HAmLSNp6YGmiiv1D8BmReeGqDbZupUtTZaMAnz38tYwdXe3","/ip4/172.18.204.50/tcp/10434/ws/p2p/16Uiu2HAmLSNp6YGmiiv1D8BmReeGqDbZupUtTZaMAnz38tYwdXe3"],"enrUri":"enr:-L24QKwtsAL3Z51cfreUcbwAS_NaX4M_tQpV5PwamR8kVi_nN2wvxC81YYSzg_3xDUqumyzOASQT6DPoqUdu3eAOyIMCgmlkgnY0gmlwhKwSzDKKbXVsdGlhZGRyc5YACASsEswyBijBAAoErBLMMgYowt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDc6JXzEd-NmP1tWfEob6_CSfLFajiFefNtXNYAQHokDyDdGNwgijBg3VkcIIow4V3YWt1MgM"}'
2026-02-07 04:34:01.351 INFO [src.node.waku_node] REST service is ready !!
2026-02-07 04:34:01.358 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-07 04:34:01.358 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/store_node1_2026-02-07_04-34-00__23baceac-adef-4e99-898d-8cd1dea4f519__wakuorg_nwaku:latest.log
2026-02-07 04:34:01.358 DEBUG [src.node.waku_node] Starting Node...
2026-02-07 04:34:01.358 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-07 04:34:01.360 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-07 04:34:01.360 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.121.251
2026-02-07 04:34:01.360 DEBUG [src.node.docker_mananger] Generated ports ['54311', '54312', '54313', '54314', '54315']
2026-02-07 04:34:01.360 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-07 04:34:01.360 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-07 04:34:01.360 DEBUG [src.node.waku_node] Using volumes []
2026-02-07 04:34:01.360 DEBUG [src.node.docker_mananger] docker run -i -t -p 54311:54311 -p 54312:54312 -p 54313:54313 -p 54314:54314 -p 54315:54315 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=54313 --rest-port=54311 --tcp-port=54312 --discv5-udp-port=54314 --rest-address=0.0.0.0 --nat=extip:172.18.121.251 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=dbd9ead957792f8df152bec267f77f0e46efeeaeef34dfc20e85ab4dc6e8bdbf --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=54315 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QKwtsAL3Z51cfreUcbwAS_NaX4M_tQpV5PwamR8kVi_nN2wvxC81YYSzg_3xDUqumyzOASQT6DPoqUdu3eAOyIMCgmlkgnY0gmlwhKwSzDKKbXVsdGlhZGRyc5YACASsEswyBijBAAoErBLMMgYowt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDc6JXzEd-NmP1tWfEob6_CSfLFajiFefNtXNYAQHokDyDdGNwgijBg3VkcIIow4V3YWt1MgM --storenode=/ip4/172.18.204.50/tcp/10433/p2p/16Uiu2HAmLSNp6YGmiiv1D8BmReeGqDbZupUtTZaMAnz38tYwdXe3 --store=true --relay=true
2026-02-07 04:34:01.543 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.121.251 waku 4a9ab02c731d3bdfc72ce7c62b3cb496e1d5b4513cca1252a4ebf4ea5e2395d6
2026-02-07 04:34:01.577 DEBUG [src.node.docker_mananger] Container started with ID 4a9ab02c731d. Setting up logs at ./log/docker/store_node1_2026-02-07_04-34-00__23baceac-adef-4e99-898d-8cd1dea4f519__wakuorg_nwaku:latest.log
2026-02-07 04:34:01.578 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 54311
2026-02-07 04:34:01.578 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-07 04:34:02.578 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:54311/health" -H "Content-Type: application/json" -d 'None'
2026-02-07 04:34:02.583 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"READY"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"READY"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"READY"},{"Legacy Store Client":"READY"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-07 04:34:02.583 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-07 04:34:02.583 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:54311/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-07 04:34:02.585 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.121.251/tcp/54312/p2p/16Uiu2HAmMpf26SP1p56phMBffZXfeBWX7P3VAnPjY3tPhMnwH1YD","/ip4/172.18.121.251/tcp/54313/ws/p2p/16Uiu2HAmMpf26SP1p56phMBffZXfeBWX7P3VAnPjY3tPhMnwH1YD"],"enrUri":"enr:-L24QAm2t0R1Xg1Hbt7rOIdBgDKoNV8GOr0tRtZtH6XuY0DoD1DATH9QTVW_ie9WCVlHEnwwiHrGSkFGxoNpJvxl6n8CgmlkgnY0gmlwhKwSefuKbXVsdGlhZGRyc5YACASsEnn7BtQoAAoErBJ5-wbUKd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDiDMiAmSWwqkPq8heVqrYIzaE5OSFKtqzKBQcTI-FnRKDdGNwgtQog3VkcILUKoV3YWt1MgM"}'
2026-02-07 04:34:02.585 INFO [src.node.waku_node] REST service is ready !!
2026-02-07 04:34:02.586 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:54311/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.204.50/tcp/10433/p2p/16Uiu2HAmLSNp6YGmiiv1D8BmReeGqDbZupUtTZaMAnz38tYwdXe3"]'
2026-02-07 04:34:02.588 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-07 04:34:02.589 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:10432/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-07 04:34:02.591 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-07 04:34:02.591 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:54311/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-07 04:34:02.593 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-07 04:34:02.594 DEBUG [src.steps.store] Relaying message
2026-02-07 04:34:02.594 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:10432/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-07 04:34:02.599 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-07 04:34:02.599 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-07 04:34:02.800 DEBUG [src.steps.store] Relaying message
2026-02-07 04:34:02.800 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:10432/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2026-02-07 04:34:02.805 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-07 04:34:02.805 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-07 04:34:03.006 DEBUG [src.steps.store] Relaying message
2026-02-07 04:34:03.007 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:10432/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-02-07 04:34:03.012 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-07 04:34:03.012 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-07 04:34:03.213 DEBUG [src.steps.store] Relaying message
2026-02-07 04:34:03.214 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:10432/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2026-02-07 04:34:03.220 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-07 04:34:03.220 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-07 04:34:03.422 DEBUG [src.steps.store] Relaying message
2026-02-07 04:34:03.422 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:10432/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2026-02-07 04:34:03.427 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-07 04:34:03.428 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-07 04:34:03.628 DEBUG [src.steps.store] Relaying message
2026-02-07 04:34:03.629 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:10432/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-02-07 04:34:03.634 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-07 04:34:03.634 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-07 04:34:03.834 DEBUG [src.steps.store] Relaying message
2026-02-07 04:34:03.835 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:10432/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-02-07 04:34:03.841 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-07 04:34:03.842 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-07 04:34:04.043 DEBUG [src.steps.store] Relaying message
2026-02-07 04:34:04.043 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:10432/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-02-07 04:34:04.048 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-07 04:34:04.048 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-07 04:34:04.369 DEBUG [tests.store.test_topics] Trying to get stored msg with url topic size million 
2026-02-07 04:34:04.369 DEBUG [src.steps.store] Relaying message
2026-02-07 04:34:04.369 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:10432/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-07 04:34:04.374 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-07 04:34:04.375 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-07 04:34:04.576 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2026-02-07 04:34:04.794 INFO [src.node.api_clients.base_client] Log line was discarded because it's longer than max_log_line_length=5000
2026-02-07 04:34:09.972 ERROR [src.node.api_clients.base_client] Log line was discarded because it's longer than max_log_line_length=5000
2026-02-07 04:34:09.976 ERROR [tests.store.test_topics] store request with very long pubsub topic wasn't accepted 
2026-02-07 04:34:09.979 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-02-07 04:34:09.980 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-02-07 04:34:09.980 DEBUG [src.node.waku_node] Stopping container with id a6f12fbcbf30
2026-02-07 04:34:10.548 DEBUG [src.node.waku_node] Container stopped.
2026-02-07 04:34:10.549 DEBUG [src.node.waku_node] Stopping container with id 4a9ab02c731d
2026-02-07 04:34:11.179 DEBUG [src.node.waku_node] Container stopped.
2026-02-07 04:34:11.181 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-02-07 04:34:11.188 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-07 04:34:11.196 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
