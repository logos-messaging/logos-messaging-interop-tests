2026-02-07 04:32:45.475 DEBUG [tests.conftest] Running fixture setup: test_id
2026-02-07 04:32:45.475 DEBUG [tests.conftest] Running test: test_relay_unsubscribe_with_invalid_pubsub_topic_format with id: 2026-02-07_04-32-45__aff01598-d3c3-4e92-8164-2624fa0d77d9
2026-02-07 04:32:45.476 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-02-07 04:32:45.477 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2026-02-07 04:32:45.477 DEBUG [src.steps.relay] Running fixture setup: setup_main_relay_nodes
2026-02-07 04:32:45.487 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-07 04:32:45.487 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2026-02-07_04-32-45__aff01598-d3c3-4e92-8164-2624fa0d77d9__wakuorg_nwaku:latest.log
2026-02-07 04:32:45.487 DEBUG [src.node.waku_node] Starting Node...
2026-02-07 04:32:45.487 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-07 04:32:45.491 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-07 04:32:45.491 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.247.66
2026-02-07 04:32:45.492 DEBUG [src.node.docker_mananger] Generated ports ['35643', '35644', '35645', '35646', '35647']
2026-02-07 04:32:45.492 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-07 04:32:45.492 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-07 04:32:45.492 DEBUG [src.node.waku_node] Using volumes []
2026-02-07 04:32:45.492 DEBUG [src.node.docker_mananger] docker run -i -t -p 35643:35643 -p 35644:35644 -p 35645:35645 -p 35646:35646 -p 35647:35647 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=35645 --rest-port=35643 --tcp-port=35644 --discv5-udp-port=35646 --rest-address=0.0.0.0 --nat=extip:172.18.247.66 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b0ff96dfb8dfbcefcf7b9a6295e57ded33ef8d60b4cb7efb2d1fd1afa38c8ae3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=35647 --metrics-logging=true --relay=true
2026-02-07 04:32:45.673 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.247.66 waku 9b622af12e56087c8823b1c32d0265a8e148f1009716317e16a2cea2dc753c87
2026-02-07 04:32:45.704 DEBUG [src.node.docker_mananger] Container started with ID 9b622af12e56. Setting up logs at ./log/docker/node1_2026-02-07_04-32-45__aff01598-d3c3-4e92-8164-2624fa0d77d9__wakuorg_nwaku:latest.log
2026-02-07 04:32:45.704 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 35643
2026-02-07 04:32:45.705 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-07 04:32:45.724 ERROR [src.node.docker_mananger] Max retries reached for container 10386461408e. Exiting log stream.
2026-02-07 04:32:46.299 ERROR [src.node.docker_mananger] Max retries reached for container eb3b66084514. Exiting log stream.
2026-02-07 04:32:46.705 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:35643/health" -H "Content-Type: application/json" -d 'None'
2026-02-07 04:32:46.709 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-07 04:32:46.709 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-07 04:32:46.709 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:35643/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-07 04:32:46.711 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.247.66/tcp/35644/p2p/16Uiu2HAmLbRqGigmHocrQw5dTrBNe1h2PLKmQRU81RkFFu5RXVLm","/ip4/172.18.247.66/tcp/35645/ws/p2p/16Uiu2HAmLbRqGigmHocrQw5dTrBNe1h2PLKmQRU81RkFFu5RXVLm"],"enrUri":"enr:-L24QJKxZE2Vh0hDR5zu6cKav8JHo0qyWvDL8PukQZFNQz3HNCLW2CGvdx2DIBUoapkO-P-FVlYXAMCrMXIaSZGDM2gCgmlkgnY0gmlwhKwS90KKbXVsdGlhZGRyc5YACASsEvdCBos8AAoErBL3QgaLPd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDdfP8OqLqTahC42gk7fSl4Elbb_9JZuRiE8JlJCnKaRqDdGNwgos8g3VkcIKLPoV3YWt1MgE"}'
2026-02-07 04:32:46.712 INFO [src.node.waku_node] REST service is ready !!
2026-02-07 04:32:46.718 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-07 04:32:46.718 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2026-02-07_04-32-45__aff01598-d3c3-4e92-8164-2624fa0d77d9__wakuorg_nwaku:latest.log
2026-02-07 04:32:46.718 DEBUG [src.node.waku_node] Starting Node...
2026-02-07 04:32:46.718 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-07 04:32:46.720 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-07 04:32:46.720 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.179.220
2026-02-07 04:32:46.720 DEBUG [src.node.docker_mananger] Generated ports ['18738', '18739', '18740', '18741', '18742']
2026-02-07 04:32:46.720 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-07 04:32:46.720 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-07 04:32:46.721 DEBUG [src.node.waku_node] Using volumes []
2026-02-07 04:32:46.721 DEBUG [src.node.docker_mananger] docker run -i -t -p 18738:18738 -p 18739:18739 -p 18740:18740 -p 18741:18741 -p 18742:18742 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=18740 --rest-port=18738 --tcp-port=18739 --discv5-udp-port=18741 --rest-address=0.0.0.0 --nat=extip:172.18.179.220 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b0f8f9f33f903d0bdb27f2c71cb68f805a1a5deaa7daee387ea9ab45e8fcaade --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=18742 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QJKxZE2Vh0hDR5zu6cKav8JHo0qyWvDL8PukQZFNQz3HNCLW2CGvdx2DIBUoapkO-P-FVlYXAMCrMXIaSZGDM2gCgmlkgnY0gmlwhKwS90KKbXVsdGlhZGRyc5YACASsEvdCBos8AAoErBL3QgaLPd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDdfP8OqLqTahC42gk7fSl4Elbb_9JZuRiE8JlJCnKaRqDdGNwgos8g3VkcIKLPoV3YWt1MgE
2026-02-07 04:32:46.917 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.179.220 waku 12ba9a8ba945016a29e65084a250979c375cb6703f1cf5489fcd7016a931d0f3
2026-02-07 04:32:46.950 DEBUG [src.node.docker_mananger] Container started with ID 12ba9a8ba945. Setting up logs at ./log/docker/node2_2026-02-07_04-32-45__aff01598-d3c3-4e92-8164-2624fa0d77d9__wakuorg_nwaku:latest.log
2026-02-07 04:32:46.951 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 18738
2026-02-07 04:32:46.951 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-07 04:32:47.951 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18738/health" -H "Content-Type: application/json" -d 'None'
2026-02-07 04:32:47.962 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-07 04:32:47.963 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-07 04:32:47.963 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18738/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-07 04:32:47.967 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.179.220/tcp/18739/p2p/16Uiu2HAm2ovRbc33wfVNwW8C4ZUtFV6xUTj6RxdWxUvQUX65VTT7","/ip4/172.18.179.220/tcp/18740/ws/p2p/16Uiu2HAm2ovRbc33wfVNwW8C4ZUtFV6xUTj6RxdWxUvQUX65VTT7"],"enrUri":"enr:-L24QMTa64LHR9ub63RdPZWmHpu5yHoTH2Wx_rEw5ksqYUqNJJHuUPYTdWp9B6n3ju_BvlwjS2ZXBgjcJGYU9h5BMPkCgmlkgnY0gmlwhKwSs9yKbXVsdGlhZGRyc5YACASsErPcBkkzAAoErBKz3AZJNN0DgnJzhQADAQAAiXNlY3AyNTZrMaECbbTrT1OkREGe3c1_0BNkiCzi6bSwZ7mTra6_tugHnFKDdGNwgkkzg3VkcIJJNYV3YWt1MgE"}'
2026-02-07 04:32:47.967 INFO [src.node.waku_node] REST service is ready !!
2026-02-07 04:32:47.968 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:18738/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.247.66/tcp/35644/p2p/16Uiu2HAmLbRqGigmHocrQw5dTrBNe1h2PLKmQRU81RkFFu5RXVLm"]'
2026-02-07 04:32:47.972 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-07 04:32:47.973 DEBUG [tests.relay.test_subscribe] Running test with payload /test/2/rs/0/1
2026-02-07 04:32:47.974 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:35643/relay/v1/subscriptions" -H "Content-Type: application/json" -d '"/test/2/rs/0/1"'
2026-02-07 04:32:47.976 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:35643/relay/v1/subscriptions. Response content: b'Invalid content body, could not decode: Unable to deserialize data: '
2026-02-07 04:32:47.977 DEBUG [tests.relay.test_subscribe] Running test with payload /waku/3/rs/0/1
2026-02-07 04:32:47.977 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:35643/relay/v1/subscriptions" -H "Content-Type: application/json" -d '"/waku/3/rs/0/1"'
2026-02-07 04:32:47.980 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:35643/relay/v1/subscriptions. Response content: b'Invalid content body, could not decode: Unable to deserialize data: '
2026-02-07 04:32:47.980 DEBUG [tests.relay.test_subscribe] Running test with payload /waku/2/test/0/1
2026-02-07 04:32:47.981 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:35643/relay/v1/subscriptions" -H "Content-Type: application/json" -d '"/waku/2/test/0/1"'
2026-02-07 04:32:47.983 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:35643/relay/v1/subscriptions. Response content: b'Invalid content body, could not decode: Unable to deserialize data: '
2026-02-07 04:32:47.984 DEBUG [tests.relay.test_subscribe] Running test with payload /waku/2/rs/3/b
2026-02-07 04:32:47.984 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:35643/relay/v1/subscriptions" -H "Content-Type: application/json" -d '"/waku/2/rs/3/b"'
2026-02-07 04:32:47.986 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:35643/relay/v1/subscriptions. Response content: b'Invalid content body, could not decode: Unable to deserialize data: '
2026-02-07 04:32:47.987 DEBUG [tests.relay.test_subscribe] Running test with payload /waku/2/rs/0
2026-02-07 04:32:47.987 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:35643/relay/v1/subscriptions" -H "Content-Type: application/json" -d '"/waku/2/rs/0"'
2026-02-07 04:32:47.989 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:35643/relay/v1/subscriptions. Response content: b'Invalid content body, could not decode: Unable to deserialize data: '
2026-02-07 04:32:47.991 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-02-07 04:32:47.992 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-02-07 04:32:47.992 DEBUG [src.node.waku_node] Stopping container with id 9b622af12e56
2026-02-07 04:32:48.585 DEBUG [src.node.waku_node] Container stopped.
2026-02-07 04:32:48.585 DEBUG [src.node.waku_node] Stopping container with id 12ba9a8ba945
2026-02-07 04:32:49.136 DEBUG [src.node.waku_node] Container stopped.
2026-02-07 04:32:49.139 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-02-07 04:32:49.143 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-07 04:32:49.147 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
