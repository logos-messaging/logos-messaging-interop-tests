2026-02-04 04:34:15.541 DEBUG [tests.conftest] Running fixture setup: test_id
2026-02-04 04:34:15.541 DEBUG [tests.conftest] Running test: test_store_without_pubsub_topic_and_content_topic with id: 2026-02-04_04-34-15__43d6a7f0-2d3a-4087-8ed3-fc257fe05002
2026-02-04 04:34:15.541 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-02-04 04:34:15.541 DEBUG [src.steps.store] Running fixture setup: store_setup
2026-02-04 04:34:15.542 DEBUG [src.steps.store] Running fixture setup: node_setup
2026-02-04 04:34:15.548 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-04 04:34:15.548 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/publishing_node1_2026-02-04_04-34-15__43d6a7f0-2d3a-4087-8ed3-fc257fe05002__wakuorg_nwaku:latest.log
2026-02-04 04:34:15.548 DEBUG [src.node.waku_node] Starting Node...
2026-02-04 04:34:15.548 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-04 04:34:15.550 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-04 04:34:15.550 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.51.219
2026-02-04 04:34:15.550 DEBUG [src.node.docker_mananger] Generated ports ['42884', '42885', '42886', '42887', '42888']
2026-02-04 04:34:15.550 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-04 04:34:15.550 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-04 04:34:15.550 DEBUG [src.node.waku_node] Using volumes []
2026-02-04 04:34:15.550 DEBUG [src.node.docker_mananger] docker run -i -t -p 42884:42884 -p 42885:42885 -p 42886:42886 -p 42887:42887 -p 42888:42888 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=42886 --rest-port=42884 --tcp-port=42885 --discv5-udp-port=42887 --rest-address=0.0.0.0 --nat=extip:172.18.51.219 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ae2ad22ed5353ffb7c80a7bc4bf5ad616dd2bee1de480d89eef3b4dfff5c8611 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=42888 --metrics-logging=true --store=true --relay=true
2026-02-04 04:34:15.701 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.51.219 waku b6b377f7c610b4ef3b897a6cb3605b22704f6e1fcbd7e02bc81e354efdd95048
2026-02-04 04:34:15.730 DEBUG [src.node.docker_mananger] Container started with ID b6b377f7c610. Setting up logs at ./log/docker/publishing_node1_2026-02-04_04-34-15__43d6a7f0-2d3a-4087-8ed3-fc257fe05002__wakuorg_nwaku:latest.log
2026-02-04 04:34:15.731 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 42884
2026-02-04 04:34:15.732 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-04 04:34:15.825 ERROR [src.node.docker_mananger] Max retries reached for container 934ffe7d24ea. Exiting log stream.
2026-02-04 04:34:16.348 ERROR [src.node.docker_mananger] Max retries reached for container ae807843f8a2. Exiting log stream.
2026-02-04 04:34:16.733 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42884/health" -H "Content-Type: application/json" -d 'None'
2026-02-04 04:34:16.736 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"READY"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"READY"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-04 04:34:16.736 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-04 04:34:16.737 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42884/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-04 04:34:16.739 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.51.219/tcp/42885/p2p/16Uiu2HAmTMQL9CxmM3LJof4KdBWyskH3Jb5qPwTjc7ygdJBtzQzY","/ip4/172.18.51.219/tcp/42886/ws/p2p/16Uiu2HAmTMQL9CxmM3LJof4KdBWyskH3Jb5qPwTjc7ygdJBtzQzY"],"enrUri":"enr:-L24QHYPFX7ZfRJ3o6RhLn5t5Bvw6GMk1AC-_5gjzq_fnrgjAxfterZPUArz1c5uBKliT5j4t5-NyGFRo0JvQDJPqX4CgmlkgnY0gmlwhKwSM9uKbXVsdGlhZGRyc5YACASsEjPbBqeFAAoErBIz2wanht0DgnJzhQADAQAAiXNlY3AyNTZrMaED2l32vqdNW51SxVoqy8KLu5SXKjxjALurMqi-Bo2S692DdGNwgqeFg3VkcIKnh4V3YWt1MgM"}'
2026-02-04 04:34:16.739 INFO [src.node.waku_node] REST service is ready !!
2026-02-04 04:34:16.746 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-04 04:34:16.746 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/store_node1_2026-02-04_04-34-15__43d6a7f0-2d3a-4087-8ed3-fc257fe05002__wakuorg_nwaku:latest.log
2026-02-04 04:34:16.746 DEBUG [src.node.waku_node] Starting Node...
2026-02-04 04:34:16.746 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-04 04:34:16.747 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-04 04:34:16.747 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.50.157
2026-02-04 04:34:16.748 DEBUG [src.node.docker_mananger] Generated ports ['53327', '53328', '53329', '53330', '53331']
2026-02-04 04:34:16.748 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-04 04:34:16.748 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-04 04:34:16.748 DEBUG [src.node.waku_node] Using volumes []
2026-02-04 04:34:16.748 DEBUG [src.node.docker_mananger] docker run -i -t -p 53327:53327 -p 53328:53328 -p 53329:53329 -p 53330:53330 -p 53331:53331 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=53329 --rest-port=53327 --tcp-port=53328 --discv5-udp-port=53330 --rest-address=0.0.0.0 --nat=extip:172.18.50.157 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=41dcbeadf05dd50a6edb7fede91bed8b5837be2f4b221eec7ccb9af2a9b9ee99 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=53331 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QHYPFX7ZfRJ3o6RhLn5t5Bvw6GMk1AC-_5gjzq_fnrgjAxfterZPUArz1c5uBKliT5j4t5-NyGFRo0JvQDJPqX4CgmlkgnY0gmlwhKwSM9uKbXVsdGlhZGRyc5YACASsEjPbBqeFAAoErBIz2wanht0DgnJzhQADAQAAiXNlY3AyNTZrMaED2l32vqdNW51SxVoqy8KLu5SXKjxjALurMqi-Bo2S692DdGNwgqeFg3VkcIKnh4V3YWt1MgM --storenode=/ip4/172.18.51.219/tcp/42885/p2p/16Uiu2HAmTMQL9CxmM3LJof4KdBWyskH3Jb5qPwTjc7ygdJBtzQzY --store=true --relay=true
2026-02-04 04:34:16.905 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.50.157 waku 2cb47f96ea6330d98ad64294d64775fb810818ee069beff01449a36bf31c657d
2026-02-04 04:34:16.931 DEBUG [src.node.docker_mananger] Container started with ID 2cb47f96ea63. Setting up logs at ./log/docker/store_node1_2026-02-04_04-34-15__43d6a7f0-2d3a-4087-8ed3-fc257fe05002__wakuorg_nwaku:latest.log
2026-02-04 04:34:16.932 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 53327
2026-02-04 04:34:16.932 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-04 04:34:17.932 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:53327/health" -H "Content-Type: application/json" -d 'None'
2026-02-04 04:34:17.936 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"READY"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"READY"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"READY"},{"Legacy Store Client":"READY"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-04 04:34:17.937 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-04 04:34:17.937 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:53327/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-04 04:34:17.939 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.50.157/tcp/53328/p2p/16Uiu2HAmET1AaPHsXG8fwXozCSSjxZWBnc5DXwYm5CcCiBwuVBmV","/ip4/172.18.50.157/tcp/53329/ws/p2p/16Uiu2HAmET1AaPHsXG8fwXozCSSjxZWBnc5DXwYm5CcCiBwuVBmV"],"enrUri":"enr:-L24QNga8Zgj3sQIkO8wCbhiPs8E1LoTB-UdxZC7ihMxMsklINHr7AM-R3Hoaf0bk1OWqA8kakiQgzyi1xpuNc9AVl8CgmlkgnY0gmlwhKwSMp2KbXVsdGlhZGRyc5YACASsEjKdBtBQAAoErBIynQbQUd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDGqVTdAzYI-ydNDpsfrxrOlwtJAbMf3uRbAqIHA_tEtyDdGNwgtBQg3VkcILQUoV3YWt1MgM"}'
2026-02-04 04:34:17.940 INFO [src.node.waku_node] REST service is ready !!
2026-02-04 04:34:17.940 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:53327/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.51.219/tcp/42885/p2p/16Uiu2HAmTMQL9CxmM3LJof4KdBWyskH3Jb5qPwTjc7ygdJBtzQzY"]'
2026-02-04 04:34:17.943 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 04:34:17.943 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:42884/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-04 04:34:17.945 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 04:34:17.945 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:53327/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-04 04:34:17.947 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 04:34:17.948 DEBUG [src.steps.store] Relaying message
2026-02-04 04:34:17.948 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:42884/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-04 04:34:17.953 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 04:34:17.953 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-04 04:34:18.154 DEBUG [src.steps.store] Relaying message
2026-02-04 04:34:18.154 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:42884/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2026-02-04 04:34:18.159 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 04:34:18.160 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-04 04:34:18.361 DEBUG [src.steps.store] Relaying message
2026-02-04 04:34:18.361 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:42884/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-02-04 04:34:18.366 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 04:34:18.366 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-04 04:34:18.568 DEBUG [src.steps.store] Relaying message
2026-02-04 04:34:18.568 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:42884/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2026-02-04 04:34:18.574 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 04:34:18.574 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-04 04:34:18.775 DEBUG [src.steps.store] Relaying message
2026-02-04 04:34:18.775 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:42884/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2026-02-04 04:34:18.780 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 04:34:18.780 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-04 04:34:18.981 DEBUG [src.steps.store] Relaying message
2026-02-04 04:34:18.981 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:42884/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-02-04 04:34:18.987 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 04:34:18.988 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-04 04:34:19.189 DEBUG [src.steps.store] Relaying message
2026-02-04 04:34:19.189 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:42884/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-02-04 04:34:19.195 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 04:34:19.195 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-04 04:34:19.396 DEBUG [src.steps.store] Relaying message
2026-02-04 04:34:19.396 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:42884/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-02-04 04:34:19.402 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 04:34:19.403 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-04 04:34:19.604 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42884/store/v3/messages?pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
2026-02-04 04:34:19.607 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x0ba0ebb5ff34b114b30c8574ff85a77ec3a0d7b3af0a63ad1ab9c64b2eb6a427"},{"messageHash":"0x7d67c74a05f226b49b5762adea63c6b75dcd7557fb52a3baf471a30ad4818991"},{"messageHash":"0xb88be61f7e90bb481c270c592047c7734a587453b696731f0270f1a4a50abf7f"},{"messageHash":"0xe4e457ca246a958341dca719688aa3b28f20a746eeab01198261656c19ff0ce8"},{"messageHash":"0x4f1c02eea711e469ad8ce81aa619b891be260c888cfbf7b8051dfefae9817767"},{"messageHash":"0x7ef0972c9620dab0e082ba78fe12eafe92cf4e4f2f06af74b80a61ded3d84240"},{"messageHash":"0x6880884281a12f02c12751edac6cc3e5f89d2e6df8c413b1d8a652e9b37a38c4"},{"messageHash":"0xbed342632fcdcf041c0884c4eb527f79fc816e0257610f60cfe63709145ea4ce"}]}'
2026-02-04 04:34:19.607 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:53327/store/v3/messages?pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
2026-02-04 04:34:19.610 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x0ba0ebb5ff34b114b30c8574ff85a77ec3a0d7b3af0a63ad1ab9c64b2eb6a427"},{"messageHash":"0x7d67c74a05f226b49b5762adea63c6b75dcd7557fb52a3baf471a30ad4818991"},{"messageHash":"0xb88be61f7e90bb481c270c592047c7734a587453b696731f0270f1a4a50abf7f"},{"messageHash":"0xe4e457ca246a958341dca719688aa3b28f20a746eeab01198261656c19ff0ce8"},{"messageHash":"0x4f1c02eea711e469ad8ce81aa619b891be260c888cfbf7b8051dfefae9817767"},{"messageHash":"0x7ef0972c9620dab0e082ba78fe12eafe92cf4e4f2f06af74b80a61ded3d84240"},{"messageHash":"0x6880884281a12f02c12751edac6cc3e5f89d2e6df8c413b1d8a652e9b37a38c4"},{"messageHash":"0xbed342632fcdcf041c0884c4eb527f79fc816e0257610f60cfe63709145ea4ce"}]}'
2026-02-04 04:34:19.613 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-02-04 04:34:19.614 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-02-04 04:34:19.614 DEBUG [src.node.waku_node] Stopping container with id b6b377f7c610
2026-02-04 04:34:20.114 DEBUG [src.node.waku_node] Container stopped.
2026-02-04 04:34:20.114 DEBUG [src.node.waku_node] Stopping container with id 2cb47f96ea63
2026-02-04 04:34:20.631 DEBUG [src.node.waku_node] Container stopped.
2026-02-04 04:34:20.632 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-02-04 04:34:20.639 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-04 04:34:20.647 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
