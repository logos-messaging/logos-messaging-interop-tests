2026-02-04 04:32:05.224 DEBUG [tests.conftest] Running fixture setup: test_id
2026-02-04 04:32:05.224 DEBUG [tests.conftest] Running test: test_filter_update_subscription_with_no_pubsub_topic with id: 2026-02-04_04-32-05__337763ba-0e39-45cc-b8e1-8e1e9ed57a72
2026-02-04 04:32:05.225 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-02-04 04:32:05.225 DEBUG [src.steps.filter] Running fixture setup: filter_setup
2026-02-04 04:32:05.225 DEBUG [src.steps.filter] Running fixture setup: setup_main_relay_node
2026-02-04 04:32:05.233 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-04 04:32:05.234 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2026-02-04_04-32-05__337763ba-0e39-45cc-b8e1-8e1e9ed57a72__wakuorg_nwaku:latest.log
2026-02-04 04:32:05.234 DEBUG [src.node.waku_node] Starting Node...
2026-02-04 04:32:05.234 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-04 04:32:05.235 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-04 04:32:05.235 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.234.219
2026-02-04 04:32:05.236 DEBUG [src.node.docker_mananger] Generated ports ['62421', '62422', '62423', '62424', '62425']
2026-02-04 04:32:05.236 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-04 04:32:05.236 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-04 04:32:05.236 DEBUG [src.node.waku_node] Using volumes []
2026-02-04 04:32:05.236 DEBUG [src.node.docker_mananger] docker run -i -t -p 62421:62421 -p 62422:62422 -p 62423:62423 -p 62424:62424 -p 62425:62425 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=62423 --rest-port=62421 --tcp-port=62422 --discv5-udp-port=62424 --rest-address=0.0.0.0 --nat=extip:172.18.234.219 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ca162cf77bd6d4ce1ca817f9aefbdee2c0bcb9fa8d3dbcde5e14bf0305d287dd --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=62425 --metrics-logging=true --relay=true --filter=true
2026-02-04 04:32:05.419 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.234.219 waku 187a7c6d1e681fc5355a1850ae6344e8da2a3ec5c5ee15dcb985722ee7c51042
2026-02-04 04:32:05.451 DEBUG [src.node.docker_mananger] Container started with ID 187a7c6d1e68. Setting up logs at ./log/docker/node1_2026-02-04_04-32-05__337763ba-0e39-45cc-b8e1-8e1e9ed57a72__wakuorg_nwaku:latest.log
2026-02-04 04:32:05.453 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 62421
2026-02-04 04:32:05.454 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-04 04:32:05.455 ERROR [src.node.docker_mananger] Max retries reached for container bb16f070b71e. Exiting log stream.
2026-02-04 04:32:06.018 ERROR [src.node.docker_mananger] Max retries reached for container 0c3c42a89487. Exiting log stream.
2026-02-04 04:32:06.455 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:62421/health" -H "Content-Type: application/json" -d 'None'
2026-02-04 04:32:06.458 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_READY","desc":"Relay is not ready, filter will not be able to sort out messages"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-04 04:32:06.459 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-04 04:32:06.459 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:62421/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-04 04:32:06.461 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.234.219/tcp/62422/p2p/16Uiu2HAmN1QGmiAB67zzygorTvegvbziJqerZBSVo8NkLVj7G7RQ","/ip4/172.18.234.219/tcp/62423/ws/p2p/16Uiu2HAmN1QGmiAB67zzygorTvegvbziJqerZBSVo8NkLVj7G7RQ"],"enrUri":"enr:-L24QLB79DGJVvlEAdei4iMmUgek93zTvzEMB7LUbxQ9ggNFIxlwvelyk5BeKdGX4TA9q6KUEaXIZ7ZZ-3ph3XBGkgQCgmlkgnY0gmlwhKwS6tuKbXVsdGlhZGRyc5YACASsEurbBvPWAAoErBLq2wbz190DgnJzhQADAQAAiXNlY3AyNTZrMaEDivPY6i31kxHBxbGjxLs0oFsPf-DktNAz03kr2CFWRteDdGNwgvPWg3VkcILz2IV3YWt1MgU"}'
2026-02-04 04:32:06.461 INFO [src.node.waku_node] REST service is ready !!
2026-02-04 04:32:06.462 DEBUG [src.steps.filter] Running fixture setup: setup_main_filter_node
2026-02-04 04:32:06.468 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-04 04:32:06.468 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2026-02-04_04-32-05__337763ba-0e39-45cc-b8e1-8e1e9ed57a72__wakuorg_nwaku:latest.log
2026-02-04 04:32:06.469 DEBUG [src.node.waku_node] Starting Node...
2026-02-04 04:32:06.469 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-04 04:32:06.470 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-04 04:32:06.470 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.101.247
2026-02-04 04:32:06.470 DEBUG [src.node.docker_mananger] Generated ports ['43328', '43329', '43330', '43331', '43332']
2026-02-04 04:32:06.471 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-04 04:32:06.471 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-04 04:32:06.471 DEBUG [src.node.waku_node] Using volumes []
2026-02-04 04:32:06.471 DEBUG [src.node.docker_mananger] docker run -i -t -p 43328:43328 -p 43329:43329 -p 43330:43330 -p 43331:43331 -p 43332:43332 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=43330 --rest-port=43328 --tcp-port=43329 --discv5-udp-port=43331 --rest-address=0.0.0.0 --nat=extip:172.18.101.247 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a8dbd4a32bc8a68efa86daa31e44efd4fbc00fade88fffb60e9aa219bc1d1c8a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=43332 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QLB79DGJVvlEAdei4iMmUgek93zTvzEMB7LUbxQ9ggNFIxlwvelyk5BeKdGX4TA9q6KUEaXIZ7ZZ-3ph3XBGkgQCgmlkgnY0gmlwhKwS6tuKbXVsdGlhZGRyc5YACASsEurbBvPWAAoErBLq2wbz190DgnJzhQADAQAAiXNlY3AyNTZrMaEDivPY6i31kxHBxbGjxLs0oFsPf-DktNAz03kr2CFWRteDdGNwgvPWg3VkcILz2IV3YWt1MgU --filternode=/ip4/172.18.234.219/tcp/62422/p2p/16Uiu2HAmN1QGmiAB67zzygorTvegvbziJqerZBSVo8NkLVj7G7RQ
2026-02-04 04:32:06.724 DEBUG [src.node.waku_node] Starting Node...
2026-02-04 04:32:06.725 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-04 04:32:06.726 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-04 04:32:06.726 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.201.236
2026-02-04 04:32:06.727 DEBUG [src.node.docker_mananger] Generated ports ['9879', '9880', '9881', '9882', '9883']
2026-02-04 04:32:06.727 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-04 04:32:06.727 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-04 04:32:06.727 DEBUG [src.node.waku_node] Using volumes []
2026-02-04 04:32:06.727 DEBUG [src.node.docker_mananger] docker run -i -t -p 9879:9879 -p 9880:9880 -p 9881:9881 -p 9882:9882 -p 9883:9883 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=9881 --rest-port=9879 --tcp-port=9880 --discv5-udp-port=9882 --rest-address=0.0.0.0 --nat=extip:172.18.201.236 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=debdfd253441e6d54bcd11ed98371ffaaafb6bd7abcf7eab5ae6efca99c3ffa8 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=9883 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QLB79DGJVvlEAdei4iMmUgek93zTvzEMB7LUbxQ9ggNFIxlwvelyk5BeKdGX4TA9q6KUEaXIZ7ZZ-3ph3XBGkgQCgmlkgnY0gmlwhKwS6tuKbXVsdGlhZGRyc5YACASsEurbBvPWAAoErBLq2wbz190DgnJzhQADAQAAiXNlY3AyNTZrMaEDivPY6i31kxHBxbGjxLs0oFsPf-DktNAz03kr2CFWRteDdGNwgvPWg3VkcILz2IV3YWt1MgU --filternode=/ip4/172.18.234.219/tcp/62422/p2p/16Uiu2HAmN1QGmiAB67zzygorTvegvbziJqerZBSVo8NkLVj7G7RQ
2026-02-04 04:32:06.918 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.201.236 waku df1e10d05190ca16cfa9331d686e879bfba2b8f1b7a2bc6d8d2414cd6c81e3f1
2026-02-04 04:32:06.949 DEBUG [src.node.docker_mananger] Container started with ID df1e10d05190. Setting up logs at ./log/docker/node2_2026-02-04_04-32-05__337763ba-0e39-45cc-b8e1-8e1e9ed57a72__wakuorg_nwaku:latest.log
2026-02-04 04:32:06.949 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 9879
2026-02-04 04:32:06.949 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-04 04:32:07.950 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:9879/health" -H "Content-Type: application/json" -d 'None'
2026-02-04 04:32:07.954 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_MOUNTED"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"READY"}]}'
2026-02-04 04:32:07.954 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-04 04:32:07.954 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:9879/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-04 04:32:07.957 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.201.236/tcp/9880/p2p/16Uiu2HAm5kwHp54f1377QKubXowr9VnoBF52sFGWfGRwNBXnfkwa","/ip4/172.18.201.236/tcp/9881/ws/p2p/16Uiu2HAm5kwHp54f1377QKubXowr9VnoBF52sFGWfGRwNBXnfkwa"],"enrUri":"enr:-L24QCjaYyrKscNFKoOO5J_ErI1mlR-IurBHQCchvBHWhh7gPxaSwqrQ-UviHSijlzEHtIX9PXFB8osS62d2YZjHGe0CgmlkgnY0gmlwhKwSyeyKbXVsdGlhZGRyc5YACASsEsnsBiaYAAoErBLJ7AYmmd0DgnJzhQADAQAAiXNlY3AyNTZrMaECmYQ3aklY7PY3h3qQvMW2FsSlH-4cp7YHLUfzktzANOmDdGNwgiaYg3VkcIImmoV3YWt1MgA"}'
2026-02-04 04:32:07.957 INFO [src.node.waku_node] REST service is ready !!
2026-02-04 04:32:07.957 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:9879/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.234.219/tcp/62422/p2p/16Uiu2HAmN1QGmiAB67zzygorTvegvbziJqerZBSVo8NkLVj7G7RQ"]'
2026-02-04 04:32:07.987 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 04:32:07.987 DEBUG [src.steps.filter] Running fixture setup: subscribe_main_nodes
2026-02-04 04:32:07.988 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:62421/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2026-02-04 04:32:08.003 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 04:32:08.004 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:9879/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "d49608f0-dd8f-4cb7-af06-2d68c0b38b4b", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
2026-02-04 04:32:08.016 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"d49608f0-dd8f-4cb7-af06-2d68c0b38b4b","statusDesc":"OK"}'
2026-02-04 04:32:08.017 INFO [src.node.api_clients.base_client] curl -v -X PUT "http://127.0.0.1:9879/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": ["/test/2/waku-filter/proto"]}'
2026-02-04 04:32:08.026 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"1","statusDesc":"OK"}'
2026-02-04 04:32:08.028 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-02-04 04:32:08.029 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-02-04 04:32:08.029 DEBUG [src.node.waku_node] Stopping container with id 187a7c6d1e68
2026-02-04 04:32:08.543 DEBUG [src.node.waku_node] Container stopped.
2026-02-04 04:32:08.543 DEBUG [src.node.waku_node] Stopping container with id df1e10d05190
2026-02-04 04:32:09.078 DEBUG [src.node.waku_node] Container stopped.
2026-02-04 04:32:09.081 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-02-04 04:32:09.086 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-04 04:32:09.090 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
