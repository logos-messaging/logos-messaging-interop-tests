2026-02-04 04:34:26.921 DEBUG [tests.conftest] Running fixture setup: test_id
2026-02-04 04:34:26.922 DEBUG [tests.conftest] Running test: test_light_push_with_missing_pubsub_topics with id: 2026-02-04_04-34-26__a8a5a2eb-943f-4edf-b4da-733c8b12be13
2026-02-04 04:34:26.922 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-02-04 04:34:26.922 DEBUG [src.steps.light_push] Running fixture setup: light_push_setup
2026-02-04 04:34:26.929 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-04 04:34:26.929 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node1_2026-02-04_04-34-26__a8a5a2eb-943f-4edf-b4da-733c8b12be13__wakuorg_nwaku:latest.log
2026-02-04 04:34:26.929 DEBUG [src.node.waku_node] Starting Node...
2026-02-04 04:34:26.929 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-04 04:34:26.931 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-04 04:34:26.931 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.218.210
2026-02-04 04:34:26.931 DEBUG [src.node.docker_mananger] Generated ports ['42185', '42186', '42187', '42188', '42189']
2026-02-04 04:34:26.931 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-04 04:34:26.931 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-04 04:34:26.932 DEBUG [src.node.waku_node] Using volumes []
2026-02-04 04:34:26.932 DEBUG [src.node.docker_mananger] docker run -i -t -p 42185:42185 -p 42186:42186 -p 42187:42187 -p 42188:42188 -p 42189:42189 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=42187 --rest-port=42185 --tcp-port=42186 --discv5-udp-port=42188 --rest-address=0.0.0.0 --nat=extip:172.18.218.210 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=aef5f6fbfc7b90b8c88c71ebef1fe52be74b1e7e7e5acded2e3fffb1cc7e4abe --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=42189 --metrics-logging=true --lightpush=true --relay=true
2026-02-04 04:34:27.096 ERROR [src.node.docker_mananger] Max retries reached for container f3b3ab2c58b5. Exiting log stream.
2026-02-04 04:34:27.109 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.218.210 waku 50d8c8204890d1b1d9663beaf9382de90bfae6bd3b0799aea96c90d3b4683f98
2026-02-04 04:34:27.143 DEBUG [src.node.docker_mananger] Container started with ID 50d8c8204890. Setting up logs at ./log/docker/receiving_node1_2026-02-04_04-34-26__a8a5a2eb-943f-4edf-b4da-733c8b12be13__wakuorg_nwaku:latest.log
2026-02-04 04:34:27.145 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 42185
2026-02-04 04:34:27.145 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-04 04:34:27.561 ERROR [src.node.docker_mananger] Max retries reached for container 6aa04eaea467. Exiting log stream.
2026-02-04 04:34:28.145 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42185/health" -H "Content-Type: application/json" -d 'None'
2026-02-04 04:34:28.148 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_READY","desc":"Node has no relay peers to fullfill push requests"},{"Legacy Lightpush":"NOT_READY","desc":"Node has no relay peers to fullfill push requests"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-04 04:34:28.148 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-04 04:34:28.148 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42185/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-04 04:34:28.151 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.218.210/tcp/42186/p2p/16Uiu2HAmGeaeoerMmcWVzWj2FwBNQdqYxLeDZN6suqrwtohJMiTC","/ip4/172.18.218.210/tcp/42187/ws/p2p/16Uiu2HAmGeaeoerMmcWVzWj2FwBNQdqYxLeDZN6suqrwtohJMiTC"],"enrUri":"enr:-L24QD-vHpU23dUBnc2fSJ_Kx6E8_jWSFme5Xy8cGhsXAXh-LgUE4ly0zbn6UT7ehU5MuZCYDQD0WwmcjS35pcyNqHkCgmlkgnY0gmlwhKwS2tKKbXVsdGlhZGRyc5YACASsEtrSBqTKAAoErBLa0gaky90DgnJzhQADAQAAiXNlY3AyNTZrMaEDO1PzyHfb04hPNRplEK542xiIE65zF7F9Y4N4pj6dEeODdGNwgqTKg3VkcIKkzIV3YWt1Mgk"}'
2026-02-04 04:34:28.151 INFO [src.node.waku_node] REST service is ready !!
2026-02-04 04:34:28.157 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-04 04:34:28.157 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node2_2026-02-04_04-34-26__a8a5a2eb-943f-4edf-b4da-733c8b12be13__wakuorg_nwaku:latest.log
2026-02-04 04:34:28.157 DEBUG [src.node.waku_node] Starting Node...
2026-02-04 04:34:28.158 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-04 04:34:28.159 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-04 04:34:28.159 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.246.137
2026-02-04 04:34:28.159 DEBUG [src.node.docker_mananger] Generated ports ['45909', '45910', '45911', '45912', '45913']
2026-02-04 04:34:28.159 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-04 04:34:28.159 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-04 04:34:28.160 DEBUG [src.node.waku_node] Using volumes []
2026-02-04 04:34:28.160 DEBUG [src.node.docker_mananger] docker run -i -t -p 45909:45909 -p 45910:45910 -p 45911:45911 -p 45912:45912 -p 45913:45913 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=45911 --rest-port=45909 --tcp-port=45910 --discv5-udp-port=45912 --rest-address=0.0.0.0 --nat=extip:172.18.246.137 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ce4fc2ffefde988ed26267ae9f18706e5dfadb972c5228bbdeea129b8f33df99 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=45913 --metrics-logging=true --lightpush=false --relay=true
2026-02-04 04:34:28.340 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.246.137 waku bf6144ef935ec9f7694fc143c9cf70c2f4ea33c918971d101585318b9d4b9606
2026-02-04 04:34:28.371 DEBUG [src.node.docker_mananger] Container started with ID bf6144ef935e. Setting up logs at ./log/docker/receiving_node2_2026-02-04_04-34-26__a8a5a2eb-943f-4edf-b4da-733c8b12be13__wakuorg_nwaku:latest.log
2026-02-04 04:34:28.371 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 45909
2026-02-04 04:34:28.371 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-04 04:34:29.371 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45909/health" -H "Content-Type: application/json" -d 'None'
2026-02-04 04:34:29.374 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-04 04:34:29.374 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-04 04:34:29.375 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45909/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-04 04:34:29.377 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.246.137/tcp/45910/p2p/16Uiu2HAmEgNbAwCRLw4DoQkn9KpMsTQGubruzeEdBNfAtqQwMtXB","/ip4/172.18.246.137/tcp/45911/ws/p2p/16Uiu2HAmEgNbAwCRLw4DoQkn9KpMsTQGubruzeEdBNfAtqQwMtXB"],"enrUri":"enr:-L24QN_IM6rwC6J_0cAKS5DrQphLpAYrdiqiU6wDxPvkA-HSHvEY-gLUpEH-oobK9_Fe1EMQ4z1f7h9tuhsmQMTFBpUCgmlkgnY0gmlwhKwS9omKbXVsdGlhZGRyc5YACASsEvaJBrNWAAoErBL2iQazV90DgnJzhQADAQAAiXNlY3AyNTZrMaEDHhIZzErTPM_9xrFJF1y0KV43YFYXi5CSCnBWnFgGj2KDdGNwgrNWg3VkcIKzWIV3YWt1MgE"}'
2026-02-04 04:34:29.377 INFO [src.node.waku_node] REST service is ready !!
2026-02-04 04:34:29.377 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45909/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.218.210/tcp/42186/p2p/16Uiu2HAmGeaeoerMmcWVzWj2FwBNQdqYxLeDZN6suqrwtohJMiTC"]'
2026-02-04 04:34:29.407 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 04:34:29.416 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-04 04:34:29.416 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/lightpush_node1_2026-02-04_04-34-26__a8a5a2eb-943f-4edf-b4da-733c8b12be13__wakuorg_nwaku:latest.log
2026-02-04 04:34:29.416 DEBUG [src.node.waku_node] Starting Node...
2026-02-04 04:34:29.416 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-04 04:34:29.418 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-04 04:34:29.418 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.184.132
2026-02-04 04:34:29.418 DEBUG [src.node.docker_mananger] Generated ports ['15349', '15350', '15351', '15352', '15353']
2026-02-04 04:34:29.418 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-04 04:34:29.418 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-04 04:34:29.419 DEBUG [src.node.waku_node] Using volumes []
2026-02-04 04:34:29.419 DEBUG [src.node.docker_mananger] docker run -i -t -p 15349:15349 -p 15350:15350 -p 15351:15351 -p 15352:15352 -p 15353:15353 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=15351 --rest-port=15349 --tcp-port=15350 --discv5-udp-port=15352 --rest-address=0.0.0.0 --nat=extip:172.18.184.132 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e63ea7bfab24aeb86b15357acdebff5f1e8f2b1b888ae162a6f2bf351bceab27 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=15353 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QD-vHpU23dUBnc2fSJ_Kx6E8_jWSFme5Xy8cGhsXAXh-LgUE4ly0zbn6UT7ehU5MuZCYDQD0WwmcjS35pcyNqHkCgmlkgnY0gmlwhKwS2tKKbXVsdGlhZGRyc5YACASsEtrSBqTKAAoErBLa0gaky90DgnJzhQADAQAAiXNlY3AyNTZrMaEDO1PzyHfb04hPNRplEK542xiIE65zF7F9Y4N4pj6dEeODdGNwgqTKg3VkcIKkzIV3YWt1Mgk --lightpushnode=/ip4/172.18.218.210/tcp/42186/p2p/16Uiu2HAmGeaeoerMmcWVzWj2FwBNQdqYxLeDZN6suqrwtohJMiTC --lightpush=true --relay=true
2026-02-04 04:34:29.600 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.184.132 waku 495875c08fdc174f50201d85ee2abd3a9d482a5a103601bec4a3c71b0a9bf4d6
2026-02-04 04:34:29.630 DEBUG [src.node.docker_mananger] Container started with ID 495875c08fdc. Setting up logs at ./log/docker/lightpush_node1_2026-02-04_04-34-26__a8a5a2eb-943f-4edf-b4da-733c8b12be13__wakuorg_nwaku:latest.log
2026-02-04 04:34:29.630 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 15349
2026-02-04 04:34:29.631 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-04 04:34:30.632 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15349/health" -H "Content-Type: application/json" -d 'None'
2026-02-04 04:34:30.641 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_READY","desc":"Node has no relay peers to fullfill push requests"},{"Legacy Lightpush":"NOT_READY","desc":"Node has no relay peers to fullfill push requests"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"READY"},{"Legacy Lightpush Client":"READY"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-04 04:34:30.643 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-04 04:34:30.644 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15349/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-04 04:34:30.659 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.184.132/tcp/15350/p2p/16Uiu2HAmKjdHAPUUJ5YXWy2EiKjcRW3oSe8doAJXqBkTjeoaAhJm","/ip4/172.18.184.132/tcp/15351/ws/p2p/16Uiu2HAmKjdHAPUUJ5YXWy2EiKjcRW3oSe8doAJXqBkTjeoaAhJm"],"enrUri":"enr:-L24QH3Xj3_vAhCVwHrCFTV81S-ypECKDkOyELOWZE8s-Zd1FKT_a6ZQYJRavB5nbAMOoxX0m8Ftb_v3f-TZhYByYsQCgmlkgnY0gmlwhKwSuISKbXVsdGlhZGRyc5YACASsEriEBjv2AAoErBK4hAY7990DgnJzhQADAQAAiXNlY3AyNTZrMaEDaTHjJb7qbuqRrBAaJ-zUAvjldE2T59-NX5BY3837zx6DdGNwgjv2g3VkcII7-IV3YWt1Mgk"}'
2026-02-04 04:34:30.661 INFO [src.node.waku_node] REST service is ready !!
2026-02-04 04:34:30.661 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:15349/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.218.210/tcp/42186/p2p/16Uiu2HAmGeaeoerMmcWVzWj2FwBNQdqYxLeDZN6suqrwtohJMiTC"]'
2026-02-04 04:34:30.669 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 04:34:30.670 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:15349/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.246.137/tcp/45910/p2p/16Uiu2HAmEgNbAwCRLw4DoQkn9KpMsTQGubruzeEdBNfAtqQwMtXB"]'
2026-02-04 04:34:30.692 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 04:34:30.693 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:42185/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-04 04:34:30.699 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 04:34:30.699 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45909/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-04 04:34:30.704 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 04:34:30.705 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:15349/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-04 04:34:30.710 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 04:34:30.712 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:15349/lightpush/v1/message" -H "Content-Type: application/json" -d '{"message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1770179670712160695}}'
2026-02-04 04:34:30.725 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 04:34:30.728 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-02-04 04:34:30.729 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-02-04 04:34:30.729 DEBUG [src.node.waku_node] Stopping container with id 50d8c8204890
2026-02-04 04:34:31.255 DEBUG [src.node.waku_node] Container stopped.
2026-02-04 04:34:31.255 DEBUG [src.node.waku_node] Stopping container with id bf6144ef935e
2026-02-04 04:34:31.784 DEBUG [src.node.waku_node] Container stopped.
2026-02-04 04:34:31.787 DEBUG [src.node.waku_node] Stopping container with id 495875c08fdc
2026-02-04 04:34:32.067 ERROR [src.node.docker_mananger] Max retries reached for container 50d8c8204890. Exiting log stream.
2026-02-04 04:34:32.275 DEBUG [src.node.waku_node] Container stopped.
2026-02-04 04:34:32.276 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-02-04 04:34:32.286 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-04 04:34:32.301 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-04 04:34:32.309 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
