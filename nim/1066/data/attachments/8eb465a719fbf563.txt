2026-02-03 04:37:36.432 DEBUG [tests.conftest] Running fixture setup: test_id
2026-02-03 04:37:36.433 DEBUG [tests.conftest] Running test: test_store_with_excessive_length_hash with id: 2026-02-03_04-37-36__5651533b-1a3c-4922-9adc-47d74b6809d6
2026-02-03 04:37:36.433 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-02-03 04:37:36.434 DEBUG [src.steps.store] Running fixture setup: store_setup
2026-02-03 04:37:36.434 DEBUG [src.steps.store] Running fixture setup: node_setup
2026-02-03 04:37:36.443 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-03 04:37:36.443 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/publishing_node1_2026-02-03_04-37-36__5651533b-1a3c-4922-9adc-47d74b6809d6__wakuorg_nwaku:latest.log
2026-02-03 04:37:36.443 DEBUG [src.node.waku_node] Starting Node...
2026-02-03 04:37:36.444 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-03 04:37:36.446 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-03 04:37:36.446 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.145.131
2026-02-03 04:37:36.446 DEBUG [src.node.docker_mananger] Generated ports ['50380', '50381', '50382', '50383', '50384']
2026-02-03 04:37:36.446 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-03 04:37:36.447 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-03 04:37:36.447 DEBUG [src.node.waku_node] Using volumes []
2026-02-03 04:37:36.447 DEBUG [src.node.docker_mananger] docker run -i -t -p 50380:50380 -p 50381:50381 -p 50382:50382 -p 50383:50383 -p 50384:50384 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=50382 --rest-port=50380 --tcp-port=50381 --discv5-udp-port=50383 --rest-address=0.0.0.0 --nat=extip:172.18.145.131 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=03fd8f3772e8baa227ced1fc0a94074c75aa63eb4ffe056d3abd8220e7ffbdbd --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=50384 --metrics-logging=true --store=true --relay=true
2026-02-03 04:37:36.636 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.145.131 waku a93f385abc3839aca778eb5f10d95628084512c7d321534f9d367ef4c02a9915
2026-02-03 04:37:36.668 DEBUG [src.node.docker_mananger] Container started with ID a93f385abc38. Setting up logs at ./log/docker/publishing_node1_2026-02-03_04-37-36__5651533b-1a3c-4922-9adc-47d74b6809d6__wakuorg_nwaku:latest.log
2026-02-03 04:37:36.669 ERROR [src.node.docker_mananger] Max retries reached for container cf589dc405ff. Exiting log stream.
2026-02-03 04:37:36.670 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 50380
2026-02-03 04:37:36.670 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-03 04:37:37.266 ERROR [src.node.docker_mananger] Max retries reached for container 11ecab9fb513. Exiting log stream.
2026-02-03 04:37:37.673 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50380/health" -H "Content-Type: application/json" -d 'None'
2026-02-03 04:37:37.676 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"READY"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"READY"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-03 04:37:37.676 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-03 04:37:37.677 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50380/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-03 04:37:37.679 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.145.131/tcp/50381/p2p/16Uiu2HAm51NUmieN5EpZCs2uqyTFq9XKWJj3MqSFdwKg1vrP4Uwy","/ip4/172.18.145.131/tcp/50382/ws/p2p/16Uiu2HAm51NUmieN5EpZCs2uqyTFq9XKWJj3MqSFdwKg1vrP4Uwy"],"enrUri":"enr:-L24QNKT7Cm_A5fJY0wjWVyG7cgTvpecgZOsiS0XqV0R4SAbYwirVk79tvr189CQueaABKSQgsC-S3slKzexlZy9ugsCgmlkgnY0gmlwhKwSkYOKbXVsdGlhZGRyc5YACASsEpGDBsTNAAoErBKRgwbEzt0DgnJzhQADAQAAiXNlY3AyNTZrMaECjlskYUtHr0m3vs1_4eGajm4AeB3Yzw_onPQO6T3JPviDdGNwgsTNg3VkcILEz4V3YWt1MgM"}'
2026-02-03 04:37:37.679 INFO [src.node.waku_node] REST service is ready !!
2026-02-03 04:37:37.686 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-03 04:37:37.686 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/store_node1_2026-02-03_04-37-36__5651533b-1a3c-4922-9adc-47d74b6809d6__wakuorg_nwaku:latest.log
2026-02-03 04:37:37.686 DEBUG [src.node.waku_node] Starting Node...
2026-02-03 04:37:37.686 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-03 04:37:37.688 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-03 04:37:37.688 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.12.40
2026-02-03 04:37:37.688 DEBUG [src.node.docker_mananger] Generated ports ['42969', '42970', '42971', '42972', '42973']
2026-02-03 04:37:37.688 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-03 04:37:37.688 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-03 04:37:37.688 DEBUG [src.node.waku_node] Using volumes []
2026-02-03 04:37:37.689 DEBUG [src.node.docker_mananger] docker run -i -t -p 42969:42969 -p 42970:42970 -p 42971:42971 -p 42972:42972 -p 42973:42973 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=42971 --rest-port=42969 --tcp-port=42970 --discv5-udp-port=42972 --rest-address=0.0.0.0 --nat=extip:172.18.12.40 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f6f21ffca381f90f7764084e00ca81e2de1a394671e9a501766cafd3ba1fb7e5 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=42973 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QNKT7Cm_A5fJY0wjWVyG7cgTvpecgZOsiS0XqV0R4SAbYwirVk79tvr189CQueaABKSQgsC-S3slKzexlZy9ugsCgmlkgnY0gmlwhKwSkYOKbXVsdGlhZGRyc5YACASsEpGDBsTNAAoErBKRgwbEzt0DgnJzhQADAQAAiXNlY3AyNTZrMaECjlskYUtHr0m3vs1_4eGajm4AeB3Yzw_onPQO6T3JPviDdGNwgsTNg3VkcILEz4V3YWt1MgM --storenode=/ip4/172.18.145.131/tcp/50381/p2p/16Uiu2HAm51NUmieN5EpZCs2uqyTFq9XKWJj3MqSFdwKg1vrP4Uwy --store=true --relay=true
2026-02-03 04:37:37.876 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.12.40 waku abc8a65b1eb945f276488cd369f7c7f47fc3c21b7f4074fc9b72238b7da27389
2026-02-03 04:37:37.907 DEBUG [src.node.docker_mananger] Container started with ID abc8a65b1eb9. Setting up logs at ./log/docker/store_node1_2026-02-03_04-37-36__5651533b-1a3c-4922-9adc-47d74b6809d6__wakuorg_nwaku:latest.log
2026-02-03 04:37:37.908 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 42969
2026-02-03 04:37:37.908 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-03 04:37:38.909 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42969/health" -H "Content-Type: application/json" -d 'None'
2026-02-03 04:37:38.913 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"READY"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"READY"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"READY"},{"Legacy Store Client":"READY"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-03 04:37:38.913 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-03 04:37:38.913 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42969/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-03 04:37:38.916 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.12.40/tcp/42970/p2p/16Uiu2HAmETLJa8cf97uFDFh5FmnirFgHBEHiyf6UYY1E6vVW81XL","/ip4/172.18.12.40/tcp/42971/ws/p2p/16Uiu2HAmETLJa8cf97uFDFh5FmnirFgHBEHiyf6UYY1E6vVW81XL"],"enrUri":"enr:-L24QGu2zGCYx-0B4JAmhwMmCCk-MaPDXVJwoFavlfvrvUjyFA6JOcscqVwvO86XDVRNQal44wNJovx1MGzvhMU0aeUCgmlkgnY0gmlwhKwSDCiKbXVsdGlhZGRyc5YACASsEgwoBqfaAAoErBIMKAan290DgnJzhQADAQAAiXNlY3AyNTZrMaEDGrr3GXNQHo7aWEFIEKGLAdNZz73KgHO7n-4TGh4NxweDdGNwgqfag3VkcIKn3IV3YWt1MgM"}'
2026-02-03 04:37:38.916 INFO [src.node.waku_node] REST service is ready !!
2026-02-03 04:37:38.916 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:42969/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.145.131/tcp/50381/p2p/16Uiu2HAm51NUmieN5EpZCs2uqyTFq9XKWJj3MqSFdwKg1vrP4Uwy"]'
2026-02-03 04:37:38.919 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-03 04:37:38.919 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:50380/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-03 04:37:38.921 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-03 04:37:38.922 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:42969/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-03 04:37:38.924 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-03 04:37:38.925 DEBUG [src.steps.store] Relaying message
2026-02-03 04:37:38.925 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:50380/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8w", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-03 04:37:38.930 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-03 04:37:38.930 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-03 04:37:39.132 DEBUG [src.steps.store] Relaying message
2026-02-03 04:37:39.132 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:50380/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8x", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-03 04:37:39.138 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-03 04:37:39.139 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-03 04:37:39.339 DEBUG [src.steps.store] Relaying message
2026-02-03 04:37:39.339 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:50380/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8y", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-03 04:37:39.345 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-03 04:37:39.345 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-03 04:37:39.546 DEBUG [src.steps.store] Relaying message
2026-02-03 04:37:39.546 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:50380/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8z", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-03 04:37:39.552 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-03 04:37:39.552 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-03 04:37:39.752 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50380/store/v3/messages?hashes=AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2026-02-03 04:37:39.755 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:50380/store/v3/messages?hashes=AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA&pageSize=50&ascending=true. Response content: b'waku message hash parsing error: invalid hash length: 25'
2026-02-03 04:37:39.755 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42969/store/v3/messages?hashes=AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2026-02-03 04:37:39.758 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:42969/store/v3/messages?hashes=AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA&pageSize=50&ascending=true. Response content: b'waku message hash parsing error: invalid hash length: 25'
2026-02-03 04:37:39.759 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-02-03 04:37:39.760 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-02-03 04:37:39.761 DEBUG [src.node.waku_node] Stopping container with id a93f385abc38
2026-02-03 04:37:40.304 DEBUG [src.node.waku_node] Container stopped.
2026-02-03 04:37:40.304 DEBUG [src.node.waku_node] Stopping container with id abc8a65b1eb9
2026-02-03 04:37:40.865 DEBUG [src.node.waku_node] Container stopped.
2026-02-03 04:37:40.867 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-02-03 04:37:40.874 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-03 04:37:40.880 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
