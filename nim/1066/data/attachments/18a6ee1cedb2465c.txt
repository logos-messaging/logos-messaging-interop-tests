2026-02-03 04:34:31.885 DEBUG [tests.conftest] Running fixture setup: test_id
2026-02-03 04:34:31.885 DEBUG [tests.conftest] Running test: test_unsubscribe_from_non_subscribed_pubsub_topics with id: 2026-02-03_04-34-31__4e1aaf54-f44b-4b65-b3af-057506514acc
2026-02-03 04:34:31.886 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-02-03 04:34:31.886 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2026-02-03 04:34:31.886 DEBUG [src.steps.sharding] Running fixture setup: sharding_setup
2026-02-03 04:34:31.893 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-03 04:34:31.893 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2026-02-03_04-34-31__4e1aaf54-f44b-4b65-b3af-057506514acc__wakuorg_nwaku:latest.log
2026-02-03 04:34:31.893 DEBUG [src.node.waku_node] Starting Node...
2026-02-03 04:34:31.894 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-03 04:34:31.895 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-03 04:34:31.895 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.112.41
2026-02-03 04:34:31.895 DEBUG [src.node.docker_mananger] Generated ports ['38189', '38190', '38191', '38192', '38193']
2026-02-03 04:34:31.895 DEBUG [src.node.waku_node] Removing pubsub-topic from nwaku args
2026-02-03 04:34:31.896 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-03 04:34:31.896 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-03 04:34:31.896 DEBUG [src.node.waku_node] Using volumes []
2026-02-03 04:34:31.896 DEBUG [src.node.docker_mananger] docker run -i -t -p 38189:38189 -p 38190:38190 -p 38191:38191 -p 38192:38192 -p 38193:38193 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=38191 --rest-port=38189 --tcp-port=38190 --discv5-udp-port=38192 --rest-address=0.0.0.0 --nat=extip:172.18.112.41 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=830e43fad0bf48401f4ffaeec8377d5e934deed869e5edde23f4faebe1fd10f7 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=38193 --metrics-logging=true --relay=true --filter=true
2026-02-03 04:34:32.079 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.112.41 waku 935c0a14efe0cfb251759840ae88e1b50a8953f3c3225262b713e0b5c1949f36
2026-02-03 04:34:32.108 DEBUG [src.node.docker_mananger] Container started with ID 935c0a14efe0. Setting up logs at ./log/docker/node1_2026-02-03_04-34-31__4e1aaf54-f44b-4b65-b3af-057506514acc__wakuorg_nwaku:latest.log
2026-02-03 04:34:32.108 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 38189
2026-02-03 04:34:32.108 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-03 04:34:32.172 ERROR [src.node.docker_mananger] Max retries reached for container 5d6094de8355. Exiting log stream.
2026-02-03 04:34:32.666 ERROR [src.node.docker_mananger] Max retries reached for container 8c17bb25e167. Exiting log stream.
2026-02-03 04:34:33.109 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38189/health" -H "Content-Type: application/json" -d 'None'
2026-02-03 04:34:33.112 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_READY","desc":"Relay is not ready, filter will not be able to sort out messages"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-03 04:34:33.112 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-03 04:34:33.112 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38189/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-03 04:34:33.114 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.112.41/tcp/38190/p2p/16Uiu2HAmBAEb2SyCqqZFjF9AkXoLKuEL2oJfD1YEor6959Bvtgo6","/ip4/172.18.112.41/tcp/38191/ws/p2p/16Uiu2HAmBAEb2SyCqqZFjF9AkXoLKuEL2oJfD1YEor6959Bvtgo6"],"enrUri":"enr:-L24QMHvTi9hhq7grYNx3CPg4GqWdp8eyhcu7hA1sTvFJ0Btcht99nNbaw86kOFdNLFL2kDH9VG83BYcjPTDlcMsyEACgmlkgnY0gmlwhKwScCmKbXVsdGlhZGRyc5YACASsEnApBpUuAAoErBJwKQaVL90DgnJzhQACAQAAiXNlY3AyNTZrMaEC6caRNrHJuvo4_ar-UTIRT6S6A_oqFqwr27Cm_oJs13WDdGNwgpUug3VkcIKVMIV3YWt1MgU"}'
2026-02-03 04:34:33.114 INFO [src.node.waku_node] REST service is ready !!
2026-02-03 04:34:33.121 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-03 04:34:33.121 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2026-02-03_04-34-31__4e1aaf54-f44b-4b65-b3af-057506514acc__wakuorg_nwaku:latest.log
2026-02-03 04:34:33.121 DEBUG [src.node.waku_node] Starting Node...
2026-02-03 04:34:33.121 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-03 04:34:33.123 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-03 04:34:33.123 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.62.51
2026-02-03 04:34:33.123 DEBUG [src.node.docker_mananger] Generated ports ['11995', '11996', '11997', '11998', '11999']
2026-02-03 04:34:33.123 DEBUG [src.node.waku_node] Removing pubsub-topic from nwaku args
2026-02-03 04:34:33.123 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-03 04:34:33.123 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-03 04:34:33.123 DEBUG [src.node.waku_node] Using volumes []
2026-02-03 04:34:33.124 DEBUG [src.node.docker_mananger] docker run -i -t -p 11995:11995 -p 11996:11996 -p 11997:11997 -p 11998:11998 -p 11999:11999 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=11997 --rest-port=11995 --tcp-port=11996 --discv5-udp-port=11998 --rest-address=0.0.0.0 --nat=extip:172.18.62.51 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=df1ed6bc6acbc88a0f3e3b0c6071b47d8b1de2c0fb7ec0c6d669c77b8541de8d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=11999 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QMHvTi9hhq7grYNx3CPg4GqWdp8eyhcu7hA1sTvFJ0Btcht99nNbaw86kOFdNLFL2kDH9VG83BYcjPTDlcMsyEACgmlkgnY0gmlwhKwScCmKbXVsdGlhZGRyc5YACASsEnApBpUuAAoErBJwKQaVL90DgnJzhQACAQAAiXNlY3AyNTZrMaEC6caRNrHJuvo4_ar-UTIRT6S6A_oqFqwr27Cm_oJs13WDdGNwgpUug3VkcIKVMIV3YWt1MgU
2026-02-03 04:34:33.299 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.62.51 waku 6db831b83aa96d1dd1dafd31ccd1566500f99bde3e5cc62331b2039fc22bf5a8
2026-02-03 04:34:33.328 DEBUG [src.node.docker_mananger] Container started with ID 6db831b83aa9. Setting up logs at ./log/docker/node2_2026-02-03_04-34-31__4e1aaf54-f44b-4b65-b3af-057506514acc__wakuorg_nwaku:latest.log
2026-02-03 04:34:33.329 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 11995
2026-02-03 04:34:33.329 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-03 04:34:34.330 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:11995/health" -H "Content-Type: application/json" -d 'None'
2026-02-03 04:34:34.347 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"READY"}]}'
2026-02-03 04:34:34.349 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-03 04:34:34.350 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:11995/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-03 04:34:34.353 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.62.51/tcp/11996/p2p/16Uiu2HAmC1L32zULVBXCD83g3EkAqQBWB1qkk5fGdPXBMoWivKjJ","/ip4/172.18.62.51/tcp/11997/ws/p2p/16Uiu2HAmC1L32zULVBXCD83g3EkAqQBWB1qkk5fGdPXBMoWivKjJ"],"enrUri":"enr:-L24QCrGa5Gjh8Q7odPclOMZkdbdnlfBsi01JP1eXfGfmpkediIYQ7EpDXiCp_sOCqgi3ns9YCrRll5oWoAomCRBuAgCgmlkgnY0gmlwhKwSPjOKbXVsdGlhZGRyc5YACASsEj4zBi7cAAoErBI-MwYu3d0DgnJzhQACAQAAiXNlY3AyNTZrMaEC9lov_O8X550t8bIfM0Zb6maUdUErpl3vTYLDCZ8BOpWDdGNwgi7cg3VkcIIu3oV3YWt1MgE"}'
2026-02-03 04:34:34.354 INFO [src.node.waku_node] REST service is ready !!
2026-02-03 04:34:34.354 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:11995/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.112.41/tcp/38190/p2p/16Uiu2HAmBAEb2SyCqqZFjF9AkXoLKuEL2oJfD1YEor6959Bvtgo6"]'
2026-02-03 04:34:34.357 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-03 04:34:34.357 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:38189/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0", "/waku/2/rs/2/1", "/waku/2/rs/2/2", "/waku/2/rs/2/3", "/waku/2/rs/2/4", "/waku/2/rs/2/5", "/waku/2/rs/2/6", "/waku/2/rs/2/7"]'
2026-02-03 04:34:34.361 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-03 04:34:34.361 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:11995/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0", "/waku/2/rs/2/1", "/waku/2/rs/2/2", "/waku/2/rs/2/3", "/waku/2/rs/2/4", "/waku/2/rs/2/5", "/waku/2/rs/2/6", "/waku/2/rs/2/7"]'
2026-02-03 04:34:34.367 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-03 04:34:34.368 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:38189/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-03 04:34:34.370 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:38189/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0. Response content: b'Failed to publish: Node not subscribed to topic: /waku/2/rs/2/0'
2026-02-03 04:34:34.372 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:38189/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-03 04:34:34.374 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:38189/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1. Response content: b'Failed to publish: Node not subscribed to topic: /waku/2/rs/2/1'
2026-02-03 04:34:34.376 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:38189/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-03 04:34:34.378 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:38189/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2. Response content: b'Failed to publish: Node not subscribed to topic: /waku/2/rs/2/2'
2026-02-03 04:34:34.380 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:38189/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-03 04:34:34.382 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:38189/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3. Response content: b'Failed to publish: Node not subscribed to topic: /waku/2/rs/2/3'
2026-02-03 04:34:34.383 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:38189/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-03 04:34:34.386 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:38189/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4. Response content: b'Failed to publish: Node not subscribed to topic: /waku/2/rs/2/4'
2026-02-03 04:34:34.387 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:38189/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-03 04:34:34.389 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:38189/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5. Response content: b'Failed to publish: Node not subscribed to topic: /waku/2/rs/2/5'
2026-02-03 04:34:34.391 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:38189/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-03 04:34:34.393 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:38189/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6. Response content: b'Failed to publish: Node not subscribed to topic: /waku/2/rs/2/6'
2026-02-03 04:34:34.394 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:38189/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-03 04:34:34.396 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:38189/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7. Response content: b'Failed to publish: Node not subscribed to topic: /waku/2/rs/2/7'
2026-02-03 04:34:34.399 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-02-03 04:34:34.400 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-02-03 04:34:34.400 DEBUG [src.node.waku_node] Stopping container with id 935c0a14efe0
2026-02-03 04:34:34.931 DEBUG [src.node.waku_node] Container stopped.
2026-02-03 04:34:34.931 DEBUG [src.node.waku_node] Stopping container with id 6db831b83aa9
2026-02-03 04:34:35.463 DEBUG [src.node.waku_node] Container stopped.
2026-02-03 04:34:35.465 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-02-03 04:34:35.470 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-03 04:34:35.474 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
