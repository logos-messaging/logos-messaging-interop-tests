2026-02-04 17:12:51.069 DEBUG [tests.conftest] Running fixture setup: test_id
2026-02-04 17:12:51.070 DEBUG [tests.conftest] Running test: test_light_push_with_missing_pubsub_topics with id: 2026-02-04_17-12-51__740a1fdf-4e0f-4e08-aba4-a778cd678522
2026-02-04 17:12:51.070 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-02-04 17:12:51.070 DEBUG [src.steps.light_push] Running fixture setup: light_push_setup
2026-02-04 17:12:51.077 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-04 17:12:51.077 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node1_2026-02-04_17-12-51__740a1fdf-4e0f-4e08-aba4-a778cd678522__wakuorg_nwaku:latest.log
2026-02-04 17:12:51.077 DEBUG [src.node.waku_node] Starting Node...
2026-02-04 17:12:51.077 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-04 17:12:51.079 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-04 17:12:51.079 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.99.27
2026-02-04 17:12:51.079 DEBUG [src.node.docker_mananger] Generated ports ['11299', '11300', '11301', '11302', '11303']
2026-02-04 17:12:51.079 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-04 17:12:51.079 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-04 17:12:51.079 DEBUG [src.node.waku_node] Using volumes []
2026-02-04 17:12:51.079 DEBUG [src.node.docker_mananger] docker run -i -t -p 11299:11299 -p 11300:11300 -p 11301:11301 -p 11302:11302 -p 11303:11303 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=11301 --rest-port=11299 --tcp-port=11300 --discv5-udp-port=11302 --rest-address=0.0.0.0 --nat=extip:172.18.99.27 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=5fd3bec3e0fffb70edd9ddd9a9acfc7dcafdf7ec0cdb7a1cd10273eabeedd51c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=11303 --metrics-logging=true --lightpush=true --relay=true
2026-02-04 17:12:51.226 ERROR [src.node.docker_mananger] Max retries reached for container 2a83618d7f3f. Exiting log stream.
2026-02-04 17:12:51.262 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.99.27 waku 352003cdccc041dcab80fb8f6ced2c05e327a571760357817fd4537da8108305
2026-02-04 17:12:51.295 DEBUG [src.node.docker_mananger] Container started with ID 352003cdccc0. Setting up logs at ./log/docker/receiving_node1_2026-02-04_17-12-51__740a1fdf-4e0f-4e08-aba4-a778cd678522__wakuorg_nwaku:latest.log
2026-02-04 17:12:51.295 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 11299
2026-02-04 17:12:51.295 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-04 17:12:51.698 ERROR [src.node.docker_mananger] Max retries reached for container 5751523ba921. Exiting log stream.
2026-02-04 17:12:52.296 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:11299/health" -H "Content-Type: application/json" -d 'None'
2026-02-04 17:12:52.299 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_READY","desc":"Node has no relay peers to fullfill push requests"},{"Legacy Lightpush":"NOT_READY","desc":"Node has no relay peers to fullfill push requests"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-04 17:12:52.299 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-04 17:12:52.299 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:11299/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-04 17:12:52.301 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.99.27/tcp/11300/p2p/16Uiu2HAmPQU3EoE9QShPXnT6aUh9hh83WRJ3HiEbivYyTf7Rdj15","/ip4/172.18.99.27/tcp/11301/ws/p2p/16Uiu2HAmPQU3EoE9QShPXnT6aUh9hh83WRJ3HiEbivYyTf7Rdj15"],"enrUri":"enr:-L24QLYp6aTwqeHbsDIh2T7j-pbaoxZ0eOHq_w1bPyeSOtEhGzBHM0-0n77e5Mt27PRjKJfRiCseRKBYULlGk_6v5kACgmlkgnY0gmlwhKwSYxuKbXVsdGlhZGRyc5YACASsEmMbBiwkAAoErBJjGwYsJd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDn7gm35IToXe-arFlvWb7_b6_8kZlqT5mM9epyUvRqUyDdGNwgiwkg3VkcIIsJoV3YWt1Mgk"}'
2026-02-04 17:12:52.302 INFO [src.node.waku_node] REST service is ready !!
2026-02-04 17:12:52.308 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-04 17:12:52.308 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node2_2026-02-04_17-12-51__740a1fdf-4e0f-4e08-aba4-a778cd678522__wakuorg_nwaku:latest.log
2026-02-04 17:12:52.308 DEBUG [src.node.waku_node] Starting Node...
2026-02-04 17:12:52.309 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-04 17:12:52.310 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-04 17:12:52.310 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.249.170
2026-02-04 17:12:52.310 DEBUG [src.node.docker_mananger] Generated ports ['6687', '6688', '6689', '6690', '6691']
2026-02-04 17:12:52.310 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-04 17:12:52.310 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-04 17:12:52.311 DEBUG [src.node.waku_node] Using volumes []
2026-02-04 17:12:52.311 DEBUG [src.node.docker_mananger] docker run -i -t -p 6687:6687 -p 6688:6688 -p 6689:6689 -p 6690:6690 -p 6691:6691 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=6689 --rest-port=6687 --tcp-port=6688 --discv5-udp-port=6690 --rest-address=0.0.0.0 --nat=extip:172.18.249.170 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=4b2f0b155bacaa12b9f7538daf21e430bec5edd73bbaf7ac4afb2ed7d4fc0dfc --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=6691 --metrics-logging=true --lightpush=false --relay=true
2026-02-04 17:12:52.490 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.249.170 waku 182f6e8e85181bd8f58825ea93ace7ac7d534bb2cdf15424ac00fc5cb0ac8d6b
2026-02-04 17:12:52.521 DEBUG [src.node.docker_mananger] Container started with ID 182f6e8e8518. Setting up logs at ./log/docker/receiving_node2_2026-02-04_17-12-51__740a1fdf-4e0f-4e08-aba4-a778cd678522__wakuorg_nwaku:latest.log
2026-02-04 17:12:52.521 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 6687
2026-02-04 17:12:52.521 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-04 17:12:53.523 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:6687/health" -H "Content-Type: application/json" -d 'None'
2026-02-04 17:12:53.526 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-04 17:12:53.526 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-04 17:12:53.526 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:6687/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-04 17:12:53.528 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.249.170/tcp/6688/p2p/16Uiu2HAm7QhNdEgDQ57aHx3PLNTQQMJbzeoi4KHvUS4gcvye7da2","/ip4/172.18.249.170/tcp/6689/ws/p2p/16Uiu2HAm7QhNdEgDQ57aHx3PLNTQQMJbzeoi4KHvUS4gcvye7da2"],"enrUri":"enr:-L24QDEG5w82iPf61SBZMD5v351GzjIxAjAQwJulHc6jTBgfArUQTMbrMV768qn51bHZyFi3ULDABDLryNNkw6Ty-XQCgmlkgnY0gmlwhKwS-aqKbXVsdGlhZGRyc5YACASsEvmqBhogAAoErBL5qgYaId0DgnJzhQADAQAAiXNlY3AyNTZrMaECsgw89WBIrBBV4LVg4-VhSGcK-zYXDRtCKIYwCdsvN4uDdGNwghogg3VkcIIaIoV3YWt1MgE"}'
2026-02-04 17:12:53.529 INFO [src.node.waku_node] REST service is ready !!
2026-02-04 17:12:53.529 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:6687/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.99.27/tcp/11300/p2p/16Uiu2HAmPQU3EoE9QShPXnT6aUh9hh83WRJ3HiEbivYyTf7Rdj15"]'
2026-02-04 17:12:53.559 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 17:12:53.570 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-04 17:12:53.571 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/lightpush_node1_2026-02-04_17-12-51__740a1fdf-4e0f-4e08-aba4-a778cd678522__wakuorg_nwaku:latest.log
2026-02-04 17:12:53.571 DEBUG [src.node.waku_node] Starting Node...
2026-02-04 17:12:53.571 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-04 17:12:53.573 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-04 17:12:53.575 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.78.60
2026-02-04 17:12:53.576 DEBUG [src.node.docker_mananger] Generated ports ['4599', '4600', '4601', '4602', '4603']
2026-02-04 17:12:53.576 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-04 17:12:53.576 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-04 17:12:53.579 DEBUG [src.node.waku_node] Using volumes []
2026-02-04 17:12:53.579 DEBUG [src.node.docker_mananger] docker run -i -t -p 4599:4599 -p 4600:4600 -p 4601:4601 -p 4602:4602 -p 4603:4603 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=4601 --rest-port=4599 --tcp-port=4600 --discv5-udp-port=4602 --rest-address=0.0.0.0 --nat=extip:172.18.78.60 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=2ad212d70d714f4e939dedd726ada4fc3faa72599a3fafb3acf9ec255111c4e9 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=4603 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QLYp6aTwqeHbsDIh2T7j-pbaoxZ0eOHq_w1bPyeSOtEhGzBHM0-0n77e5Mt27PRjKJfRiCseRKBYULlGk_6v5kACgmlkgnY0gmlwhKwSYxuKbXVsdGlhZGRyc5YACASsEmMbBiwkAAoErBJjGwYsJd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDn7gm35IToXe-arFlvWb7_b6_8kZlqT5mM9epyUvRqUyDdGNwgiwkg3VkcIIsJoV3YWt1Mgk --lightpushnode=/ip4/172.18.99.27/tcp/11300/p2p/16Uiu2HAmPQU3EoE9QShPXnT6aUh9hh83WRJ3HiEbivYyTf7Rdj15 --lightpush=true --relay=true
2026-02-04 17:12:53.761 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.78.60 waku 33c88a2b7f539cd578463b495be782b911ccb94044f0d4abe20bebf607d1ca48
2026-02-04 17:12:53.793 DEBUG [src.node.docker_mananger] Container started with ID 33c88a2b7f53. Setting up logs at ./log/docker/lightpush_node1_2026-02-04_17-12-51__740a1fdf-4e0f-4e08-aba4-a778cd678522__wakuorg_nwaku:latest.log
2026-02-04 17:12:53.793 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 4599
2026-02-04 17:12:53.793 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-04 17:12:54.794 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:4599/health" -H "Content-Type: application/json" -d 'None'
2026-02-04 17:12:54.797 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_READY","desc":"Node has no relay peers to fullfill push requests"},{"Legacy Lightpush":"NOT_READY","desc":"Node has no relay peers to fullfill push requests"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"READY"},{"Legacy Lightpush Client":"READY"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-04 17:12:54.798 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-04 17:12:54.798 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:4599/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-04 17:12:54.801 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.78.60/tcp/4600/p2p/16Uiu2HAm61TULtW3BcZ6x5wWigwJ7yRi3ekdqK3ZqbueeTTfEmkn","/ip4/172.18.78.60/tcp/4601/ws/p2p/16Uiu2HAm61TULtW3BcZ6x5wWigwJ7yRi3ekdqK3ZqbueeTTfEmkn"],"enrUri":"enr:-L24QNFDbGxPiimhazKiK2Bv-XoSFuNYRgKOUslGWPzP88hoIlQpuENzeipMuvbG4miHIctk7d-zbt66SvFKJKYpAxcCgmlkgnY0gmlwhKwSTjyKbXVsdGlhZGRyc5YACASsEk48BhH4AAoErBJOPAYR-d0DgnJzhQADAQAAiXNlY3AyNTZrMaECnTx5ZbP790dhtxvn92UXDDA-HhlI1yHMrn98DU5fvsODdGNwghH4g3VkcIIR-oV3YWt1Mgk"}'
2026-02-04 17:12:54.801 INFO [src.node.waku_node] REST service is ready !!
2026-02-04 17:12:54.801 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4599/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.99.27/tcp/11300/p2p/16Uiu2HAmPQU3EoE9QShPXnT6aUh9hh83WRJ3HiEbivYyTf7Rdj15"]'
2026-02-04 17:12:54.832 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 17:12:54.832 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4599/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.249.170/tcp/6688/p2p/16Uiu2HAm7QhNdEgDQ57aHx3PLNTQQMJbzeoi4KHvUS4gcvye7da2"]'
2026-02-04 17:12:54.855 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 17:12:54.855 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:11299/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-04 17:12:54.864 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 17:12:54.865 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:6687/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-04 17:12:54.868 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 17:12:54.868 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4599/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-04 17:12:54.874 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 17:12:54.878 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4599/lightpush/v1/message" -H "Content-Type: application/json" -d '{"message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1770225174877959017}}'
2026-02-04 17:12:54.890 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 17:12:54.899 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-02-04 17:12:54.900 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-02-04 17:12:54.900 DEBUG [src.node.waku_node] Stopping container with id 352003cdccc0
2026-02-04 17:12:55.452 DEBUG [src.node.waku_node] Container stopped.
2026-02-04 17:12:55.454 DEBUG [src.node.waku_node] Stopping container with id 182f6e8e8518
2026-02-04 17:12:55.982 DEBUG [src.node.waku_node] Container stopped.
2026-02-04 17:12:55.982 DEBUG [src.node.waku_node] Stopping container with id 33c88a2b7f53
2026-02-04 17:12:56.265 ERROR [src.node.docker_mananger] Max retries reached for container 352003cdccc0. Exiting log stream.
2026-02-04 17:12:56.488 DEBUG [src.node.waku_node] Container stopped.
2026-02-04 17:12:56.489 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-02-04 17:12:56.497 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-04 17:12:56.505 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-04 17:12:56.513 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
