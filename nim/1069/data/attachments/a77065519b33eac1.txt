2026-02-04 17:11:16.305 DEBUG [tests.conftest] Running fixture setup: test_id
2026-02-04 17:11:16.305 DEBUG [tests.conftest] Running test: test_filter_subscribe_with_no_pubsub_topic with id: 2026-02-04_17-11-16__4df3a887-963e-455a-aef5-fd80def3358c
2026-02-04 17:11:16.306 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-02-04 17:11:16.306 DEBUG [src.steps.filter] Running fixture setup: filter_setup
2026-02-04 17:11:16.306 DEBUG [src.steps.filter] Running fixture setup: setup_main_relay_node
2026-02-04 17:11:16.313 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-04 17:11:16.313 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2026-02-04_17-11-16__4df3a887-963e-455a-aef5-fd80def3358c__wakuorg_nwaku:latest.log
2026-02-04 17:11:16.313 DEBUG [src.node.waku_node] Starting Node...
2026-02-04 17:11:16.313 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-04 17:11:16.314 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-04 17:11:16.314 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.207.189
2026-02-04 17:11:16.315 DEBUG [src.node.docker_mananger] Generated ports ['15012', '15013', '15014', '15015', '15016']
2026-02-04 17:11:16.315 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-04 17:11:16.315 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-04 17:11:16.315 DEBUG [src.node.waku_node] Using volumes []
2026-02-04 17:11:16.315 DEBUG [src.node.docker_mananger] docker run -i -t -p 15012:15012 -p 15013:15013 -p 15014:15014 -p 15015:15015 -p 15016:15016 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=15014 --rest-port=15012 --tcp-port=15013 --discv5-udp-port=15015 --rest-address=0.0.0.0 --nat=extip:172.18.207.189 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bdb6c87fc6e1adc9087c22a826ada3280f2fc8faf3b5bbb9aaebd38fba13bd73 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=15016 --metrics-logging=true --relay=true --filter=true
2026-02-04 17:11:16.501 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.207.189 waku 82ca9a4c538f29e04211d0c03591661e55063686f1e346e45a5cc20a17f91fd4
2026-02-04 17:11:16.529 DEBUG [src.node.docker_mananger] Container started with ID 82ca9a4c538f. Setting up logs at ./log/docker/node1_2026-02-04_17-11-16__4df3a887-963e-455a-aef5-fd80def3358c__wakuorg_nwaku:latest.log
2026-02-04 17:11:16.529 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 15012
2026-02-04 17:11:16.530 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-04 17:11:16.607 ERROR [src.node.docker_mananger] Max retries reached for container 15630aeb487e. Exiting log stream.
2026-02-04 17:11:17.108 ERROR [src.node.docker_mananger] Max retries reached for container 64d96d5ae2b6. Exiting log stream.
2026-02-04 17:11:17.530 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15012/health" -H "Content-Type: application/json" -d 'None'
2026-02-04 17:11:17.533 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_READY","desc":"Relay is not ready, filter will not be able to sort out messages"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-04 17:11:17.533 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-04 17:11:17.534 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15012/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-04 17:11:17.536 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.207.189/tcp/15013/p2p/16Uiu2HAmFmhFHwZawFcZW3LXJFjcYSwTqJ8BNYjUJpwVwZBGRKLx","/ip4/172.18.207.189/tcp/15014/ws/p2p/16Uiu2HAmFmhFHwZawFcZW3LXJFjcYSwTqJ8BNYjUJpwVwZBGRKLx"],"enrUri":"enr:-L24QIeIHWmEtRAjKWUdf4r7wt1hgoEOweibrAT_7WFOaMytUrzW1EnLI0xNZyqnforSpwuXg36Y6A4UiopE5MFbOBECgmlkgnY0gmlwhKwSz72KbXVsdGlhZGRyc5YACASsEs-9BjqlAAoErBLPvQY6pt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDLkrJnj6jDwHh12lb9t2rJ2_tj01YLwji2Vm4SO9Yq_2DdGNwgjqlg3VkcII6p4V3YWt1MgU"}'
2026-02-04 17:11:17.536 INFO [src.node.waku_node] REST service is ready !!
2026-02-04 17:11:17.536 DEBUG [src.steps.filter] Running fixture setup: setup_main_filter_node
2026-02-04 17:11:17.542 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-04 17:11:17.543 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2026-02-04_17-11-16__4df3a887-963e-455a-aef5-fd80def3358c__wakuorg_nwaku:latest.log
2026-02-04 17:11:17.543 DEBUG [src.node.waku_node] Starting Node...
2026-02-04 17:11:17.543 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-04 17:11:17.544 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-04 17:11:17.544 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.94.20
2026-02-04 17:11:17.545 DEBUG [src.node.docker_mananger] Generated ports ['2205', '2206', '2207', '2208', '2209']
2026-02-04 17:11:17.545 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-04 17:11:17.545 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-04 17:11:17.545 DEBUG [src.node.waku_node] Using volumes []
2026-02-04 17:11:17.545 DEBUG [src.node.docker_mananger] docker run -i -t -p 2205:2205 -p 2206:2206 -p 2207:2207 -p 2208:2208 -p 2209:2209 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=2207 --rest-port=2205 --tcp-port=2206 --discv5-udp-port=2208 --rest-address=0.0.0.0 --nat=extip:172.18.94.20 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fadfb93bf82bd64a7c4cffb80a03489c3e74aaa0cf85dbf5653af8cdcc958fd5 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=2209 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QIeIHWmEtRAjKWUdf4r7wt1hgoEOweibrAT_7WFOaMytUrzW1EnLI0xNZyqnforSpwuXg36Y6A4UiopE5MFbOBECgmlkgnY0gmlwhKwSz72KbXVsdGlhZGRyc5YACASsEs-9BjqlAAoErBLPvQY6pt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDLkrJnj6jDwHh12lb9t2rJ2_tj01YLwji2Vm4SO9Yq_2DdGNwgjqlg3VkcII6p4V3YWt1MgU --filternode=/ip4/172.18.207.189/tcp/15013/p2p/16Uiu2HAmFmhFHwZawFcZW3LXJFjcYSwTqJ8BNYjUJpwVwZBGRKLx
2026-02-04 17:11:17.741 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.94.20 waku 9a695c2e9602588bb18a287624e275ec0f1ada2c05e327a0b8c8d9b9cfc48f2c
2026-02-04 17:11:17.772 DEBUG [src.node.docker_mananger] Container started with ID 9a695c2e9602. Setting up logs at ./log/docker/node2_2026-02-04_17-11-16__4df3a887-963e-455a-aef5-fd80def3358c__wakuorg_nwaku:latest.log
2026-02-04 17:11:17.773 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 2205
2026-02-04 17:11:17.773 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-04 17:11:18.774 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2205/health" -H "Content-Type: application/json" -d 'None'
2026-02-04 17:11:18.777 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_MOUNTED"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"READY"}]}'
2026-02-04 17:11:18.778 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-04 17:11:18.778 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2205/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-04 17:11:18.780 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.94.20/tcp/2206/p2p/16Uiu2HAmQXGnFtcjni1kfGgAJRziek3T9kn3kvSJZvERpyxFf4Ze","/ip4/172.18.94.20/tcp/2207/ws/p2p/16Uiu2HAmQXGnFtcjni1kfGgAJRziek3T9kn3kvSJZvERpyxFf4Ze"],"enrUri":"enr:-L24QNpV_dKL5izXJ0jz0UFdmjpEshBIechN5-_vtCRaGj_KB-hqLXbTGEbN4hUmV_SVKsjbR-hlqOriv7ASNDiC-TICgmlkgnY0gmlwhKwSXhSKbXVsdGlhZGRyc5YACASsEl4UBgieAAoErBJeFAYIn90DgnJzhQADAQAAiXNlY3AyNTZrMaEDsFIstWnR-G2SQeOVawLEx_ZzLE4FMkfIMBozdhYVpoGDdGNwggieg3VkcIIIoIV3YWt1MgA"}'
2026-02-04 17:11:18.780 INFO [src.node.waku_node] REST service is ready !!
2026-02-04 17:11:18.781 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2205/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.207.189/tcp/15013/p2p/16Uiu2HAmFmhFHwZawFcZW3LXJFjcYSwTqJ8BNYjUJpwVwZBGRKLx"]'
2026-02-04 17:11:18.810 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 17:11:18.811 DEBUG [src.steps.filter] Running fixture setup: subscribe_main_nodes
2026-02-04 17:11:18.813 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:15012/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2026-02-04 17:11:18.823 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 17:11:18.824 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2205/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "efa31b19-ac90-46c5-812e-487b486b7ae1", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
2026-02-04 17:11:18.834 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"efa31b19-ac90-46c5-812e-487b486b7ae1","statusDesc":"OK"}'
2026-02-04 17:11:18.836 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2205/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": ["/test/1/waku-filter/proto"]}'
2026-02-04 17:11:18.844 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"1","statusDesc":"OK"}'
2026-02-04 17:11:18.846 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-02-04 17:11:18.847 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-02-04 17:11:18.847 DEBUG [src.node.waku_node] Stopping container with id 82ca9a4c538f
2026-02-04 17:11:19.381 DEBUG [src.node.waku_node] Container stopped.
2026-02-04 17:11:19.381 DEBUG [src.node.waku_node] Stopping container with id 9a695c2e9602
2026-02-04 17:11:19.920 DEBUG [src.node.waku_node] Container stopped.
2026-02-04 17:11:19.923 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-02-04 17:11:19.927 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-04 17:11:19.932 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
