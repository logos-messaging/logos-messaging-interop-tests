2026-02-04 17:12:23.102 DEBUG [tests.conftest] Running fixture setup: test_id
2026-02-04 17:12:23.102 DEBUG [tests.conftest] Running test: test_relay_subscribe_with_empty_pubsub_topic_list with id: 2026-02-04_17-12-23__20d4c3a2-4697-49f8-bf9b-f717ae0f09c9
2026-02-04 17:12:23.103 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-02-04 17:12:23.103 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2026-02-04 17:12:23.103 DEBUG [src.steps.relay] Running fixture setup: setup_main_relay_nodes
2026-02-04 17:12:23.110 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-04 17:12:23.110 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2026-02-04_17-12-23__20d4c3a2-4697-49f8-bf9b-f717ae0f09c9__wakuorg_nwaku:latest.log
2026-02-04 17:12:23.110 DEBUG [src.node.waku_node] Starting Node...
2026-02-04 17:12:23.111 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-04 17:12:23.112 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-04 17:12:23.112 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.227.84
2026-02-04 17:12:23.112 DEBUG [src.node.docker_mananger] Generated ports ['60954', '60955', '60956', '60957', '60958']
2026-02-04 17:12:23.112 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-04 17:12:23.113 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-04 17:12:23.113 DEBUG [src.node.waku_node] Using volumes []
2026-02-04 17:12:23.113 DEBUG [src.node.docker_mananger] docker run -i -t -p 60954:60954 -p 60955:60955 -p 60956:60956 -p 60957:60957 -p 60958:60958 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=60956 --rest-port=60954 --tcp-port=60955 --discv5-udp-port=60957 --rest-address=0.0.0.0 --nat=extip:172.18.227.84 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=dbe128de380db43d9dc6d24e2bad0f18dcd156dba0a01bf904abfafb9d54ee39 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=60958 --metrics-logging=true --relay=true
2026-02-04 17:12:23.301 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.227.84 waku b417c946129eaf641fa7572f913aa92ef652830ddf725941d545ad8dec615c62
2026-02-04 17:12:23.332 DEBUG [src.node.docker_mananger] Container started with ID b417c946129e. Setting up logs at ./log/docker/node1_2026-02-04_17-12-23__20d4c3a2-4697-49f8-bf9b-f717ae0f09c9__wakuorg_nwaku:latest.log
2026-02-04 17:12:23.333 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 60954
2026-02-04 17:12:23.333 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-04 17:12:23.366 ERROR [src.node.docker_mananger] Max retries reached for container 08496a45a490. Exiting log stream.
2026-02-04 17:12:23.911 ERROR [src.node.docker_mananger] Max retries reached for container 6f8150bcd8b7. Exiting log stream.
2026-02-04 17:12:24.334 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60954/health" -H "Content-Type: application/json" -d 'None'
2026-02-04 17:12:24.337 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-04 17:12:24.337 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-04 17:12:24.338 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60954/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-04 17:12:24.340 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.227.84/tcp/60955/p2p/16Uiu2HAmBfqacYVkdpoJEhQ4XpyTiiMKe4xGZLJx2BwHfPznAW28","/ip4/172.18.227.84/tcp/60956/ws/p2p/16Uiu2HAmBfqacYVkdpoJEhQ4XpyTiiMKe4xGZLJx2BwHfPznAW28"],"enrUri":"enr:-L24QAJ5JBC_C9l09pL_Q9tsb10EwtbgXpejgtVrwIsJJ81WXY_xvP4G8c-ADBZqPXkpM7VmuKmGxmsuIFQO4GVCY7ACgmlkgnY0gmlwhKwS41SKbXVsdGlhZGRyc5YACASsEuNUBu4bAAoErBLjVAbuHN0DgnJzhQADAQAAiXNlY3AyNTZrMaEC8Vv6MAcHgYk4jd4RnGcPWViFZ67gtRg9enkc0XrVaa2DdGNwgu4bg3VkcILuHYV3YWt1MgE"}'
2026-02-04 17:12:24.340 INFO [src.node.waku_node] REST service is ready !!
2026-02-04 17:12:24.346 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-04 17:12:24.347 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2026-02-04_17-12-23__20d4c3a2-4697-49f8-bf9b-f717ae0f09c9__wakuorg_nwaku:latest.log
2026-02-04 17:12:24.347 DEBUG [src.node.waku_node] Starting Node...
2026-02-04 17:12:24.347 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-04 17:12:24.348 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-04 17:12:24.348 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.49.73
2026-02-04 17:12:24.348 DEBUG [src.node.docker_mananger] Generated ports ['42777', '42778', '42779', '42780', '42781']
2026-02-04 17:12:24.348 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-04 17:12:24.349 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-04 17:12:24.349 DEBUG [src.node.waku_node] Using volumes []
2026-02-04 17:12:24.349 DEBUG [src.node.docker_mananger] docker run -i -t -p 42777:42777 -p 42778:42778 -p 42779:42779 -p 42780:42780 -p 42781:42781 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=42779 --rest-port=42777 --tcp-port=42778 --discv5-udp-port=42780 --rest-address=0.0.0.0 --nat=extip:172.18.49.73 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=552ac97ab3e58ea4ac142119ec6f464b1d8bb258be8ccc3284abbb5690267d1b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=42781 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QAJ5JBC_C9l09pL_Q9tsb10EwtbgXpejgtVrwIsJJ81WXY_xvP4G8c-ADBZqPXkpM7VmuKmGxmsuIFQO4GVCY7ACgmlkgnY0gmlwhKwS41SKbXVsdGlhZGRyc5YACASsEuNUBu4bAAoErBLjVAbuHN0DgnJzhQADAQAAiXNlY3AyNTZrMaEC8Vv6MAcHgYk4jd4RnGcPWViFZ67gtRg9enkc0XrVaa2DdGNwgu4bg3VkcILuHYV3YWt1MgE
2026-02-04 17:12:24.538 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.49.73 waku f27c3491b86fc839cafd4b0430816c3529d5292decf0eb90444601767a574dad
2026-02-04 17:12:24.573 DEBUG [src.node.docker_mananger] Container started with ID f27c3491b86f. Setting up logs at ./log/docker/node2_2026-02-04_17-12-23__20d4c3a2-4697-49f8-bf9b-f717ae0f09c9__wakuorg_nwaku:latest.log
2026-02-04 17:12:24.573 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 42777
2026-02-04 17:12:24.573 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-04 17:12:25.574 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42777/health" -H "Content-Type: application/json" -d 'None'
2026-02-04 17:12:25.584 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-04 17:12:25.585 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-04 17:12:25.585 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42777/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-04 17:12:25.590 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.49.73/tcp/42778/p2p/16Uiu2HAmSwxcXyq3187kuWhum45f4GL7TnsMx6KZAH6n488nZMPV","/ip4/172.18.49.73/tcp/42779/ws/p2p/16Uiu2HAmSwxcXyq3187kuWhum45f4GL7TnsMx6KZAH6n488nZMPV"],"enrUri":"enr:-L24QFN1-Ck7bIg2zymongzvGAXXmzNex8jR2LhYJSFD3H_FDAcjtzzjIhAg96aS4CTqNptaPOUl0PxiI-AvzaIpX-YCgmlkgnY0gmlwhKwSMUmKbXVsdGlhZGRyc5YACASsEjFJBqcaAAoErBIxSQanG90DgnJzhQADAQAAiXNlY3AyNTZrMaED1FyGydJL_qh2L5ZLmPquW5v8EkpC_xRoIZr3CEMJlliDdGNwgqcag3VkcIKnHIV3YWt1MgE"}'
2026-02-04 17:12:25.591 INFO [src.node.waku_node] REST service is ready !!
2026-02-04 17:12:25.591 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:42777/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.227.84/tcp/60955/p2p/16Uiu2HAmBfqacYVkdpoJEhQ4XpyTiiMKe4xGZLJx2BwHfPznAW28"]'
2026-02-04 17:12:25.595 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 17:12:25.596 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:60954/relay/v1/subscriptions" -H "Content-Type: application/json" -d '[]'
2026-02-04 17:12:25.598 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 17:12:25.598 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:42777/relay/v1/subscriptions" -H "Content-Type: application/json" -d '[]'
2026-02-04 17:12:25.601 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 17:12:25.602 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-02-04 17:12:25.603 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-02-04 17:12:25.603 DEBUG [src.node.waku_node] Stopping container with id b417c946129e
2026-02-04 17:12:26.132 DEBUG [src.node.waku_node] Container stopped.
2026-02-04 17:12:26.133 DEBUG [src.node.waku_node] Stopping container with id f27c3491b86f
2026-02-04 17:12:26.655 DEBUG [src.node.waku_node] Container stopped.
2026-02-04 17:12:26.656 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-02-04 17:12:26.662 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-04 17:12:26.666 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
