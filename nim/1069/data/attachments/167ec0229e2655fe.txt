2026-02-04 17:17:59.231 DEBUG [tests.conftest] Running fixture setup: test_id
2026-02-04 17:17:59.232 DEBUG [tests.conftest] Running test: test_time_filter_start_time_after_end_time with id: 2026-02-04_17-17-59__85b98783-b27b-4e15-a110-71bc49daf4ab
2026-02-04 17:17:59.232 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-02-04 17:17:59.232 DEBUG [src.steps.store] Running fixture setup: store_setup
2026-02-04 17:17:59.232 DEBUG [src.steps.store] Running fixture setup: node_setup
2026-02-04 17:17:59.239 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-04 17:17:59.239 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/publishing_node1_2026-02-04_17-17-59__85b98783-b27b-4e15-a110-71bc49daf4ab__wakuorg_nwaku:latest.log
2026-02-04 17:17:59.239 DEBUG [src.node.waku_node] Starting Node...
2026-02-04 17:17:59.239 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-04 17:17:59.240 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-04 17:17:59.240 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.108.156
2026-02-04 17:17:59.240 DEBUG [src.node.docker_mananger] Generated ports ['4500', '4501', '4502', '4503', '4504']
2026-02-04 17:17:59.241 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-04 17:17:59.241 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-04 17:17:59.241 DEBUG [src.node.waku_node] Using volumes []
2026-02-04 17:17:59.241 DEBUG [src.node.docker_mananger] docker run -i -t -p 4500:4500 -p 4501:4501 -p 4502:4502 -p 4503:4503 -p 4504:4504 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=4502 --rest-port=4500 --tcp-port=4501 --discv5-udp-port=4503 --rest-address=0.0.0.0 --nat=extip:172.18.108.156 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=35e7acbfb7a246d4eeaebee3dd30a899e55ccd3ae7dd478d2c861a33edeb2e5e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=4504 --metrics-logging=true --store=true --relay=true
2026-02-04 17:17:59.422 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.108.156 waku efd9a1fbc55359aecde3028c5f7e527f0ec52cb0d8f9fb527df57aaa8c937702
2026-02-04 17:17:59.453 DEBUG [src.node.docker_mananger] Container started with ID efd9a1fbc553. Setting up logs at ./log/docker/publishing_node1_2026-02-04_17-17-59__85b98783-b27b-4e15-a110-71bc49daf4ab__wakuorg_nwaku:latest.log
2026-02-04 17:17:59.455 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 4500
2026-02-04 17:17:59.455 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-04 17:17:59.530 ERROR [src.node.docker_mananger] Max retries reached for container 5cce2dc0f2bd. Exiting log stream.
2026-02-04 17:18:00.038 ERROR [src.node.docker_mananger] Max retries reached for container b42a093af660. Exiting log stream.
2026-02-04 17:18:00.455 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:4500/health" -H "Content-Type: application/json" -d 'None'
2026-02-04 17:18:00.458 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"READY"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"READY"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-04 17:18:00.459 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-04 17:18:00.459 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:4500/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-04 17:18:00.461 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.108.156/tcp/4501/p2p/16Uiu2HAmCgvBGzVmKqhbbZBHe7UaN9PNHfuMWrsABtDYKBeXJpeu","/ip4/172.18.108.156/tcp/4502/ws/p2p/16Uiu2HAmCgvBGzVmKqhbbZBHe7UaN9PNHfuMWrsABtDYKBeXJpeu"],"enrUri":"enr:-L24QLtTsEl7SqtYZZgiF1tBU4RN1worIt47IT25ORQ-n1yKbsmHK3ffsVBv8S2nTDSQh-GGxUs498lf6dYQgAFHQegCgmlkgnY0gmlwhKwSbJyKbXVsdGlhZGRyc5YACASsEmycBhGVAAoErBJsnAYRlt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDAH5xj2rhUic30AJb1vuD2SmEySGHqBXmeLjHGojZlVqDdGNwghGVg3VkcIIRl4V3YWt1MgM"}'
2026-02-04 17:18:00.461 INFO [src.node.waku_node] REST service is ready !!
2026-02-04 17:18:00.468 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-04 17:18:00.468 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/store_node1_2026-02-04_17-17-59__85b98783-b27b-4e15-a110-71bc49daf4ab__wakuorg_nwaku:latest.log
2026-02-04 17:18:00.469 DEBUG [src.node.waku_node] Starting Node...
2026-02-04 17:18:00.469 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-04 17:18:00.470 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-04 17:18:00.470 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.19.216
2026-02-04 17:18:00.470 DEBUG [src.node.docker_mananger] Generated ports ['28404', '28405', '28406', '28407', '28408']
2026-02-04 17:18:00.471 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-04 17:18:00.471 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-04 17:18:00.471 DEBUG [src.node.waku_node] Using volumes []
2026-02-04 17:18:00.471 DEBUG [src.node.docker_mananger] docker run -i -t -p 28404:28404 -p 28405:28405 -p 28406:28406 -p 28407:28407 -p 28408:28408 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=28406 --rest-port=28404 --tcp-port=28405 --discv5-udp-port=28407 --rest-address=0.0.0.0 --nat=extip:172.18.19.216 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fea99aecaa0fbdcebf086f53047ed1a419301da4a9f99f5a26ca1c0bed4178ef --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=28408 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QLtTsEl7SqtYZZgiF1tBU4RN1worIt47IT25ORQ-n1yKbsmHK3ffsVBv8S2nTDSQh-GGxUs498lf6dYQgAFHQegCgmlkgnY0gmlwhKwSbJyKbXVsdGlhZGRyc5YACASsEmycBhGVAAoErBJsnAYRlt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDAH5xj2rhUic30AJb1vuD2SmEySGHqBXmeLjHGojZlVqDdGNwghGVg3VkcIIRl4V3YWt1MgM --storenode=/ip4/172.18.108.156/tcp/4501/p2p/16Uiu2HAmCgvBGzVmKqhbbZBHe7UaN9PNHfuMWrsABtDYKBeXJpeu --store=true --relay=true
2026-02-04 17:18:00.661 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.19.216 waku 3f21ff7a69b7007e52a8c20f7caa796a13828b926712f64a52969cdede7c53d9
2026-02-04 17:18:00.691 DEBUG [src.node.docker_mananger] Container started with ID 3f21ff7a69b7. Setting up logs at ./log/docker/store_node1_2026-02-04_17-17-59__85b98783-b27b-4e15-a110-71bc49daf4ab__wakuorg_nwaku:latest.log
2026-02-04 17:18:00.691 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 28404
2026-02-04 17:18:00.692 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-04 17:18:01.692 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28404/health" -H "Content-Type: application/json" -d 'None'
2026-02-04 17:18:01.696 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"READY"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"READY"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"READY"},{"Legacy Store Client":"READY"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-04 17:18:01.696 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-04 17:18:01.697 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28404/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-04 17:18:01.699 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.19.216/tcp/28405/p2p/16Uiu2HAm6kmnLMkRwgd2yUNVqsCZzoCXGVAM69N1Sm2DfUhYarE9","/ip4/172.18.19.216/tcp/28406/ws/p2p/16Uiu2HAm6kmnLMkRwgd2yUNVqsCZzoCXGVAM69N1Sm2DfUhYarE9"],"enrUri":"enr:-L24QM0vUF9xfAsecba8cB3QHp1jQMjrhOZ-bQRsNV1Ltj_YJieEDT5WsFckErkhPErcUYUR-4EV6NsquMgiBu8vUz0CgmlkgnY0gmlwhKwSE9iKbXVsdGlhZGRyc5YACASsEhPYBm71AAoErBIT2AZu9t0DgnJzhQADAQAAiXNlY3AyNTZrMaECqFUnAzrNpJCUwIGMB77Lr4hxKU74styogfqiMGa_MbaDdGNwgm71g3VkcIJu94V3YWt1MgM"}'
2026-02-04 17:18:01.699 INFO [src.node.waku_node] REST service is ready !!
2026-02-04 17:18:01.700 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:28404/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.108.156/tcp/4501/p2p/16Uiu2HAmCgvBGzVmKqhbbZBHe7UaN9PNHfuMWrsABtDYKBeXJpeu"]'
2026-02-04 17:18:01.702 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 17:18:01.703 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4500/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-04 17:18:01.705 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 17:18:01.706 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:28404/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-04 17:18:01.708 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 17:18:01.709 DEBUG [src.steps.store] Relaying message
2026-02-04 17:18:01.709 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4500/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-04 17:18:01.714 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 17:18:01.714 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-04 17:18:01.915 DEBUG [src.steps.store] Relaying message
2026-02-04 17:18:01.916 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4500/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-04 17:18:01.921 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 17:18:01.922 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-04 17:18:02.122 DEBUG [src.steps.store] Relaying message
2026-02-04 17:18:02.123 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4500/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-04 17:18:02.128 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 17:18:02.128 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-04 17:18:02.329 DEBUG [src.steps.store] Relaying message
2026-02-04 17:18:02.329 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4500/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-04 17:18:02.335 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 17:18:02.335 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-04 17:18:02.536 DEBUG [src.steps.store] Relaying message
2026-02-04 17:18:02.536 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4500/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-04 17:18:02.541 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 17:18:02.541 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-04 17:18:02.742 DEBUG [src.steps.store] Relaying message
2026-02-04 17:18:02.742 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4500/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-04 17:18:02.746 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 17:18:02.747 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-04 17:18:02.948 DEBUG [tests.store.test_time_filter] inquering stored messages with start time 1770225483709288960 after end time 1770225478709275904
2026-02-04 17:18:02.948 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:4500/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=1770225483709288960&endTime=1770225478709275904&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
2026-02-04 17:18:02.951 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[]}'
2026-02-04 17:18:02.951 DEBUG [tests.store.test_time_filter] response for wrong time message is {'requestId': '', 'statusCode': 200, 'statusDesc': 'OK', 'messages': []}
2026-02-04 17:18:02.952 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28404/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=1770225483709288960&endTime=1770225478709275904&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
2026-02-04 17:18:02.954 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[]}'
2026-02-04 17:18:02.954 DEBUG [tests.store.test_time_filter] response for wrong time message is {'requestId': '', 'statusCode': 200, 'statusDesc': 'OK', 'messages': []}
2026-02-04 17:18:02.956 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-02-04 17:18:02.957 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-02-04 17:18:02.957 DEBUG [src.node.waku_node] Stopping container with id efd9a1fbc553
2026-02-04 17:18:03.503 DEBUG [src.node.waku_node] Container stopped.
2026-02-04 17:18:03.504 DEBUG [src.node.waku_node] Stopping container with id 3f21ff7a69b7
2026-02-04 17:18:04.027 DEBUG [src.node.waku_node] Container stopped.
2026-02-04 17:18:04.029 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-02-04 17:18:04.037 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-04 17:18:04.045 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
