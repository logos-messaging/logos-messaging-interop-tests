2026-02-04 17:15:12.279 DEBUG [tests.conftest] Running fixture setup: test_id
2026-02-04 17:15:12.279 DEBUG [tests.conftest] Running test: test_get_store_messages_with_different_pubsub_topics with id: 2026-02-04_17-15-12__13b270de-95c1-4059-9274-9e8623082a79
2026-02-04 17:15:12.279 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-02-04 17:15:12.280 DEBUG [src.steps.store] Running fixture setup: store_setup
2026-02-04 17:15:12.280 DEBUG [src.steps.store] Running fixture setup: node_setup
2026-02-04 17:15:12.287 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-04 17:15:12.287 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/publishing_node1_2026-02-04_17-15-12__13b270de-95c1-4059-9274-9e8623082a79__wakuorg_nwaku:latest.log
2026-02-04 17:15:12.288 DEBUG [src.node.waku_node] Starting Node...
2026-02-04 17:15:12.288 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-04 17:15:12.289 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-04 17:15:12.289 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.52.117
2026-02-04 17:15:12.289 DEBUG [src.node.docker_mananger] Generated ports ['45789', '45790', '45791', '45792', '45793']
2026-02-04 17:15:12.290 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-04 17:15:12.290 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-04 17:15:12.290 DEBUG [src.node.waku_node] Using volumes []
2026-02-04 17:15:12.290 DEBUG [src.node.docker_mananger] docker run -i -t -p 45789:45789 -p 45790:45790 -p 45791:45791 -p 45792:45792 -p 45793:45793 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=45791 --rest-port=45789 --tcp-port=45790 --discv5-udp-port=45792 --rest-address=0.0.0.0 --nat=extip:172.18.52.117 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a5bc083bfedaaf2adbbc9278956eeab21dccfc33caee880a00e8adbeabefdeab --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=45793 --metrics-logging=true --store=true --relay=true
2026-02-04 17:15:12.482 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.52.117 waku 20b08352adeac3983ed3260f00656bd89e8762776804b3ed7943a7abd8b53c10
2026-02-04 17:15:12.513 DEBUG [src.node.docker_mananger] Container started with ID 20b08352adea. Setting up logs at ./log/docker/publishing_node1_2026-02-04_17-15-12__13b270de-95c1-4059-9274-9e8623082a79__wakuorg_nwaku:latest.log
2026-02-04 17:15:12.515 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 45789
2026-02-04 17:15:12.515 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-04 17:15:12.537 ERROR [src.node.docker_mananger] Max retries reached for container 8dcbca710cc7. Exiting log stream.
2026-02-04 17:15:13.064 ERROR [src.node.docker_mananger] Max retries reached for container ab3af84d897e. Exiting log stream.
2026-02-04 17:15:13.516 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45789/health" -H "Content-Type: application/json" -d 'None'
2026-02-04 17:15:13.519 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"READY"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"READY"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-04 17:15:13.519 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-04 17:15:13.519 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45789/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-04 17:15:13.522 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.52.117/tcp/45790/p2p/16Uiu2HAm11waaeUdBSzVts3rqmXTice6B9Cpuiwoezsi9Lpn5UNb","/ip4/172.18.52.117/tcp/45791/ws/p2p/16Uiu2HAm11waaeUdBSzVts3rqmXTice6B9Cpuiwoezsi9Lpn5UNb"],"enrUri":"enr:-L24QHungQDoj4kmVFnM8YLMBiWHg_XveNak9Tjcjp4eQg3HMBAPHU6vO5XuC_3k9-TXUDdwpiqUmwnWPc20Czf7ACcCgmlkgnY0gmlwhKwSNHWKbXVsdGlhZGRyc5YACASsEjR1BrLeAAoErBI0dQay390DgnJzhQADAQAAiXNlY3AyNTZrMaECUxHSJJpRynlYXag3eGYJku_iYYvc4jDflXvC6CAgiECDdGNwgrLeg3VkcIKy4IV3YWt1MgM"}'
2026-02-04 17:15:13.522 INFO [src.node.waku_node] REST service is ready !!
2026-02-04 17:15:13.529 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-04 17:15:13.529 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/store_node1_2026-02-04_17-15-12__13b270de-95c1-4059-9274-9e8623082a79__wakuorg_nwaku:latest.log
2026-02-04 17:15:13.529 DEBUG [src.node.waku_node] Starting Node...
2026-02-04 17:15:13.529 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-04 17:15:13.531 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-04 17:15:13.531 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.67.230
2026-02-04 17:15:13.531 DEBUG [src.node.docker_mananger] Generated ports ['38537', '38538', '38539', '38540', '38541']
2026-02-04 17:15:13.531 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-04 17:15:13.532 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-04 17:15:13.532 DEBUG [src.node.waku_node] Using volumes []
2026-02-04 17:15:13.532 DEBUG [src.node.docker_mananger] docker run -i -t -p 38537:38537 -p 38538:38538 -p 38539:38539 -p 38540:38540 -p 38541:38541 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=38539 --rest-port=38537 --tcp-port=38538 --discv5-udp-port=38540 --rest-address=0.0.0.0 --nat=extip:172.18.67.230 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e8750bc7c58b44af6ffd89ca8f9dfc7b3f38b89a51048ecf92bc71b7c0ad7d7b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=38541 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QHungQDoj4kmVFnM8YLMBiWHg_XveNak9Tjcjp4eQg3HMBAPHU6vO5XuC_3k9-TXUDdwpiqUmwnWPc20Czf7ACcCgmlkgnY0gmlwhKwSNHWKbXVsdGlhZGRyc5YACASsEjR1BrLeAAoErBI0dQay390DgnJzhQADAQAAiXNlY3AyNTZrMaECUxHSJJpRynlYXag3eGYJku_iYYvc4jDflXvC6CAgiECDdGNwgrLeg3VkcIKy4IV3YWt1MgM --storenode=/ip4/172.18.52.117/tcp/45790/p2p/16Uiu2HAm11waaeUdBSzVts3rqmXTice6B9Cpuiwoezsi9Lpn5UNb --store=true --relay=true
2026-02-04 17:15:13.727 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.67.230 waku c94b3b73f8daa102f4826c812eb426378d431b77c74a5508acebb0a394c7125d
2026-02-04 17:15:13.760 DEBUG [src.node.docker_mananger] Container started with ID c94b3b73f8da. Setting up logs at ./log/docker/store_node1_2026-02-04_17-15-12__13b270de-95c1-4059-9274-9e8623082a79__wakuorg_nwaku:latest.log
2026-02-04 17:15:13.761 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 38537
2026-02-04 17:15:13.762 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-04 17:15:14.762 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38537/health" -H "Content-Type: application/json" -d 'None'
2026-02-04 17:15:14.766 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"READY"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"READY"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"READY"},{"Legacy Store Client":"READY"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-04 17:15:14.767 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-04 17:15:14.767 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38537/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-04 17:15:14.769 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.67.230/tcp/38538/p2p/16Uiu2HAmJgmo9grGPJ1VLaX1irTQF8MjojKVEGGq76pK2oZiuDay","/ip4/172.18.67.230/tcp/38539/ws/p2p/16Uiu2HAmJgmo9grGPJ1VLaX1irTQF8MjojKVEGGq76pK2oZiuDay"],"enrUri":"enr:-L24QB1NWFj3QLY7_7OYExcRpu3-RygmCQzUxy4r9E1SrzkzHZPGLEI5CU1N42sLBVLxOVup4TnmlANNTI1GMdfUAh4CgmlkgnY0gmlwhKwSQ-aKbXVsdGlhZGRyc5YACASsEkPmBpaKAAoErBJD5gaWi90DgnJzhQADAQAAiXNlY3AyNTZrMaEDWZsWkwuamFWKKspJ_rat-BcTPjUwzKXFoz4kZfe95xKDdGNwgpaKg3VkcIKWjIV3YWt1MgM"}'
2026-02-04 17:15:14.770 INFO [src.node.waku_node] REST service is ready !!
2026-02-04 17:15:14.770 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:38537/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.52.117/tcp/45790/p2p/16Uiu2HAm11waaeUdBSzVts3rqmXTice6B9Cpuiwoezsi9Lpn5UNb"]'
2026-02-04 17:15:14.773 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 17:15:14.773 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45789/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-04 17:15:14.775 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 17:15:14.776 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:38537/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-04 17:15:14.778 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 17:15:14.779 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45789/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0", "/waku/2/rs/3/1", "/waku/2/rs/3/2", "/waku/2/rs/3/3", "/waku/2/rs/3/4", "/waku/2/rs/3/5", "/waku/2/rs/3/6", "/waku/2/rs/3/7", "/waku/2/rs/3/8"]'
2026-02-04 17:15:14.789 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 17:15:14.790 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:38537/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0", "/waku/2/rs/3/1", "/waku/2/rs/3/2", "/waku/2/rs/3/3", "/waku/2/rs/3/4", "/waku/2/rs/3/5", "/waku/2/rs/3/6", "/waku/2/rs/3/7", "/waku/2/rs/3/8"]'
2026-02-04 17:15:14.805 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 17:15:14.806 DEBUG [tests.store.test_get_messages] Running test with pubsub topic /waku/2/rs/3/0
2026-02-04 17:15:14.806 DEBUG [src.steps.store] Relaying message
2026-02-04 17:15:14.807 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45789/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-04 17:15:14.817 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 17:15:14.817 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-04 17:15:15.018 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2026-02-04 17:15:15.018 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45789/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2026-02-04 17:15:15.022 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x74518e9c350e92d0812a0bda15242c54d3ac0303cca046343b7ec8c7f7948335"}]}'
2026-02-04 17:15:15.022 DEBUG [src.steps.store] messages length is 1
2026-02-04 17:15:15.022 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2026-02-04 17:15:15.023 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38537/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2026-02-04 17:15:15.025 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x74518e9c350e92d0812a0bda15242c54d3ac0303cca046343b7ec8c7f7948335"}]}'
2026-02-04 17:15:15.025 DEBUG [src.steps.store] messages length is 1
2026-02-04 17:15:15.026 DEBUG [tests.store.test_get_messages] Running test with pubsub topic /waku/2/rs/3/1
2026-02-04 17:15:15.026 DEBUG [src.steps.store] Relaying message
2026-02-04 17:15:15.026 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45789/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-04 17:15:15.032 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 17:15:15.033 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-04 17:15:15.234 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2026-02-04 17:15:15.234 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45789/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F1&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2026-02-04 17:15:15.237 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x2d5a5d4a89f7095799801f8171775ad11ba7f06a6810713f01199a4519329d61"}]}'
2026-02-04 17:15:15.237 DEBUG [src.steps.store] messages length is 1
2026-02-04 17:15:15.238 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2026-02-04 17:15:15.238 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38537/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F1&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2026-02-04 17:15:15.240 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x2d5a5d4a89f7095799801f8171775ad11ba7f06a6810713f01199a4519329d61"}]}'
2026-02-04 17:15:15.241 DEBUG [src.steps.store] messages length is 1
2026-02-04 17:15:15.241 DEBUG [tests.store.test_get_messages] Running test with pubsub topic /waku/2/rs/3/2
2026-02-04 17:15:15.241 DEBUG [src.steps.store] Relaying message
2026-02-04 17:15:15.241 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45789/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F2" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-04 17:15:15.246 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 17:15:15.246 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-04 17:15:15.447 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2026-02-04 17:15:15.447 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45789/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F2&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2026-02-04 17:15:15.450 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xf52e2c13a64ab85f917825111fa368f19bf754d0f404815718a496b77dcd472f"}]}'
2026-02-04 17:15:15.451 DEBUG [src.steps.store] messages length is 1
2026-02-04 17:15:15.451 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2026-02-04 17:15:15.451 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38537/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F2&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2026-02-04 17:15:15.454 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xf52e2c13a64ab85f917825111fa368f19bf754d0f404815718a496b77dcd472f"}]}'
2026-02-04 17:15:15.455 DEBUG [src.steps.store] messages length is 1
2026-02-04 17:15:15.455 DEBUG [tests.store.test_get_messages] Running test with pubsub topic /waku/2/rs/3/3
2026-02-04 17:15:15.455 DEBUG [src.steps.store] Relaying message
2026-02-04 17:15:15.455 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45789/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F3" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-04 17:15:15.461 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 17:15:15.462 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-04 17:15:15.662 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2026-02-04 17:15:15.663 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45789/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F3&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2026-02-04 17:15:15.666 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xe988831f6e8386af8fc2c2b7d8659b13fadb7bbc887b795219be03450f75ce9e"}]}'
2026-02-04 17:15:15.666 DEBUG [src.steps.store] messages length is 1
2026-02-04 17:15:15.667 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2026-02-04 17:15:15.667 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38537/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F3&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2026-02-04 17:15:15.669 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xe988831f6e8386af8fc2c2b7d8659b13fadb7bbc887b795219be03450f75ce9e"}]}'
2026-02-04 17:15:15.669 DEBUG [src.steps.store] messages length is 1
2026-02-04 17:15:15.670 DEBUG [tests.store.test_get_messages] Running test with pubsub topic /waku/2/rs/3/4
2026-02-04 17:15:15.670 DEBUG [src.steps.store] Relaying message
2026-02-04 17:15:15.670 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45789/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F4" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-04 17:15:15.678 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 17:15:15.678 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-04 17:15:15.879 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2026-02-04 17:15:15.879 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45789/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F4&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2026-02-04 17:15:15.882 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xd300df7f64edc2b3b74411070cdbb0a525cfc064b5dfa4196f96d61a193d56b6"}]}'
2026-02-04 17:15:15.882 DEBUG [src.steps.store] messages length is 1
2026-02-04 17:15:15.883 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2026-02-04 17:15:15.883 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38537/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F4&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2026-02-04 17:15:15.886 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xd300df7f64edc2b3b74411070cdbb0a525cfc064b5dfa4196f96d61a193d56b6"}]}'
2026-02-04 17:15:15.886 DEBUG [src.steps.store] messages length is 1
2026-02-04 17:15:15.887 DEBUG [tests.store.test_get_messages] Running test with pubsub topic /waku/2/rs/3/5
2026-02-04 17:15:15.887 DEBUG [src.steps.store] Relaying message
2026-02-04 17:15:15.887 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45789/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F5" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-04 17:15:15.892 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 17:15:15.893 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-04 17:15:16.094 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2026-02-04 17:15:16.094 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45789/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F5&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2026-02-04 17:15:16.097 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xd2a2c3818a8bcba76881b0add17a4cb8e803f81f4a32e48d25a9cdf86c9dc279"}]}'
2026-02-04 17:15:16.097 DEBUG [src.steps.store] messages length is 1
2026-02-04 17:15:16.098 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2026-02-04 17:15:16.098 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38537/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F5&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2026-02-04 17:15:16.101 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xd2a2c3818a8bcba76881b0add17a4cb8e803f81f4a32e48d25a9cdf86c9dc279"}]}'
2026-02-04 17:15:16.101 DEBUG [src.steps.store] messages length is 1
2026-02-04 17:15:16.101 DEBUG [tests.store.test_get_messages] Running test with pubsub topic /waku/2/rs/3/6
2026-02-04 17:15:16.102 DEBUG [src.steps.store] Relaying message
2026-02-04 17:15:16.102 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45789/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F6" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-04 17:15:16.107 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 17:15:16.108 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-04 17:15:16.309 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2026-02-04 17:15:16.310 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45789/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F6&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2026-02-04 17:15:16.314 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x4e98390043c90e177ba8d2ad1b26b7979011b1cfc25a53176d678e96a0b2ada7"}]}'
2026-02-04 17:15:16.314 DEBUG [src.steps.store] messages length is 1
2026-02-04 17:15:16.315 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2026-02-04 17:15:16.315 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38537/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F6&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2026-02-04 17:15:16.318 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x4e98390043c90e177ba8d2ad1b26b7979011b1cfc25a53176d678e96a0b2ada7"}]}'
2026-02-04 17:15:16.318 DEBUG [src.steps.store] messages length is 1
2026-02-04 17:15:16.318 DEBUG [tests.store.test_get_messages] Running test with pubsub topic /waku/2/rs/3/7
2026-02-04 17:15:16.319 DEBUG [src.steps.store] Relaying message
2026-02-04 17:15:16.319 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45789/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F7" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-04 17:15:16.324 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 17:15:16.325 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-04 17:15:16.526 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2026-02-04 17:15:16.526 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45789/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F7&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2026-02-04 17:15:16.532 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xc691f0b4f446e9cf2dcefee3baaee308fdc1918a4b8f77698018d4f48719e367"}]}'
2026-02-04 17:15:16.532 DEBUG [src.steps.store] messages length is 1
2026-02-04 17:15:16.533 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2026-02-04 17:15:16.533 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38537/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F7&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2026-02-04 17:15:16.536 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xc691f0b4f446e9cf2dcefee3baaee308fdc1918a4b8f77698018d4f48719e367"}]}'
2026-02-04 17:15:16.536 DEBUG [src.steps.store] messages length is 1
2026-02-04 17:15:16.536 DEBUG [tests.store.test_get_messages] Running test with pubsub topic /waku/2/rs/3/8
2026-02-04 17:15:16.536 DEBUG [src.steps.store] Relaying message
2026-02-04 17:15:16.537 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45789/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F8" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-04 17:15:16.542 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 17:15:16.542 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-04 17:15:16.743 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2026-02-04 17:15:16.744 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45789/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F8&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2026-02-04 17:15:16.747 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xa3dbca9bbf27c8383e67be6204709dc9e8028d19dfb646cb79eca06f494c6ffc"}]}'
2026-02-04 17:15:16.747 DEBUG [src.steps.store] messages length is 1
2026-02-04 17:15:16.747 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2026-02-04 17:15:16.748 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38537/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F8&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2026-02-04 17:15:16.750 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xa3dbca9bbf27c8383e67be6204709dc9e8028d19dfb646cb79eca06f494c6ffc"}]}'
2026-02-04 17:15:16.751 DEBUG [src.steps.store] messages length is 1
2026-02-04 17:15:16.753 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-02-04 17:15:16.754 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-02-04 17:15:16.754 DEBUG [src.node.waku_node] Stopping container with id 20b08352adea
2026-02-04 17:15:17.285 DEBUG [src.node.waku_node] Container stopped.
2026-02-04 17:15:17.286 DEBUG [src.node.waku_node] Stopping container with id c94b3b73f8da
2026-02-04 17:15:17.882 DEBUG [src.node.waku_node] Container stopped.
2026-02-04 17:15:17.883 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-02-04 17:15:17.904 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-04 17:15:17.915 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
