2026-02-04 17:15:48.065 DEBUG [tests.conftest] Running fixture setup: test_id
2026-02-04 17:15:48.066 DEBUG [tests.conftest] Running test: test_light_push_with_valid_timestamps with id: 2026-02-04_17-15-48__43d6ab07-e7ee-4964-a2bd-5b1fcc07e90d
2026-02-04 17:15:48.066 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-02-04 17:15:48.066 DEBUG [src.steps.light_push] Running fixture setup: light_push_setup
2026-02-04 17:15:48.072 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-04 17:15:48.072 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node1_2026-02-04_17-15-48__43d6ab07-e7ee-4964-a2bd-5b1fcc07e90d__wakuorg_nwaku:latest.log
2026-02-04 17:15:48.073 DEBUG [src.node.waku_node] Starting Node...
2026-02-04 17:15:48.073 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-04 17:15:48.074 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-04 17:15:48.074 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.73.153
2026-02-04 17:15:48.074 DEBUG [src.node.docker_mananger] Generated ports ['47147', '47148', '47149', '47150', '47151']
2026-02-04 17:15:48.075 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-04 17:15:48.075 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-04 17:15:48.075 DEBUG [src.node.waku_node] Using volumes []
2026-02-04 17:15:48.075 DEBUG [src.node.docker_mananger] docker run -i -t -p 47147:47147 -p 47148:47148 -p 47149:47149 -p 47150:47150 -p 47151:47151 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=47149 --rest-port=47147 --tcp-port=47148 --discv5-udp-port=47150 --rest-address=0.0.0.0 --nat=extip:172.18.73.153 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=5ee51f2dca1dddc105b1b6e6859cb206d0b6cb6a30f6bcea39fbb521d30b2a86 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=47151 --metrics-logging=true --lightpush=true --relay=true
2026-02-04 17:15:48.247 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.73.153 waku 83a689cc60d951290dd9d2a524a0dce1cc927001abbffd48072d8ae092b6493a
2026-02-04 17:15:48.279 DEBUG [src.node.docker_mananger] Container started with ID 83a689cc60d9. Setting up logs at ./log/docker/receiving_node1_2026-02-04_17-15-48__43d6ab07-e7ee-4964-a2bd-5b1fcc07e90d__wakuorg_nwaku:latest.log
2026-02-04 17:15:48.280 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 47147
2026-02-04 17:15:48.280 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-04 17:15:48.287 ERROR [src.node.docker_mananger] Max retries reached for container 46551c04ea12. Exiting log stream.
2026-02-04 17:15:48.846 ERROR [src.node.docker_mananger] Max retries reached for container 0729e6576600. Exiting log stream.
2026-02-04 17:15:49.280 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:47147/health" -H "Content-Type: application/json" -d 'None'
2026-02-04 17:15:49.284 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_READY","desc":"Node has no relay peers to fullfill push requests"},{"Legacy Lightpush":"NOT_READY","desc":"Node has no relay peers to fullfill push requests"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-04 17:15:49.284 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-04 17:15:49.284 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:47147/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-04 17:15:49.286 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.73.153/tcp/47148/p2p/16Uiu2HAkxgcnyqypUC9aaQHpJd6dLVxvBp68eykz8dUswUtkuXvJ","/ip4/172.18.73.153/tcp/47149/ws/p2p/16Uiu2HAkxgcnyqypUC9aaQHpJd6dLVxvBp68eykz8dUswUtkuXvJ"],"enrUri":"enr:-L24QEmNZh2hvKSBPfwdo7kN2kSfrZcEbtFK0I9uZQQR3aN4KGQTZ-ti21_X2wp2rhkCJPeNDumwfLTD3JABvoJcwSoCgmlkgnY0gmlwhKwSSZmKbXVsdGlhZGRyc5YACASsEkmZBrgsAAoErBJJmQa4Ld0DgnJzhQADAQAAiXNlY3AyNTZrMaECMGcrhgCm8qdoVK-WSPvfta25UwMGcxaxPnAZ0kQkjruDdGNwgrgsg3VkcIK4LoV3YWt1Mgk"}'
2026-02-04 17:15:49.286 INFO [src.node.waku_node] REST service is ready !!
2026-02-04 17:15:49.293 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-04 17:15:49.293 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node2_2026-02-04_17-15-48__43d6ab07-e7ee-4964-a2bd-5b1fcc07e90d__wakuorg_nwaku:latest.log
2026-02-04 17:15:49.293 DEBUG [src.node.waku_node] Starting Node...
2026-02-04 17:15:49.293 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-04 17:15:49.295 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-04 17:15:49.295 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.192.165
2026-02-04 17:15:49.295 DEBUG [src.node.docker_mananger] Generated ports ['37484', '37485', '37486', '37487', '37488']
2026-02-04 17:15:49.295 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-04 17:15:49.295 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-04 17:15:49.295 DEBUG [src.node.waku_node] Using volumes []
2026-02-04 17:15:49.295 DEBUG [src.node.docker_mananger] docker run -i -t -p 37484:37484 -p 37485:37485 -p 37486:37486 -p 37487:37487 -p 37488:37488 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=37486 --rest-port=37484 --tcp-port=37485 --discv5-udp-port=37487 --rest-address=0.0.0.0 --nat=extip:172.18.192.165 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=0bcee2964be8cdbbbf45e03fff37f5779e7dd0bddde9daafb5ea9e0f7fc4da18 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=37488 --metrics-logging=true --lightpush=false --relay=true
2026-02-04 17:15:49.475 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.192.165 waku 5cf0a7b911ce215b3a40f709150f60495cc505f29a3442f68a7a5d779d1bcbb0
2026-02-04 17:15:49.504 DEBUG [src.node.docker_mananger] Container started with ID 5cf0a7b911ce. Setting up logs at ./log/docker/receiving_node2_2026-02-04_17-15-48__43d6ab07-e7ee-4964-a2bd-5b1fcc07e90d__wakuorg_nwaku:latest.log
2026-02-04 17:15:49.505 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 37484
2026-02-04 17:15:49.506 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-04 17:15:50.506 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:37484/health" -H "Content-Type: application/json" -d 'None'
2026-02-04 17:15:50.509 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-04 17:15:50.510 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-04 17:15:50.510 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:37484/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-04 17:15:50.512 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.192.165/tcp/37485/p2p/16Uiu2HAmARR1WwJQW1P5WaK3fNEjETPtEQ9gcnrwvtUnkZsyVvs8","/ip4/172.18.192.165/tcp/37486/ws/p2p/16Uiu2HAmARR1WwJQW1P5WaK3fNEjETPtEQ9gcnrwvtUnkZsyVvs8"],"enrUri":"enr:-L24QIDN8muXF2f-y2L_IPMdJ6_uIpw9PexyNrhY5RELMIiuWgUO1auo9BWVN6aTqmSA8H6bG0lht-0MP3CS1TGyXGwCgmlkgnY0gmlwhKwSwKWKbXVsdGlhZGRyc5YACASsEsClBpJtAAoErBLApQaSbt0DgnJzhQADAQAAiXNlY3AyNTZrMaEC3s5gfxt9iCVU3POl4UnsuFyxDewJ2FOZmJ_GkyrCv2-DdGNwgpJtg3VkcIKSb4V3YWt1MgE"}'
2026-02-04 17:15:50.512 INFO [src.node.waku_node] REST service is ready !!
2026-02-04 17:15:50.513 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:37484/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.73.153/tcp/47148/p2p/16Uiu2HAkxgcnyqypUC9aaQHpJd6dLVxvBp68eykz8dUswUtkuXvJ"]'
2026-02-04 17:15:50.545 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 17:15:50.554 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-04 17:15:50.554 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/lightpush_node1_2026-02-04_17-15-48__43d6ab07-e7ee-4964-a2bd-5b1fcc07e90d__wakuorg_nwaku:latest.log
2026-02-04 17:15:50.554 DEBUG [src.node.waku_node] Starting Node...
2026-02-04 17:15:50.554 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-04 17:15:50.556 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-04 17:15:50.557 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.227.131
2026-02-04 17:15:50.557 DEBUG [src.node.docker_mananger] Generated ports ['22156', '22157', '22158', '22159', '22160']
2026-02-04 17:15:50.557 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-04 17:15:50.557 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-04 17:15:50.557 DEBUG [src.node.waku_node] Using volumes []
2026-02-04 17:15:50.558 DEBUG [src.node.docker_mananger] docker run -i -t -p 22156:22156 -p 22157:22157 -p 22158:22158 -p 22159:22159 -p 22160:22160 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=22158 --rest-port=22156 --tcp-port=22157 --discv5-udp-port=22159 --rest-address=0.0.0.0 --nat=extip:172.18.227.131 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=7f27d5374ed3bf78c3e03e54720abd40fe09bf53ca8d1e5efa5f443539ee9fab --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=22160 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QEmNZh2hvKSBPfwdo7kN2kSfrZcEbtFK0I9uZQQR3aN4KGQTZ-ti21_X2wp2rhkCJPeNDumwfLTD3JABvoJcwSoCgmlkgnY0gmlwhKwSSZmKbXVsdGlhZGRyc5YACASsEkmZBrgsAAoErBJJmQa4Ld0DgnJzhQADAQAAiXNlY3AyNTZrMaECMGcrhgCm8qdoVK-WSPvfta25UwMGcxaxPnAZ0kQkjruDdGNwgrgsg3VkcIK4LoV3YWt1Mgk --lightpushnode=/ip4/172.18.73.153/tcp/47148/p2p/16Uiu2HAkxgcnyqypUC9aaQHpJd6dLVxvBp68eykz8dUswUtkuXvJ --lightpush=true --relay=true
2026-02-04 17:15:50.755 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.227.131 waku 2bc0af09aeacb9f7199583865d7b7aff60993976631bde0fe1b46cc8d89c0fff
2026-02-04 17:15:50.785 DEBUG [src.node.docker_mananger] Container started with ID 2bc0af09aeac. Setting up logs at ./log/docker/lightpush_node1_2026-02-04_17-15-48__43d6ab07-e7ee-4964-a2bd-5b1fcc07e90d__wakuorg_nwaku:latest.log
2026-02-04 17:15:50.785 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 22156
2026-02-04 17:15:50.785 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-04 17:15:51.786 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:22156/health" -H "Content-Type: application/json" -d 'None'
2026-02-04 17:15:51.790 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_READY","desc":"Node has no relay peers to fullfill push requests"},{"Legacy Lightpush":"NOT_READY","desc":"Node has no relay peers to fullfill push requests"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"READY"},{"Legacy Lightpush Client":"READY"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-04 17:15:51.790 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-04 17:15:51.790 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:22156/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-04 17:15:51.792 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.227.131/tcp/22157/p2p/16Uiu2HAm4YUtNrNjHpHEPa9TuWwLRqkYysusTxnaKgsJvj4o6966","/ip4/172.18.227.131/tcp/22158/ws/p2p/16Uiu2HAm4YUtNrNjHpHEPa9TuWwLRqkYysusTxnaKgsJvj4o6966"],"enrUri":"enr:-L24QCfqnL9YipViM74CI8u9ijQ4uPY_46Tjl2Ce_cYeixN3RgZi-tpCltQVKH1ej4UelKfEqfCvzolSBZ6-cesA4qUCgmlkgnY0gmlwhKwS44OKbXVsdGlhZGRyc5YACASsEuODBlaNAAoErBLjgwZWjt0DgnJzhQADAQAAiXNlY3AyNTZrMaECh3e0ZcCEOgWy4Zwdw0nkHl-Rsfn6T5vDWROszRVZ2s-DdGNwglaNg3VkcIJWj4V3YWt1Mgk"}'
2026-02-04 17:15:51.793 INFO [src.node.waku_node] REST service is ready !!
2026-02-04 17:15:51.793 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:22156/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.73.153/tcp/47148/p2p/16Uiu2HAkxgcnyqypUC9aaQHpJd6dLVxvBp68eykz8dUswUtkuXvJ"]'
2026-02-04 17:15:51.834 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 17:15:51.837 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:22156/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.192.165/tcp/37485/p2p/16Uiu2HAmARR1WwJQW1P5WaK3fNEjETPtEQ9gcnrwvtUnkZsyVvs8"]'
2026-02-04 17:15:51.868 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 17:15:51.869 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:47147/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-04 17:15:51.877 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 17:15:51.877 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:37484/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-04 17:15:51.882 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 17:15:51.882 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:22156/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-04 17:15:51.886 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 17:15:51.887 DEBUG [tests.light_push.test_publish] Running test with timestamp Now
2026-02-04 17:15:51.888 DEBUG [src.steps.light_push] Lightpushing message
2026-02-04 17:15:51.888 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:22156/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1770224990314694144}}'
2026-02-04 17:15:51.902 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 17:15:51.902 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-04 17:15:52.003 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2026-02-04 17:15:52.003 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:47147/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-04 17:15:52.006 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770224990314694144,"ephemeral":false,"proof":""}]'
2026-02-04 17:15:52.008 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2026-02-04 17:15:52.008 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:37484/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-04 17:15:52.010 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770224990314694144,"ephemeral":false,"proof":""}]'
2026-02-04 17:15:52.011 DEBUG [src.steps.light_push] Checking that peer NODE_3:wakuorg/nwaku:latest can find the lightpushed message
2026-02-04 17:15:52.011 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:22156/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-04 17:15:52.014 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770224990314694144,"ephemeral":false,"proof":""}]'
2026-02-04 17:15:52.015 DEBUG [tests.light_push.test_publish] Running test with timestamp Far future
2026-02-04 17:15:52.016 DEBUG [src.steps.light_push] Lightpushing message
2026-02-04 17:15:52.016 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:22156/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 2085584990314678784}}'
2026-02-04 17:15:52.028 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 17:15:52.029 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-04 17:15:52.129 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2026-02-04 17:15:52.129 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:47147/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-04 17:15:52.132 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":2085584990314678784,"ephemeral":false,"proof":""}]'
2026-02-04 17:15:52.134 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2026-02-04 17:15:52.134 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:37484/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-04 17:15:52.136 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":2085584990314678784,"ephemeral":false,"proof":""}]'
2026-02-04 17:15:52.138 DEBUG [src.steps.light_push] Checking that peer NODE_3:wakuorg/nwaku:latest can find the lightpushed message
2026-02-04 17:15:52.138 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:22156/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-04 17:15:52.140 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":2085584990314678784,"ephemeral":false,"proof":""}]'
2026-02-04 17:15:52.141 DEBUG [tests.light_push.test_publish] Running test with timestamp Recent past
2026-02-04 17:15:52.142 DEBUG [src.steps.light_push] Lightpushing message
2026-02-04 17:15:52.142 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:22156/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1770221390314678784}}'
2026-02-04 17:15:52.155 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 17:15:52.155 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-04 17:15:52.255 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2026-02-04 17:15:52.256 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:47147/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-04 17:15:52.259 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770221390314678784,"ephemeral":false,"proof":""}]'
2026-02-04 17:15:52.260 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2026-02-04 17:15:52.260 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:37484/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-04 17:15:52.263 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770221390314678784,"ephemeral":false,"proof":""}]'
2026-02-04 17:15:52.264 DEBUG [src.steps.light_push] Checking that peer NODE_3:wakuorg/nwaku:latest can find the lightpushed message
2026-02-04 17:15:52.264 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:22156/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-04 17:15:52.267 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770221390314678784,"ephemeral":false,"proof":""}]'
2026-02-04 17:15:52.269 DEBUG [tests.light_push.test_publish] Running test with timestamp Near future
2026-02-04 17:15:52.270 DEBUG [src.steps.light_push] Lightpushing message
2026-02-04 17:15:52.270 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:22156/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1770228590314678784}}'
2026-02-04 17:15:52.284 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 17:15:52.285 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-04 17:15:52.386 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2026-02-04 17:15:52.386 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:47147/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-04 17:15:52.389 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770228590314678784,"ephemeral":false,"proof":""}]'
2026-02-04 17:15:52.390 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2026-02-04 17:15:52.391 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:37484/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-04 17:15:52.393 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770228590314678784,"ephemeral":false,"proof":""}]'
2026-02-04 17:15:52.394 DEBUG [src.steps.light_push] Checking that peer NODE_3:wakuorg/nwaku:latest can find the lightpushed message
2026-02-04 17:15:52.394 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:22156/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-04 17:15:52.396 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770228590314678784,"ephemeral":false,"proof":""}]'
2026-02-04 17:15:52.418 DEBUG [tests.light_push.test_publish] Running test with timestamp Positive number
2026-02-04 17:15:52.418 DEBUG [src.steps.light_push] Lightpushing message
2026-02-04 17:15:52.419 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:22156/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1}}'
2026-02-04 17:15:52.434 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 17:15:52.434 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-04 17:15:52.534 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2026-02-04 17:15:52.535 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:47147/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-04 17:15:52.538 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1,"ephemeral":false,"proof":""}]'
2026-02-04 17:15:52.539 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2026-02-04 17:15:52.539 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:37484/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-04 17:15:52.542 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1,"ephemeral":false,"proof":""}]'
2026-02-04 17:15:52.543 DEBUG [src.steps.light_push] Checking that peer NODE_3:wakuorg/nwaku:latest can find the lightpushed message
2026-02-04 17:15:52.543 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:22156/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-04 17:15:52.546 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1,"ephemeral":false,"proof":""}]'
2026-02-04 17:15:52.548 DEBUG [tests.light_push.test_publish] Running test with timestamp Negative number
2026-02-04 17:15:52.548 DEBUG [src.steps.light_push] Lightpushing message
2026-02-04 17:15:52.548 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:22156/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": -1}}'
2026-02-04 17:15:52.562 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 17:15:52.563 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-04 17:15:52.663 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2026-02-04 17:15:52.664 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:47147/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-04 17:15:52.667 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":-1,"ephemeral":false,"proof":""}]'
2026-02-04 17:15:52.668 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2026-02-04 17:15:52.668 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:37484/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-04 17:15:52.670 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":-1,"ephemeral":false,"proof":""}]'
2026-02-04 17:15:52.672 DEBUG [src.steps.light_push] Checking that peer NODE_3:wakuorg/nwaku:latest can find the lightpushed message
2026-02-04 17:15:52.672 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:22156/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-04 17:15:52.674 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":-1,"ephemeral":false,"proof":""}]'
2026-02-04 17:15:52.676 DEBUG [tests.light_push.test_publish] Running test with timestamp DST change
2026-02-04 17:15:52.676 DEBUG [src.steps.light_push] Lightpushing message
2026-02-04 17:15:52.676 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:22156/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1583632800000000000}}'
2026-02-04 17:15:52.688 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 17:15:52.688 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-04 17:15:52.788 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2026-02-04 17:15:52.788 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:47147/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-04 17:15:52.791 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1583632800000000000,"ephemeral":false,"proof":""}]'
2026-02-04 17:15:52.793 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2026-02-04 17:15:52.793 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:37484/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-04 17:15:52.795 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1583632800000000000,"ephemeral":false,"proof":""}]'
2026-02-04 17:15:52.797 DEBUG [src.steps.light_push] Checking that peer NODE_3:wakuorg/nwaku:latest can find the lightpushed message
2026-02-04 17:15:52.797 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:22156/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-04 17:15:52.799 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1583632800000000000,"ephemeral":false,"proof":""}]'
2026-02-04 17:15:52.802 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-02-04 17:15:52.803 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-02-04 17:15:52.803 DEBUG [src.node.waku_node] Stopping container with id 83a689cc60d9
2026-02-04 17:15:53.336 DEBUG [src.node.waku_node] Container stopped.
2026-02-04 17:15:53.337 DEBUG [src.node.waku_node] Stopping container with id 5cf0a7b911ce
2026-02-04 17:15:53.873 DEBUG [src.node.waku_node] Container stopped.
2026-02-04 17:15:53.874 DEBUG [src.node.waku_node] Stopping container with id 2bc0af09aeac
2026-02-04 17:15:54.149 ERROR [src.node.docker_mananger] Max retries reached for container 83a689cc60d9. Exiting log stream.
2026-02-04 17:15:54.400 DEBUG [src.node.waku_node] Container stopped.
2026-02-04 17:15:54.401 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-02-04 17:15:54.413 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-04 17:15:54.422 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-04 17:15:54.435 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
