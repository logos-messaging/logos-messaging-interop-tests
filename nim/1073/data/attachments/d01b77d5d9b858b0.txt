2026-02-08 04:51:22.570 DEBUG [tests.conftest] Running fixture setup: test_id
2026-02-08 04:51:22.570 DEBUG [tests.conftest] Running test: test_relay_subscribe_with_invalid_pubsub_topic_format with id: 2026-02-08_04-51-22__3ceee4c5-2b47-40c5-9fef-2818ec3cb290
2026-02-08 04:51:22.571 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-02-08 04:51:22.571 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2026-02-08 04:51:22.571 DEBUG [src.steps.relay] Running fixture setup: setup_main_relay_nodes
2026-02-08 04:51:22.577 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-08 04:51:22.577 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2026-02-08_04-51-22__3ceee4c5-2b47-40c5-9fef-2818ec3cb290__wakuorg_nwaku:latest.log
2026-02-08 04:51:22.577 DEBUG [src.node.waku_node] Starting Node...
2026-02-08 04:51:22.577 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-08 04:51:22.579 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-08 04:51:22.579 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.226.6
2026-02-08 04:51:22.579 DEBUG [src.node.docker_mananger] Generated ports ['60363', '60364', '60365', '60366', '60367']
2026-02-08 04:51:22.579 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-08 04:51:22.579 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-08 04:51:22.579 DEBUG [src.node.waku_node] Using volumes []
2026-02-08 04:51:22.579 DEBUG [src.node.docker_mananger] docker run -i -t -p 60363:60363 -p 60364:60364 -p 60365:60365 -p 60366:60366 -p 60367:60367 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=60365 --rest-port=60363 --tcp-port=60364 --discv5-udp-port=60366 --rest-address=0.0.0.0 --nat=extip:172.18.226.6 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fa4f37bcee3bd4acb6ec1c6eebbde0e8dd1d1580faa4f6dea8b154964ab1a524 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=60367 --metrics-logging=true --relay=true
2026-02-08 04:51:22.765 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.226.6 waku b7e302c9cec66ba3e613d5464e7a91ed4ebe8255bb93b132019bd86a9a1f9d5b
2026-02-08 04:51:22.786 ERROR [src.node.docker_mananger] Max retries reached for container 6049c7cc1932. Exiting log stream.
2026-02-08 04:51:22.796 DEBUG [src.node.docker_mananger] Container started with ID b7e302c9cec6. Setting up logs at ./log/docker/node1_2026-02-08_04-51-22__3ceee4c5-2b47-40c5-9fef-2818ec3cb290__wakuorg_nwaku:latest.log
2026-02-08 04:51:22.796 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 60363
2026-02-08 04:51:22.798 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-08 04:51:23.359 ERROR [src.node.docker_mananger] Max retries reached for container 447e505c07fe. Exiting log stream.
2026-02-08 04:51:23.798 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60363/health" -H "Content-Type: application/json" -d 'None'
2026-02-08 04:51:23.801 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-08 04:51:23.801 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-08 04:51:23.802 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60363/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-08 04:51:23.804 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.226.6/tcp/60364/p2p/16Uiu2HAm4W7SshDESr18x7hYQMBx6WMxYCdrAdc3Q2zswnSMPXRS","/ip4/172.18.226.6/tcp/60365/ws/p2p/16Uiu2HAm4W7SshDESr18x7hYQMBx6WMxYCdrAdc3Q2zswnSMPXRS"],"enrUri":"enr:-L24QFwQN82_u1C0npD3AtS-fa1vUOSPWwLEO4INf2wpkCyEHju4tkHjv35YLsNOW_ZKeejChTumMATzviokq4xiK74CgmlkgnY0gmlwhKwS4gaKbXVsdGlhZGRyc5YACASsEuIGBuvMAAoErBLiBgbrzd0DgnJzhQADAQAAiXNlY3AyNTZrMaEChtxNFZvFrFPHW_f2zZ7dX2_0ZcvKN-CRw73qRrwf2VGDdGNwguvMg3VkcILrzoV3YWt1MgE"}'
2026-02-08 04:51:23.804 INFO [src.node.waku_node] REST service is ready !!
2026-02-08 04:51:23.811 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-08 04:51:23.811 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2026-02-08_04-51-22__3ceee4c5-2b47-40c5-9fef-2818ec3cb290__wakuorg_nwaku:latest.log
2026-02-08 04:51:23.811 DEBUG [src.node.waku_node] Starting Node...
2026-02-08 04:51:23.811 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-08 04:51:23.812 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-08 04:51:23.813 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.141.9
2026-02-08 04:51:23.813 DEBUG [src.node.docker_mananger] Generated ports ['14575', '14576', '14577', '14578', '14579']
2026-02-08 04:51:23.813 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-08 04:51:23.813 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-08 04:51:23.813 DEBUG [src.node.waku_node] Using volumes []
2026-02-08 04:51:23.813 DEBUG [src.node.docker_mananger] docker run -i -t -p 14575:14575 -p 14576:14576 -p 14577:14577 -p 14578:14578 -p 14579:14579 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=14577 --rest-port=14575 --tcp-port=14576 --discv5-udp-port=14578 --rest-address=0.0.0.0 --nat=extip:172.18.141.9 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fd97fd92c7b19bd266ef0ca1ff916411a1db752c59d07da77e67b7eacd9aea80 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=14579 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QFwQN82_u1C0npD3AtS-fa1vUOSPWwLEO4INf2wpkCyEHju4tkHjv35YLsNOW_ZKeejChTumMATzviokq4xiK74CgmlkgnY0gmlwhKwS4gaKbXVsdGlhZGRyc5YACASsEuIGBuvMAAoErBLiBgbrzd0DgnJzhQADAQAAiXNlY3AyNTZrMaEChtxNFZvFrFPHW_f2zZ7dX2_0ZcvKN-CRw73qRrwf2VGDdGNwguvMg3VkcILrzoV3YWt1MgE
2026-02-08 04:51:23.997 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.141.9 waku dfc9c239281c6c62ee005536e397f7b2b568a17622a3c082ac649d5078cd45a6
2026-02-08 04:51:24.029 DEBUG [src.node.docker_mananger] Container started with ID dfc9c239281c. Setting up logs at ./log/docker/node2_2026-02-08_04-51-22__3ceee4c5-2b47-40c5-9fef-2818ec3cb290__wakuorg_nwaku:latest.log
2026-02-08 04:51:24.030 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 14575
2026-02-08 04:51:24.030 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-08 04:51:25.030 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:14575/health" -H "Content-Type: application/json" -d 'None'
2026-02-08 04:51:25.043 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-08 04:51:25.045 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-08 04:51:25.046 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:14575/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-08 04:51:25.051 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.141.9/tcp/14576/p2p/16Uiu2HAmFpd8TNQTEqhNjTQzQcyaiyP4WPCoGXut2AyNLM4gQjzz","/ip4/172.18.141.9/tcp/14577/ws/p2p/16Uiu2HAmFpd8TNQTEqhNjTQzQcyaiyP4WPCoGXut2AyNLM4gQjzz"],"enrUri":"enr:-L24QChM8yzEUQDKPBok3lbwWbZZmdjQSntkJa854CHtLVNlcZo44RW6LN7hHyL5yMm2dqCnLKDk46pmYykjJiFLRKYCgmlkgnY0gmlwhKwSjQmKbXVsdGlhZGRyc5YACASsEo0JBjjwAAoErBKNCQY48d0DgnJzhQADAQAAiXNlY3AyNTZrMaEDLwrftyfhkhuJpjZ0mYlIsHXV9z3bIoKhT9uuUsBZ0nODdGNwgjjwg3VkcII48oV3YWt1MgE"}'
2026-02-08 04:51:25.052 INFO [src.node.waku_node] REST service is ready !!
2026-02-08 04:51:25.052 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:14575/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.226.6/tcp/60364/p2p/16Uiu2HAm4W7SshDESr18x7hYQMBx6WMxYCdrAdc3Q2zswnSMPXRS"]'
2026-02-08 04:51:25.055 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-08 04:51:25.055 DEBUG [tests.relay.test_subscribe] Running test with payload /test/2/rs/0/1
2026-02-08 04:51:25.056 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:60363/relay/v1/subscriptions" -H "Content-Type: application/json" -d '"/test/2/rs/0/1"'
2026-02-08 04:51:25.058 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:60363/relay/v1/subscriptions. Response content: b'Invalid content body, could not decode: Unable to deserialize data: '
2026-02-08 04:51:25.059 DEBUG [tests.relay.test_subscribe] Running test with payload /waku/3/rs/0/1
2026-02-08 04:51:25.059 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:60363/relay/v1/subscriptions" -H "Content-Type: application/json" -d '"/waku/3/rs/0/1"'
2026-02-08 04:51:25.061 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:60363/relay/v1/subscriptions. Response content: b'Invalid content body, could not decode: Unable to deserialize data: '
2026-02-08 04:51:25.062 DEBUG [tests.relay.test_subscribe] Running test with payload /waku/2/test/0/1
2026-02-08 04:51:25.062 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:60363/relay/v1/subscriptions" -H "Content-Type: application/json" -d '"/waku/2/test/0/1"'
2026-02-08 04:51:25.064 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:60363/relay/v1/subscriptions. Response content: b'Invalid content body, could not decode: Unable to deserialize data: '
2026-02-08 04:51:25.065 DEBUG [tests.relay.test_subscribe] Running test with payload /waku/2/rs/3/b
2026-02-08 04:51:25.065 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:60363/relay/v1/subscriptions" -H "Content-Type: application/json" -d '"/waku/2/rs/3/b"'
2026-02-08 04:51:25.067 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:60363/relay/v1/subscriptions. Response content: b'Invalid content body, could not decode: Unable to deserialize data: '
2026-02-08 04:51:25.068 DEBUG [tests.relay.test_subscribe] Running test with payload /waku/2/rs/0
2026-02-08 04:51:25.068 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:60363/relay/v1/subscriptions" -H "Content-Type: application/json" -d '"/waku/2/rs/0"'
2026-02-08 04:51:25.070 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:60363/relay/v1/subscriptions. Response content: b'Invalid content body, could not decode: Unable to deserialize data: '
2026-02-08 04:51:25.072 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-02-08 04:51:25.073 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-02-08 04:51:25.073 DEBUG [src.node.waku_node] Stopping container with id b7e302c9cec6
2026-02-08 04:51:25.586 DEBUG [src.node.waku_node] Container stopped.
2026-02-08 04:51:25.586 DEBUG [src.node.waku_node] Stopping container with id dfc9c239281c
2026-02-08 04:51:26.101 DEBUG [src.node.waku_node] Container stopped.
2026-02-08 04:51:26.103 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-02-08 04:51:26.108 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-08 04:51:26.112 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
