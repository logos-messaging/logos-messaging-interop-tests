2026-02-08 04:45:33.406 DEBUG [tests.conftest] Running fixture setup: test_id
2026-02-08 04:45:33.406 DEBUG [tests.conftest] Running test: test_filter_subscribe_with_no_pubsub_topic with id: 2026-02-08_04-45-33__0a9e8fb9-7b1d-49a5-a403-61c70fe3f078
2026-02-08 04:45:33.406 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-02-08 04:45:33.407 DEBUG [src.steps.filter] Running fixture setup: filter_setup
2026-02-08 04:45:33.407 DEBUG [src.steps.filter] Running fixture setup: setup_main_relay_node
2026-02-08 04:45:33.413 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-08 04:45:33.413 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2026-02-08_04-45-33__0a9e8fb9-7b1d-49a5-a403-61c70fe3f078__wakuorg_nwaku:latest.log
2026-02-08 04:45:33.413 DEBUG [src.node.waku_node] Starting Node...
2026-02-08 04:45:33.413 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-08 04:45:33.414 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-08 04:45:33.414 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.122.48
2026-02-08 04:45:33.415 DEBUG [src.node.docker_mananger] Generated ports ['3600', '3601', '3602', '3603', '3604']
2026-02-08 04:45:33.415 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-08 04:45:33.415 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-08 04:45:33.415 DEBUG [src.node.waku_node] Using volumes []
2026-02-08 04:45:33.415 DEBUG [src.node.docker_mananger] docker run -i -t -p 3600:3600 -p 3601:3601 -p 3602:3602 -p 3603:3603 -p 3604:3604 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=3602 --rest-port=3600 --tcp-port=3601 --discv5-udp-port=3603 --rest-address=0.0.0.0 --nat=extip:172.18.122.48 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a72984923fcad1c8ca4c3f3ebd40ce1f1b051f159bbe77ee80dc9a03013de46c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=3604 --metrics-logging=true --relay=true --filter=true
2026-02-08 04:45:33.594 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.122.48 waku 1a80ba95eccbc17b5087508c6388f631f015ee8b16b809f077b6fe5fe1cda230
2026-02-08 04:45:33.625 DEBUG [src.node.docker_mananger] Container started with ID 1a80ba95eccb. Setting up logs at ./log/docker/node1_2026-02-08_04-45-33__0a9e8fb9-7b1d-49a5-a403-61c70fe3f078__wakuorg_nwaku:latest.log
2026-02-08 04:45:33.625 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 3600
2026-02-08 04:45:33.625 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-08 04:45:33.650 ERROR [src.node.docker_mananger] Max retries reached for container d531f5ccdf73. Exiting log stream.
2026-02-08 04:45:34.216 ERROR [src.node.docker_mananger] Max retries reached for container 9e9aad35f42f. Exiting log stream.
2026-02-08 04:45:34.626 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:3600/health" -H "Content-Type: application/json" -d 'None'
2026-02-08 04:45:34.629 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_READY","desc":"Relay is not ready, filter will not be able to sort out messages"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-08 04:45:34.629 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-08 04:45:34.629 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:3600/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-08 04:45:34.631 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.122.48/tcp/3601/p2p/16Uiu2HAmCStqQXScECLRSAdwZHqUtyaeqGvkKVe8xJ5sXYw5De1x","/ip4/172.18.122.48/tcp/3602/ws/p2p/16Uiu2HAmCStqQXScECLRSAdwZHqUtyaeqGvkKVe8xJ5sXYw5De1x"],"enrUri":"enr:-L24QOKdkQT5SL9pCb-RlthFfQjmfg_VYfJQYlS5dLX0xNs-TDYl6A5nMIOyqN1Za9onTjUtDnoXwkoqmaA-cFMJjjMCgmlkgnY0gmlwhKwSejCKbXVsdGlhZGRyc5YACASsEnowBg4RAAoErBJ6MAYOEt0DgnJzhQADAQAAiXNlY3AyNTZrMaEC_ObLUJUmSeS2YmnfWOZImVUPsXnZZpaSXfTggxuXpwuDdGNwgg4Rg3VkcIIOE4V3YWt1MgU"}'
2026-02-08 04:45:34.632 INFO [src.node.waku_node] REST service is ready !!
2026-02-08 04:45:34.632 DEBUG [src.steps.filter] Running fixture setup: setup_main_filter_node
2026-02-08 04:45:34.638 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-08 04:45:34.638 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2026-02-08_04-45-33__0a9e8fb9-7b1d-49a5-a403-61c70fe3f078__wakuorg_nwaku:latest.log
2026-02-08 04:45:34.638 DEBUG [src.node.waku_node] Starting Node...
2026-02-08 04:45:34.639 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-08 04:45:34.640 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-08 04:45:34.640 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.163.97
2026-02-08 04:45:34.640 DEBUG [src.node.docker_mananger] Generated ports ['60566', '60567', '60568', '60569', '60570']
2026-02-08 04:45:34.640 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-08 04:45:34.640 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-08 04:45:34.640 DEBUG [src.node.waku_node] Using volumes []
2026-02-08 04:45:34.641 DEBUG [src.node.docker_mananger] docker run -i -t -p 60566:60566 -p 60567:60567 -p 60568:60568 -p 60569:60569 -p 60570:60570 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=60568 --rest-port=60566 --tcp-port=60567 --discv5-udp-port=60569 --rest-address=0.0.0.0 --nat=extip:172.18.163.97 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=5da3104e8dc66b280ae7acc1cf3cdebd2de085c1eb1263a47f99910c3d9dfc8f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=60570 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QOKdkQT5SL9pCb-RlthFfQjmfg_VYfJQYlS5dLX0xNs-TDYl6A5nMIOyqN1Za9onTjUtDnoXwkoqmaA-cFMJjjMCgmlkgnY0gmlwhKwSejCKbXVsdGlhZGRyc5YACASsEnowBg4RAAoErBJ6MAYOEt0DgnJzhQADAQAAiXNlY3AyNTZrMaEC_ObLUJUmSeS2YmnfWOZImVUPsXnZZpaSXfTggxuXpwuDdGNwgg4Rg3VkcIIOE4V3YWt1MgU --filternode=/ip4/172.18.122.48/tcp/3601/p2p/16Uiu2HAmCStqQXScECLRSAdwZHqUtyaeqGvkKVe8xJ5sXYw5De1x
2026-02-08 04:45:34.820 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.163.97 waku 226b7e510fae31715d72a40b27d5c083961c7c5961bbd30b8054379aa3804e00
2026-02-08 04:45:34.853 DEBUG [src.node.docker_mananger] Container started with ID 226b7e510fae. Setting up logs at ./log/docker/node2_2026-02-08_04-45-33__0a9e8fb9-7b1d-49a5-a403-61c70fe3f078__wakuorg_nwaku:latest.log
2026-02-08 04:45:34.853 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 60566
2026-02-08 04:45:34.853 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-08 04:45:35.854 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60566/health" -H "Content-Type: application/json" -d 'None'
2026-02-08 04:45:35.858 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_MOUNTED"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"READY"}]}'
2026-02-08 04:45:35.858 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-08 04:45:35.858 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60566/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-08 04:45:35.861 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.163.97/tcp/60567/p2p/16Uiu2HAmEaKHffkhQ6mnCTfF7app1bN3Pv28GjebE5dk74KJR3yf","/ip4/172.18.163.97/tcp/60568/ws/p2p/16Uiu2HAmEaKHffkhQ6mnCTfF7app1bN3Pv28GjebE5dk74KJR3yf"],"enrUri":"enr:-L24QDmBehw9AFm7BCxoZGDvle-umQalOFw00roPQIIZyR2sN2GI9goRjMrH1oHTB_6LmeJnj8vI0ybfqtzLkMowhMYCgmlkgnY0gmlwhKwSo2GKbXVsdGlhZGRyc5YACASsEqNhBuyXAAoErBKjYQbsmN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDHITh71UPelFtp6ruaiFWU3ldf7kImEIJxk7MDjzOWu6DdGNwguyXg3VkcILsmYV3YWt1MgA"}'
2026-02-08 04:45:35.861 INFO [src.node.waku_node] REST service is ready !!
2026-02-08 04:45:35.861 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:60566/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.122.48/tcp/3601/p2p/16Uiu2HAmCStqQXScECLRSAdwZHqUtyaeqGvkKVe8xJ5sXYw5De1x"]'
2026-02-08 04:45:35.891 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-08 04:45:35.891 DEBUG [src.steps.filter] Running fixture setup: subscribe_main_nodes
2026-02-08 04:45:35.892 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:3600/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2026-02-08 04:45:35.903 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-08 04:45:35.905 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:60566/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "bdedafe5-9d3f-4cab-a0ab-09e702b158b4", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
2026-02-08 04:45:35.917 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"bdedafe5-9d3f-4cab-a0ab-09e702b158b4","statusDesc":"OK"}'
2026-02-08 04:45:35.918 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:60566/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": ["/test/1/waku-filter/proto"]}'
2026-02-08 04:45:35.926 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"1","statusDesc":"OK"}'
2026-02-08 04:45:35.928 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-02-08 04:45:35.929 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-02-08 04:45:35.929 DEBUG [src.node.waku_node] Stopping container with id 1a80ba95eccb
2026-02-08 04:45:36.448 DEBUG [src.node.waku_node] Container stopped.
2026-02-08 04:45:36.448 DEBUG [src.node.waku_node] Stopping container with id 226b7e510fae
2026-02-08 04:45:37.001 DEBUG [src.node.waku_node] Container stopped.
2026-02-08 04:45:37.002 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-02-08 04:45:37.008 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-08 04:45:37.013 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
