2026-02-08 04:44:57.869 DEBUG [tests.conftest] Running fixture setup: test_id
2026-02-08 04:44:57.869 DEBUG [tests.conftest] Running test: test_filter_update_subscription_with_no_pubsub_topic with id: 2026-02-08_04-44-57__73e8ac5c-4728-40b8-8444-9b72d8445c57
2026-02-08 04:44:57.869 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-02-08 04:44:57.870 DEBUG [src.steps.filter] Running fixture setup: filter_setup
2026-02-08 04:44:57.870 DEBUG [src.steps.filter] Running fixture setup: setup_main_relay_node
2026-02-08 04:44:57.876 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-08 04:44:57.876 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2026-02-08_04-44-57__73e8ac5c-4728-40b8-8444-9b72d8445c57__wakuorg_nwaku:latest.log
2026-02-08 04:44:57.876 DEBUG [src.node.waku_node] Starting Node...
2026-02-08 04:44:57.876 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-08 04:44:57.878 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-08 04:44:57.878 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.65.204
2026-02-08 04:44:57.878 DEBUG [src.node.docker_mananger] Generated ports ['45942', '45943', '45944', '45945', '45946']
2026-02-08 04:44:57.878 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-08 04:44:57.878 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-08 04:44:57.879 DEBUG [src.node.waku_node] Using volumes []
2026-02-08 04:44:57.879 DEBUG [src.node.docker_mananger] docker run -i -t -p 45942:45942 -p 45943:45943 -p 45944:45944 -p 45945:45945 -p 45946:45946 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=45944 --rest-port=45942 --tcp-port=45943 --discv5-udp-port=45945 --rest-address=0.0.0.0 --nat=extip:172.18.65.204 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=1b0f6aa7fb9a5c07a93ba9dbfe9aea50ff31c7515c7dba93abe42b2b036ecc61 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=45946 --metrics-logging=true --relay=true --filter=true
2026-02-08 04:44:58.057 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.65.204 waku 9c95f8159da0e496cfe4669382e1804b011bcd227076210f0ca4992007c89836
2026-02-08 04:44:58.089 DEBUG [src.node.docker_mananger] Container started with ID 9c95f8159da0. Setting up logs at ./log/docker/node1_2026-02-08_04-44-57__73e8ac5c-4728-40b8-8444-9b72d8445c57__wakuorg_nwaku:latest.log
2026-02-08 04:44:58.090 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 45942
2026-02-08 04:44:58.090 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-08 04:44:58.115 ERROR [src.node.docker_mananger] Max retries reached for container f994b947deea. Exiting log stream.
2026-02-08 04:44:58.644 ERROR [src.node.docker_mananger] Max retries reached for container 6af4a9f89bff. Exiting log stream.
2026-02-08 04:44:59.090 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45942/health" -H "Content-Type: application/json" -d 'None'
2026-02-08 04:44:59.094 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_READY","desc":"Relay is not ready, filter will not be able to sort out messages"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-08 04:44:59.094 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-08 04:44:59.094 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45942/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-08 04:44:59.096 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.65.204/tcp/45943/p2p/16Uiu2HAmU5gJo5dVo3ydyDtMj5ZWcf4snuENr5rxzX6hkPgdmBZ9","/ip4/172.18.65.204/tcp/45944/ws/p2p/16Uiu2HAmU5gJo5dVo3ydyDtMj5ZWcf4snuENr5rxzX6hkPgdmBZ9"],"enrUri":"enr:-L24QGXf-90u8D4Mbpfq0L4zwWyE1DvXpO6Nw8puR4XeFcB8IZN6ejvwu1Nvq2EzzfbUnwn5jMTl80kGcVUkk06NCU0CgmlkgnY0gmlwhKwSQcyKbXVsdGlhZGRyc5YACASsEkHMBrN3AAoErBJBzAazeN0DgnJzhQADAQAAiXNlY3AyNTZrMaED5TJsPk5QFufnLuX6Nvzk01-qCKcwQi5v_N66LFqAMjCDdGNwgrN3g3VkcIKzeYV3YWt1MgU"}'
2026-02-08 04:44:59.097 INFO [src.node.waku_node] REST service is ready !!
2026-02-08 04:44:59.097 DEBUG [src.steps.filter] Running fixture setup: setup_main_filter_node
2026-02-08 04:44:59.103 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-08 04:44:59.103 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2026-02-08_04-44-57__73e8ac5c-4728-40b8-8444-9b72d8445c57__wakuorg_nwaku:latest.log
2026-02-08 04:44:59.103 DEBUG [src.node.waku_node] Starting Node...
2026-02-08 04:44:59.104 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-08 04:44:59.105 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-08 04:44:59.105 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.25.98
2026-02-08 04:44:59.105 DEBUG [src.node.docker_mananger] Generated ports ['54276', '54277', '54278', '54279', '54280']
2026-02-08 04:44:59.105 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-08 04:44:59.105 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-08 04:44:59.105 DEBUG [src.node.waku_node] Using volumes []
2026-02-08 04:44:59.106 DEBUG [src.node.docker_mananger] docker run -i -t -p 54276:54276 -p 54277:54277 -p 54278:54278 -p 54279:54279 -p 54280:54280 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=54278 --rest-port=54276 --tcp-port=54277 --discv5-udp-port=54279 --rest-address=0.0.0.0 --nat=extip:172.18.25.98 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ac5d3cfae2ffe1a811ea6dbf24deaa35ad1d9f1146ad5b8a114fe90fd00621d3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=54280 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QGXf-90u8D4Mbpfq0L4zwWyE1DvXpO6Nw8puR4XeFcB8IZN6ejvwu1Nvq2EzzfbUnwn5jMTl80kGcVUkk06NCU0CgmlkgnY0gmlwhKwSQcyKbXVsdGlhZGRyc5YACASsEkHMBrN3AAoErBJBzAazeN0DgnJzhQADAQAAiXNlY3AyNTZrMaED5TJsPk5QFufnLuX6Nvzk01-qCKcwQi5v_N66LFqAMjCDdGNwgrN3g3VkcIKzeYV3YWt1MgU --filternode=/ip4/172.18.65.204/tcp/45943/p2p/16Uiu2HAmU5gJo5dVo3ydyDtMj5ZWcf4snuENr5rxzX6hkPgdmBZ9
2026-02-08 04:44:59.280 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.25.98 waku 1915ec6cedba29a1b200e91d2f9f0cacd9a0a54426451d1bfe5ae3137ea51227
2026-02-08 04:44:59.310 DEBUG [src.node.docker_mananger] Container started with ID 1915ec6cedba. Setting up logs at ./log/docker/node2_2026-02-08_04-44-57__73e8ac5c-4728-40b8-8444-9b72d8445c57__wakuorg_nwaku:latest.log
2026-02-08 04:44:59.310 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 54276
2026-02-08 04:44:59.310 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-08 04:45:00.311 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:54276/health" -H "Content-Type: application/json" -d 'None'
2026-02-08 04:45:00.315 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_MOUNTED"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"READY"}]}'
2026-02-08 04:45:00.315 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-08 04:45:00.315 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:54276/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-08 04:45:00.317 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.25.98/tcp/54277/p2p/16Uiu2HAm3JXEPNVvHabckgJto94EkY16Yej9WkKqUUQa565Nsrrs","/ip4/172.18.25.98/tcp/54278/ws/p2p/16Uiu2HAm3JXEPNVvHabckgJto94EkY16Yej9WkKqUUQa565Nsrrs"],"enrUri":"enr:-L24QLV0V5VEnrzQDIiCpys2mMRnEUMJFdoTYW4eX6Q3xlh8IJGp8BcfLPdh19KF5ZbmMGxM2HHms5pZ7aR_0f7GkRgCgmlkgnY0gmlwhKwSGWKKbXVsdGlhZGRyc5YACASsEhliBtQFAAoErBIZYgbUBt0DgnJzhQADAQAAiXNlY3AyNTZrMaECdQiJtBAEfJpvfJTS88Q5UApwRIVAUQrxERs5BY6mmBCDdGNwgtQFg3VkcILUB4V3YWt1MgA"}'
2026-02-08 04:45:00.317 INFO [src.node.waku_node] REST service is ready !!
2026-02-08 04:45:00.318 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:54276/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.65.204/tcp/45943/p2p/16Uiu2HAmU5gJo5dVo3ydyDtMj5ZWcf4snuENr5rxzX6hkPgdmBZ9"]'
2026-02-08 04:45:00.348 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-08 04:45:00.348 DEBUG [src.steps.filter] Running fixture setup: subscribe_main_nodes
2026-02-08 04:45:00.349 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45942/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2026-02-08 04:45:00.361 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-08 04:45:00.363 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:54276/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "dfbd4efc-86c9-45d8-bbde-edfc2ea1b5c7", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
2026-02-08 04:45:00.374 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"dfbd4efc-86c9-45d8-bbde-edfc2ea1b5c7","statusDesc":"OK"}'
2026-02-08 04:45:00.375 INFO [src.node.api_clients.base_client] curl -v -X PUT "http://127.0.0.1:54276/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": ["/test/2/waku-filter/proto"]}'
2026-02-08 04:45:00.384 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"1","statusDesc":"OK"}'
2026-02-08 04:45:00.386 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-02-08 04:45:00.387 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-02-08 04:45:00.387 DEBUG [src.node.waku_node] Stopping container with id 9c95f8159da0
2026-02-08 04:45:00.924 DEBUG [src.node.waku_node] Container stopped.
2026-02-08 04:45:00.924 DEBUG [src.node.waku_node] Stopping container with id 1915ec6cedba
2026-02-08 04:45:01.537 DEBUG [src.node.waku_node] Container stopped.
2026-02-08 04:45:01.540 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-02-08 04:45:01.545 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-08 04:45:01.552 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
