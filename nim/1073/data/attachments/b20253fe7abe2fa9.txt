2026-02-08 04:45:32.385 DEBUG [tests.conftest] Running fixture setup: test_id
2026-02-08 04:45:32.386 DEBUG [tests.conftest] Running test: test_filter_unsubscribe_with_content_topic_string_instead_of_list with id: 2026-02-08_04-45-32__02c7a115-84d4-4aa1-a8a4-a0f3606575e5
2026-02-08 04:45:32.386 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-02-08 04:45:32.386 DEBUG [src.steps.filter] Running fixture setup: filter_setup
2026-02-08 04:45:32.386 DEBUG [src.steps.filter] Running fixture setup: setup_main_relay_node
2026-02-08 04:45:32.393 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-08 04:45:32.393 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2026-02-08_04-45-32__02c7a115-84d4-4aa1-a8a4-a0f3606575e5__wakuorg_nwaku:latest.log
2026-02-08 04:45:32.393 DEBUG [src.node.waku_node] Starting Node...
2026-02-08 04:45:32.393 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-08 04:45:32.395 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-08 04:45:32.395 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.25.183
2026-02-08 04:45:32.395 DEBUG [src.node.docker_mananger] Generated ports ['40478', '40479', '40480', '40481', '40482']
2026-02-08 04:45:32.395 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-08 04:45:32.395 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-08 04:45:32.395 DEBUG [src.node.waku_node] Using volumes []
2026-02-08 04:45:32.395 DEBUG [src.node.docker_mananger] docker run -i -t -p 40478:40478 -p 40479:40479 -p 40480:40480 -p 40481:40481 -p 40482:40482 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=40480 --rest-port=40478 --tcp-port=40479 --discv5-udp-port=40481 --rest-address=0.0.0.0 --nat=extip:172.18.25.183 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=68fbdaec0a99dd9f5ce0eae7c39afaeaded0d3c4cea6bbd3ac0b5e54b6b6dea7 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=40482 --metrics-logging=true --relay=true --filter=true
2026-02-08 04:45:32.550 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.25.183 waku 04ccee334131a1d84841d9a30bddccfa9ae4bf0be693331202c21b715cde1101
2026-02-08 04:45:32.575 DEBUG [src.node.docker_mananger] Container started with ID 04ccee334131. Setting up logs at ./log/docker/node1_2026-02-08_04-45-32__02c7a115-84d4-4aa1-a8a4-a0f3606575e5__wakuorg_nwaku:latest.log
2026-02-08 04:45:32.577 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 40478
2026-02-08 04:45:32.578 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-08 04:45:32.697 ERROR [src.node.docker_mananger] Max retries reached for container 9bfd07d0bc8d. Exiting log stream.
2026-02-08 04:45:33.185 ERROR [src.node.docker_mananger] Max retries reached for container 06f1e8a95096. Exiting log stream.
2026-02-08 04:45:33.578 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:40478/health" -H "Content-Type: application/json" -d 'None'
2026-02-08 04:45:33.581 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_READY","desc":"Relay is not ready, filter will not be able to sort out messages"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-08 04:45:33.582 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-08 04:45:33.582 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:40478/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-08 04:45:33.584 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.25.183/tcp/40479/p2p/16Uiu2HAm9X6FkgRcEmpZH9i8TLMMP3UmryLGK5d6qi1MKEBVJMm3","/ip4/172.18.25.183/tcp/40480/ws/p2p/16Uiu2HAm9X6FkgRcEmpZH9i8TLMMP3UmryLGK5d6qi1MKEBVJMm3"],"enrUri":"enr:-L24QObYGYRNuOoyjgxdJwLyIC4jreTFOYzKjYg4xhBspUNCRFY723w_YyzJT521SCJt-6LZY5e_A-ZOoNGntNoGBQ8CgmlkgnY0gmlwhKwSGbeKbXVsdGlhZGRyc5YACASsEhm3Bp4fAAoErBIZtwaeIN0DgnJzhQADAQAAiXNlY3AyNTZrMaEC0Wb4E3c9c_a6pEaLmOSaPw67B4dG8cSo8qpnPJ9QybKDdGNwgp4fg3VkcIKeIYV3YWt1MgU"}'
2026-02-08 04:45:33.584 INFO [src.node.waku_node] REST service is ready !!
2026-02-08 04:45:33.585 DEBUG [src.steps.filter] Running fixture setup: setup_main_filter_node
2026-02-08 04:45:33.591 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-08 04:45:33.591 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2026-02-08_04-45-32__02c7a115-84d4-4aa1-a8a4-a0f3606575e5__wakuorg_nwaku:latest.log
2026-02-08 04:45:33.591 DEBUG [src.node.waku_node] Starting Node...
2026-02-08 04:45:33.591 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-08 04:45:33.592 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-08 04:45:33.592 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.153.168
2026-02-08 04:45:33.592 DEBUG [src.node.docker_mananger] Generated ports ['17098', '17099', '17100', '17101', '17102']
2026-02-08 04:45:33.593 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-08 04:45:33.593 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-08 04:45:33.593 DEBUG [src.node.waku_node] Using volumes []
2026-02-08 04:45:33.593 DEBUG [src.node.docker_mananger] docker run -i -t -p 17098:17098 -p 17099:17099 -p 17100:17100 -p 17101:17101 -p 17102:17102 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=17100 --rest-port=17098 --tcp-port=17099 --discv5-udp-port=17101 --rest-address=0.0.0.0 --nat=extip:172.18.153.168 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=6309d04baa8a8d126cda8c9bafdc2c8f0bb2aaabbb89f2c9101423019dcf0cee --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=17102 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QObYGYRNuOoyjgxdJwLyIC4jreTFOYzKjYg4xhBspUNCRFY723w_YyzJT521SCJt-6LZY5e_A-ZOoNGntNoGBQ8CgmlkgnY0gmlwhKwSGbeKbXVsdGlhZGRyc5YACASsEhm3Bp4fAAoErBIZtwaeIN0DgnJzhQADAQAAiXNlY3AyNTZrMaEC0Wb4E3c9c_a6pEaLmOSaPw67B4dG8cSo8qpnPJ9QybKDdGNwgp4fg3VkcIKeIYV3YWt1MgU --filternode=/ip4/172.18.25.183/tcp/40479/p2p/16Uiu2HAm9X6FkgRcEmpZH9i8TLMMP3UmryLGK5d6qi1MKEBVJMm3
2026-02-08 04:45:33.752 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.153.168 waku 0a03a966e35dcbce26b236ad5500d8713e7f05ee4bba296f0d2041b535bf70bf
2026-02-08 04:45:33.777 DEBUG [src.node.docker_mananger] Container started with ID 0a03a966e35d. Setting up logs at ./log/docker/node2_2026-02-08_04-45-32__02c7a115-84d4-4aa1-a8a4-a0f3606575e5__wakuorg_nwaku:latest.log
2026-02-08 04:45:33.777 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 17098
2026-02-08 04:45:33.778 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-08 04:45:34.779 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17098/health" -H "Content-Type: application/json" -d 'None'
2026-02-08 04:45:34.782 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_MOUNTED"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"READY"}]}'
2026-02-08 04:45:34.783 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-08 04:45:34.783 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17098/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-08 04:45:34.786 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.153.168/tcp/17099/p2p/16Uiu2HAmJ6f1KJXP8JF562r1XnBgegsuuqV6LpkxRhbth3Ag8vcL","/ip4/172.18.153.168/tcp/17100/ws/p2p/16Uiu2HAmJ6f1KJXP8JF562r1XnBgegsuuqV6LpkxRhbth3Ag8vcL"],"enrUri":"enr:-L24QGN57ThVsizLU2ZdLuHoAd6nt8Iqo30Jl1tZZx4H_7mVCkz1awaLNgd-wA8CxH3oSwJDjNSv30iERc-Z-YomVmcCgmlkgnY0gmlwhKwSmaiKbXVsdGlhZGRyc5YACASsEpmoBkLLAAoErBKZqAZCzN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDUN2ptP1c8oyab6niDwR6cguNMCsid1T9668hgTzZ_x2DdGNwgkLLg3VkcIJCzYV3YWt1MgA"}'
2026-02-08 04:45:34.786 INFO [src.node.waku_node] REST service is ready !!
2026-02-08 04:45:34.787 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17098/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.25.183/tcp/40479/p2p/16Uiu2HAm9X6FkgRcEmpZH9i8TLMMP3UmryLGK5d6qi1MKEBVJMm3"]'
2026-02-08 04:45:34.813 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-08 04:45:34.813 DEBUG [src.steps.filter] Running fixture setup: subscribe_main_nodes
2026-02-08 04:45:34.814 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:40478/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2026-02-08 04:45:34.827 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-08 04:45:34.828 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17098/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "65d497e3-d53d-4dda-b830-596d8ced04fa", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
2026-02-08 04:45:34.839 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"65d497e3-d53d-4dda-b830-596d8ced04fa","statusDesc":"OK"}'
2026-02-08 04:45:34.840 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:17098/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": "/test/1/waku-filter/proto", "pubsubTopic": "/waku/2/rs/3/1"}'
2026-02-08 04:45:34.843 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:17098/filter/v2/subscriptions. Response content: b'{"requestId":"unknown","statusDesc":"BAD_REQUEST: Failed to decode request: (status: 400 Bad Request, headers: , kind: Error, errobj: (status: 400 Bad Request, message: \\"Invalid content body, could not decode. Unable to deserialize data: \\", contentType: \\"text/plain\\"))"}'
2026-02-08 04:45:34.845 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-02-08 04:45:34.846 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-02-08 04:45:34.846 DEBUG [src.node.waku_node] Stopping container with id 04ccee334131
2026-02-08 04:45:35.333 DEBUG [src.node.waku_node] Container stopped.
2026-02-08 04:45:35.334 DEBUG [src.node.waku_node] Stopping container with id 0a03a966e35d
2026-02-08 04:45:35.831 DEBUG [src.node.waku_node] Container stopped.
2026-02-08 04:45:35.832 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-02-08 04:45:35.838 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-08 04:45:35.842 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
