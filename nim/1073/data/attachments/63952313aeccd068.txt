2026-02-08 04:50:44.820 DEBUG [tests.conftest] Running fixture setup: test_id
2026-02-08 04:50:44.820 DEBUG [tests.conftest] Running test: test_light_push_with_valid_timestamps with id: 2026-02-08_04-50-44__c815b308-f586-4b4d-8d39-c15cd7b8ef2f
2026-02-08 04:50:44.820 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-02-08 04:50:44.820 DEBUG [src.steps.light_push] Running fixture setup: light_push_setup
2026-02-08 04:50:44.827 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-08 04:50:44.827 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node1_2026-02-08_04-50-44__c815b308-f586-4b4d-8d39-c15cd7b8ef2f__wakuorg_nwaku:latest.log
2026-02-08 04:50:44.827 DEBUG [src.node.waku_node] Starting Node...
2026-02-08 04:50:44.827 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-08 04:50:44.829 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-08 04:50:44.829 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.237.219
2026-02-08 04:50:44.829 DEBUG [src.node.docker_mananger] Generated ports ['33373', '33374', '33375', '33376', '33377']
2026-02-08 04:50:44.829 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-08 04:50:44.829 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-08 04:50:44.829 DEBUG [src.node.waku_node] Using volumes []
2026-02-08 04:50:44.829 DEBUG [src.node.docker_mananger] docker run -i -t -p 33373:33373 -p 33374:33374 -p 33375:33375 -p 33376:33376 -p 33377:33377 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=33375 --rest-port=33373 --tcp-port=33374 --discv5-udp-port=33376 --rest-address=0.0.0.0 --nat=extip:172.18.237.219 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=4b5cc537a0aaf1f0d2309d19b25dd8868082dbdddbfdb1f3a6a82ecbf3740fcc --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=33377 --metrics-logging=true --lightpush=true --relay=true
2026-02-08 04:50:45.019 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.237.219 waku 6358cc91a272d79c968347fbbda29b2597f52f12a7c77e8b6181ed23fe961fef
2026-02-08 04:50:45.049 DEBUG [src.node.docker_mananger] Container started with ID 6358cc91a272. Setting up logs at ./log/docker/receiving_node1_2026-02-08_04-50-44__c815b308-f586-4b4d-8d39-c15cd7b8ef2f__wakuorg_nwaku:latest.log
2026-02-08 04:50:45.051 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 33373
2026-02-08 04:50:45.051 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-08 04:50:45.059 ERROR [src.node.docker_mananger] Max retries reached for container 74aaca2ba659. Exiting log stream.
2026-02-08 04:50:45.612 ERROR [src.node.docker_mananger] Max retries reached for container 017abb0f1531. Exiting log stream.
2026-02-08 04:50:46.052 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:33373/health" -H "Content-Type: application/json" -d 'None'
2026-02-08 04:50:46.055 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_READY","desc":"Node has no relay peers to fullfill push requests"},{"Legacy Lightpush":"NOT_READY","desc":"Node has no relay peers to fullfill push requests"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-08 04:50:46.055 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-08 04:50:46.055 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:33373/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-08 04:50:46.057 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.237.219/tcp/33374/p2p/16Uiu2HAmD6QHwwg4cSYUHUDCQ2d4qaaiUbPXyzJdvAo22MjpW4Lc","/ip4/172.18.237.219/tcp/33375/ws/p2p/16Uiu2HAmD6QHwwg4cSYUHUDCQ2d4qaaiUbPXyzJdvAo22MjpW4Lc"],"enrUri":"enr:-L24QJhsvnnKA0wwD3bwlozMV6GSNFm0Uq1sFxC9t0jgOOFLIqWZwVAD0jhv2xE_hNnpXkOn_1Ir9gVNJ3uKVumDE4ECgmlkgnY0gmlwhKwS7duKbXVsdGlhZGRyc5YACASsEu3bBoJeAAoErBLt2waCX90DgnJzhQADAQAAiXNlY3AyNTZrMaEDBoKXixPILJGNBLtPBs1Sm3pg81_jGhHisK9xC925dRWDdGNwgoJeg3VkcIKCYIV3YWt1Mgk"}'
2026-02-08 04:50:46.058 INFO [src.node.waku_node] REST service is ready !!
2026-02-08 04:50:46.066 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-08 04:50:46.066 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node2_2026-02-08_04-50-44__c815b308-f586-4b4d-8d39-c15cd7b8ef2f__wakuorg_nwaku:latest.log
2026-02-08 04:50:46.066 DEBUG [src.node.waku_node] Starting Node...
2026-02-08 04:50:46.066 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-08 04:50:46.067 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-08 04:50:46.068 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.238.117
2026-02-08 04:50:46.068 DEBUG [src.node.docker_mananger] Generated ports ['29239', '29240', '29241', '29242', '29243']
2026-02-08 04:50:46.068 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-08 04:50:46.068 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-08 04:50:46.068 DEBUG [src.node.waku_node] Using volumes []
2026-02-08 04:50:46.068 DEBUG [src.node.docker_mananger] docker run -i -t -p 29239:29239 -p 29240:29240 -p 29241:29241 -p 29242:29242 -p 29243:29243 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=29241 --rest-port=29239 --tcp-port=29240 --discv5-udp-port=29242 --rest-address=0.0.0.0 --nat=extip:172.18.238.117 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b86bbff40ed1f1f2cadc0e1f0dccc7f4b0fd3a45604af4ed1857babe882cb9a2 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=29243 --metrics-logging=true --lightpush=false --relay=true
2026-02-08 04:50:46.256 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.238.117 waku dea3a1e8bdeffcf63c3a44b335cd48514e8d4888a78139efe1e5d2880bf80b6f
2026-02-08 04:50:46.290 DEBUG [src.node.docker_mananger] Container started with ID dea3a1e8bdef. Setting up logs at ./log/docker/receiving_node2_2026-02-08_04-50-44__c815b308-f586-4b4d-8d39-c15cd7b8ef2f__wakuorg_nwaku:latest.log
2026-02-08 04:50:46.291 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 29239
2026-02-08 04:50:46.291 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-08 04:50:47.291 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:29239/health" -H "Content-Type: application/json" -d 'None'
2026-02-08 04:50:47.295 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-08 04:50:47.295 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-08 04:50:47.295 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:29239/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-08 04:50:47.297 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.238.117/tcp/29240/p2p/16Uiu2HAm8CsF5xADEmB7sTJcC719wpJ5QDTWRPYm15qdoiQCtyrs","/ip4/172.18.238.117/tcp/29241/ws/p2p/16Uiu2HAm8CsF5xADEmB7sTJcC719wpJ5QDTWRPYm15qdoiQCtyrs"],"enrUri":"enr:-L24QPob0jHVQjydgg90H4l1PJEW_1uYa5ZMKT9kFySwcokrGwGvIhAfWfaeotzyvp4TwkxGkIs2cU-KQHe--GHQIZwCgmlkgnY0gmlwhKwS7nWKbXVsdGlhZGRyc5YACASsEu51BnI4AAoErBLudQZyOd0DgnJzhQADAQAAiXNlY3AyNTZrMaECveAdimV3jKD6kkrWOhD4D90rINr63jDL-tEfmyHGeXSDdGNwgnI4g3VkcIJyOoV3YWt1MgE"}'
2026-02-08 04:50:47.298 INFO [src.node.waku_node] REST service is ready !!
2026-02-08 04:50:47.298 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:29239/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.237.219/tcp/33374/p2p/16Uiu2HAmD6QHwwg4cSYUHUDCQ2d4qaaiUbPXyzJdvAo22MjpW4Lc"]'
2026-02-08 04:50:47.328 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-08 04:50:47.337 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-08 04:50:47.337 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/lightpush_node1_2026-02-08_04-50-44__c815b308-f586-4b4d-8d39-c15cd7b8ef2f__wakuorg_nwaku:latest.log
2026-02-08 04:50:47.338 DEBUG [src.node.waku_node] Starting Node...
2026-02-08 04:50:47.338 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-08 04:50:47.339 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-08 04:50:47.339 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.54.28
2026-02-08 04:50:47.340 DEBUG [src.node.docker_mananger] Generated ports ['19536', '19537', '19538', '19539', '19540']
2026-02-08 04:50:47.340 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-08 04:50:47.340 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-08 04:50:47.340 DEBUG [src.node.waku_node] Using volumes []
2026-02-08 04:50:47.340 DEBUG [src.node.docker_mananger] docker run -i -t -p 19536:19536 -p 19537:19537 -p 19538:19538 -p 19539:19539 -p 19540:19540 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=19538 --rest-port=19536 --tcp-port=19537 --discv5-udp-port=19539 --rest-address=0.0.0.0 --nat=extip:172.18.54.28 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a882c0aa998ebb8c1b794fdc2a52eee0af4c1619afbb12ea2bda58eeea8d82f8 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=19540 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QJhsvnnKA0wwD3bwlozMV6GSNFm0Uq1sFxC9t0jgOOFLIqWZwVAD0jhv2xE_hNnpXkOn_1Ir9gVNJ3uKVumDE4ECgmlkgnY0gmlwhKwS7duKbXVsdGlhZGRyc5YACASsEu3bBoJeAAoErBLt2waCX90DgnJzhQADAQAAiXNlY3AyNTZrMaEDBoKXixPILJGNBLtPBs1Sm3pg81_jGhHisK9xC925dRWDdGNwgoJeg3VkcIKCYIV3YWt1Mgk --lightpushnode=/ip4/172.18.237.219/tcp/33374/p2p/16Uiu2HAmD6QHwwg4cSYUHUDCQ2d4qaaiUbPXyzJdvAo22MjpW4Lc --lightpush=true --relay=true
2026-02-08 04:50:47.534 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.54.28 waku 6732a4179e4db1755a15d002a43ecfd20538221bc214ec226e027da21df26abd
2026-02-08 04:50:47.568 DEBUG [src.node.docker_mananger] Container started with ID 6732a4179e4d. Setting up logs at ./log/docker/lightpush_node1_2026-02-08_04-50-44__c815b308-f586-4b4d-8d39-c15cd7b8ef2f__wakuorg_nwaku:latest.log
2026-02-08 04:50:47.568 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 19536
2026-02-08 04:50:47.569 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-08 04:50:48.569 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19536/health" -H "Content-Type: application/json" -d 'None'
2026-02-08 04:50:48.591 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_READY","desc":"Node has no relay peers to fullfill push requests"},{"Legacy Lightpush":"NOT_READY","desc":"Node has no relay peers to fullfill push requests"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"READY"},{"Legacy Lightpush Client":"READY"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-08 04:50:48.592 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-08 04:50:48.592 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19536/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-08 04:50:48.596 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.54.28/tcp/19537/p2p/16Uiu2HAkwDJbedxNcugWjVYfi4toGFX6CH8Uu97shnU58aMV8esF","/ip4/172.18.54.28/tcp/19538/ws/p2p/16Uiu2HAkwDJbedxNcugWjVYfi4toGFX6CH8Uu97shnU58aMV8esF"],"enrUri":"enr:-L24QLef3l6Tnmf_TvowdgvBVeLj0NWy3LtBZaEs4erMqvB8HeHIistz1w5RtHfzuaMnX_VMZM4DbUmsv2287o9H-X0CgmlkgnY0gmlwhKwSNhyKbXVsdGlhZGRyc5YACASsEjYcBkxRAAoErBI2HAZMUt0DgnJzhQADAQAAiXNlY3AyNTZrMaECGow6SRIiCetLettgG7tZHBkjTLMF3_24dWQ6UsLC1K6DdGNwgkxRg3VkcIJMU4V3YWt1Mgk"}'
2026-02-08 04:50:48.596 INFO [src.node.waku_node] REST service is ready !!
2026-02-08 04:50:48.597 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:19536/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.237.219/tcp/33374/p2p/16Uiu2HAmD6QHwwg4cSYUHUDCQ2d4qaaiUbPXyzJdvAo22MjpW4Lc"]'
2026-02-08 04:50:48.602 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-08 04:50:48.602 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:19536/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.238.117/tcp/29240/p2p/16Uiu2HAm8CsF5xADEmB7sTJcC719wpJ5QDTWRPYm15qdoiQCtyrs"]'
2026-02-08 04:50:48.619 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-08 04:50:48.620 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:33373/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-08 04:50:48.626 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-08 04:50:48.627 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:29239/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-08 04:50:48.634 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-08 04:50:48.635 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:19536/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-08 04:50:48.638 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-08 04:50:48.640 DEBUG [tests.light_push.test_publish] Running test with timestamp Now
2026-02-08 04:50:48.641 DEBUG [src.steps.light_push] Lightpushing message
2026-02-08 04:50:48.641 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:19536/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1770525860300827904}}'
2026-02-08 04:50:48.653 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-08 04:50:48.654 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-08 04:50:48.754 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2026-02-08 04:50:48.754 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:33373/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-08 04:50:48.757 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770525860300827904,"ephemeral":false,"proof":""}]'
2026-02-08 04:50:48.758 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2026-02-08 04:50:48.758 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:29239/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-08 04:50:48.761 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770525860300827904,"ephemeral":false,"proof":""}]'
2026-02-08 04:50:48.762 DEBUG [src.steps.light_push] Checking that peer NODE_3:wakuorg/nwaku:latest can find the lightpushed message
2026-02-08 04:50:48.762 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19536/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-08 04:50:48.764 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770525860300827904,"ephemeral":false,"proof":""}]'
2026-02-08 04:50:48.766 DEBUG [tests.light_push.test_publish] Running test with timestamp Far future
2026-02-08 04:50:48.766 DEBUG [src.steps.light_push] Lightpushing message
2026-02-08 04:50:48.766 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:19536/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 2085885860300813824}}'
2026-02-08 04:50:48.779 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-08 04:50:48.779 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-08 04:50:48.880 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2026-02-08 04:50:48.880 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:33373/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-08 04:50:48.882 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":2085885860300813824,"ephemeral":false,"proof":""}]'
2026-02-08 04:50:48.883 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2026-02-08 04:50:48.883 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:29239/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-08 04:50:48.885 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":2085885860300813824,"ephemeral":false,"proof":""}]'
2026-02-08 04:50:48.887 DEBUG [src.steps.light_push] Checking that peer NODE_3:wakuorg/nwaku:latest can find the lightpushed message
2026-02-08 04:50:48.887 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19536/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-08 04:50:48.889 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":2085885860300813824,"ephemeral":false,"proof":""}]'
2026-02-08 04:50:48.890 DEBUG [tests.light_push.test_publish] Running test with timestamp Recent past
2026-02-08 04:50:48.891 DEBUG [src.steps.light_push] Lightpushing message
2026-02-08 04:50:48.891 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:19536/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1770522260300813824}}'
2026-02-08 04:50:48.903 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-08 04:50:48.903 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-08 04:50:49.004 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2026-02-08 04:50:49.004 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:33373/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-08 04:50:49.006 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770522260300813824,"ephemeral":false,"proof":""}]'
2026-02-08 04:50:49.008 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2026-02-08 04:50:49.008 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:29239/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-08 04:50:49.010 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770522260300813824,"ephemeral":false,"proof":""}]'
2026-02-08 04:50:49.011 DEBUG [src.steps.light_push] Checking that peer NODE_3:wakuorg/nwaku:latest can find the lightpushed message
2026-02-08 04:50:49.012 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19536/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-08 04:50:49.014 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770522260300813824,"ephemeral":false,"proof":""}]'
2026-02-08 04:50:49.015 DEBUG [tests.light_push.test_publish] Running test with timestamp Near future
2026-02-08 04:50:49.016 DEBUG [src.steps.light_push] Lightpushing message
2026-02-08 04:50:49.016 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:19536/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1770529460300813824}}'
2026-02-08 04:50:49.028 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-08 04:50:49.028 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-08 04:50:49.129 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2026-02-08 04:50:49.129 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:33373/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-08 04:50:49.132 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770529460300813824,"ephemeral":false,"proof":""}]'
2026-02-08 04:50:49.133 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2026-02-08 04:50:49.133 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:29239/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-08 04:50:49.135 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770529460300813824,"ephemeral":false,"proof":""}]'
2026-02-08 04:50:49.137 DEBUG [src.steps.light_push] Checking that peer NODE_3:wakuorg/nwaku:latest can find the lightpushed message
2026-02-08 04:50:49.137 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19536/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-08 04:50:49.139 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770529460300813824,"ephemeral":false,"proof":""}]'
2026-02-08 04:50:49.142 DEBUG [tests.light_push.test_publish] Running test with timestamp Positive number
2026-02-08 04:50:49.142 DEBUG [src.steps.light_push] Lightpushing message
2026-02-08 04:50:49.142 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:19536/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1}}'
2026-02-08 04:50:49.156 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-08 04:50:49.156 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-08 04:50:49.256 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2026-02-08 04:50:49.257 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:33373/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-08 04:50:49.259 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1,"ephemeral":false,"proof":""}]'
2026-02-08 04:50:49.260 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2026-02-08 04:50:49.260 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:29239/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-08 04:50:49.263 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1,"ephemeral":false,"proof":""}]'
2026-02-08 04:50:49.264 DEBUG [src.steps.light_push] Checking that peer NODE_3:wakuorg/nwaku:latest can find the lightpushed message
2026-02-08 04:50:49.264 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19536/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-08 04:50:49.266 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1,"ephemeral":false,"proof":""}]'
2026-02-08 04:50:49.285 DEBUG [tests.light_push.test_publish] Running test with timestamp Negative number
2026-02-08 04:50:49.285 DEBUG [src.steps.light_push] Lightpushing message
2026-02-08 04:50:49.286 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:19536/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": -1}}'
2026-02-08 04:50:49.297 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-08 04:50:49.297 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-08 04:50:49.398 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2026-02-08 04:50:49.398 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:33373/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-08 04:50:49.400 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":-1,"ephemeral":false,"proof":""}]'
2026-02-08 04:50:49.402 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2026-02-08 04:50:49.402 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:29239/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-08 04:50:49.404 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":-1,"ephemeral":false,"proof":""}]'
2026-02-08 04:50:49.405 DEBUG [src.steps.light_push] Checking that peer NODE_3:wakuorg/nwaku:latest can find the lightpushed message
2026-02-08 04:50:49.405 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19536/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-08 04:50:49.408 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":-1,"ephemeral":false,"proof":""}]'
2026-02-08 04:50:49.409 DEBUG [tests.light_push.test_publish] Running test with timestamp DST change
2026-02-08 04:50:49.409 DEBUG [src.steps.light_push] Lightpushing message
2026-02-08 04:50:49.409 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:19536/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1583632800000000000}}'
2026-02-08 04:50:49.423 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-08 04:50:49.423 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-08 04:50:49.523 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2026-02-08 04:50:49.523 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:33373/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-08 04:50:49.526 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1583632800000000000,"ephemeral":false,"proof":""}]'
2026-02-08 04:50:49.527 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2026-02-08 04:50:49.527 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:29239/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-08 04:50:49.529 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1583632800000000000,"ephemeral":false,"proof":""}]'
2026-02-08 04:50:49.531 DEBUG [src.steps.light_push] Checking that peer NODE_3:wakuorg/nwaku:latest can find the lightpushed message
2026-02-08 04:50:49.531 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19536/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-08 04:50:49.533 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1583632800000000000,"ephemeral":false,"proof":""}]'
2026-02-08 04:50:49.536 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-02-08 04:50:49.537 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-02-08 04:50:49.537 DEBUG [src.node.waku_node] Stopping container with id 6358cc91a272
2026-02-08 04:50:50.067 DEBUG [src.node.waku_node] Container stopped.
2026-02-08 04:50:50.067 DEBUG [src.node.waku_node] Stopping container with id dea3a1e8bdef
2026-02-08 04:50:50.594 DEBUG [src.node.waku_node] Container stopped.
2026-02-08 04:50:50.595 DEBUG [src.node.waku_node] Stopping container with id 6732a4179e4d
2026-02-08 04:50:50.879 ERROR [src.node.docker_mananger] Max retries reached for container 6358cc91a272. Exiting log stream.
2026-02-08 04:50:51.129 DEBUG [src.node.waku_node] Container stopped.
2026-02-08 04:50:51.130 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-02-08 04:50:51.141 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-08 04:50:51.152 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-08 04:50:51.165 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
