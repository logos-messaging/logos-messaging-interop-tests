2026-02-11 04:45:51.244 DEBUG [tests.conftest] Running fixture setup: test_id
2026-02-11 04:45:51.244 DEBUG [tests.conftest] Running test: test_light_push_with_missing_pubsub_topics with id: 2026-02-11_04-45-51__e5120367-e648-4263-a89d-cb49a7a70a69
2026-02-11 04:45:51.244 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-02-11 04:45:51.245 DEBUG [src.steps.light_push] Running fixture setup: light_push_setup
2026-02-11 04:45:51.252 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-11 04:45:51.252 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node1_2026-02-11_04-45-51__e5120367-e648-4263-a89d-cb49a7a70a69__wakuorg_nwaku:latest.log
2026-02-11 04:45:51.252 DEBUG [src.node.waku_node] Starting Node...
2026-02-11 04:45:51.252 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-11 04:45:51.254 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-11 04:45:51.254 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.166.0
2026-02-11 04:45:51.254 DEBUG [src.node.docker_mananger] Generated ports ['51812', '51813', '51814', '51815', '51816']
2026-02-11 04:45:51.254 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-11 04:45:51.254 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-11 04:45:51.255 DEBUG [src.node.waku_node] Using volumes []
2026-02-11 04:45:51.255 DEBUG [src.node.docker_mananger] docker run -i -t -p 51812:51812 -p 51813:51813 -p 51814:51814 -p 51815:51815 -p 51816:51816 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=51814 --rest-port=51812 --tcp-port=51813 --discv5-udp-port=51815 --rest-address=0.0.0.0 --nat=extip:172.18.166.0 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fe53ade103adf407baed9b8ba725c9daea0e28cdb24115364cea07ef8e6ecebe --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=51816 --metrics-logging=true --lightpush=true --relay=true
2026-02-11 04:45:51.427 ERROR [src.node.docker_mananger] Max retries reached for container e89249cd958b. Exiting log stream.
2026-02-11 04:45:51.436 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.166.0 waku ec1d8499f5200ab3a7b8da069279bd067e77a9b6f20298b28a535dd4127b919f
2026-02-11 04:45:51.469 DEBUG [src.node.docker_mananger] Container started with ID ec1d8499f520. Setting up logs at ./log/docker/receiving_node1_2026-02-11_04-45-51__e5120367-e648-4263-a89d-cb49a7a70a69__wakuorg_nwaku:latest.log
2026-02-11 04:45:51.471 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 51812
2026-02-11 04:45:51.471 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-11 04:45:51.875 ERROR [src.node.docker_mananger] Max retries reached for container 90b0c6968db7. Exiting log stream.
2026-02-11 04:45:52.471 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:51812/health" -H "Content-Type: application/json" -d 'None'
2026-02-11 04:45:52.474 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_READY","desc":"Node has no relay peers to fullfill push requests"},{"Legacy Lightpush":"NOT_READY","desc":"Node has no relay peers to fullfill push requests"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-11 04:45:52.475 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-11 04:45:52.475 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:51812/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-11 04:45:52.477 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.166.0/tcp/51813/p2p/16Uiu2HAmSQVvdQS8sVA9p3v37CG3vaGDepHRhZTUMHRnYkaFJmcr","/ip4/172.18.166.0/tcp/51814/ws/p2p/16Uiu2HAmSQVvdQS8sVA9p3v37CG3vaGDepHRhZTUMHRnYkaFJmcr"],"enrUri":"enr:-L24QF0if_COh_oEIEkQ6OHtV-GBtvZfn3MDXBb951xa9zf2QqyO4E-3Dydgs98bxhgA5u3gFDoPu5rmCsBikuoOk8sCgmlkgnY0gmlwhKwSpgCKbXVsdGlhZGRyc5YACASsEqYABsplAAoErBKmAAbKZt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDzE1YXQjip_wznDXnyJw3G3yc1uK3KWBqIM6gB--JZreDdGNwgsplg3VkcILKZ4V3YWt1Mgk"}'
2026-02-11 04:45:52.477 INFO [src.node.waku_node] REST service is ready !!
2026-02-11 04:45:52.484 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-11 04:45:52.484 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node2_2026-02-11_04-45-51__e5120367-e648-4263-a89d-cb49a7a70a69__wakuorg_nwaku:latest.log
2026-02-11 04:45:52.484 DEBUG [src.node.waku_node] Starting Node...
2026-02-11 04:45:52.484 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-11 04:45:52.486 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-11 04:45:52.486 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.56.225
2026-02-11 04:45:52.486 DEBUG [src.node.docker_mananger] Generated ports ['15523', '15524', '15525', '15526', '15527']
2026-02-11 04:45:52.486 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-11 04:45:52.487 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-11 04:45:52.487 DEBUG [src.node.waku_node] Using volumes []
2026-02-11 04:45:52.487 DEBUG [src.node.docker_mananger] docker run -i -t -p 15523:15523 -p 15524:15524 -p 15525:15525 -p 15526:15526 -p 15527:15527 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=15525 --rest-port=15523 --tcp-port=15524 --discv5-udp-port=15526 --rest-address=0.0.0.0 --nat=extip:172.18.56.225 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=1e6640eec8dfe64ab87a7b9b2ce3d3951cc05a9d9e47ede1f75febfde4caaed7 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=15527 --metrics-logging=true --lightpush=false --relay=true
2026-02-11 04:45:52.680 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.56.225 waku 7217b69631b86a7b40a8947d9f9e871f2e7dc60885f630defb3d301c3b7c9687
2026-02-11 04:45:52.711 DEBUG [src.node.docker_mananger] Container started with ID 7217b69631b8. Setting up logs at ./log/docker/receiving_node2_2026-02-11_04-45-51__e5120367-e648-4263-a89d-cb49a7a70a69__wakuorg_nwaku:latest.log
2026-02-11 04:45:52.711 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 15523
2026-02-11 04:45:52.711 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-11 04:45:53.712 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15523/health" -H "Content-Type: application/json" -d 'None'
2026-02-11 04:45:53.715 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-11 04:45:53.715 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-11 04:45:53.716 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15523/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-11 04:45:53.718 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.56.225/tcp/15524/p2p/16Uiu2HAm9Hg2YGjZH3AD7YAnxVaq2QsEp9FUEsrgPE8BkcMJhTrF","/ip4/172.18.56.225/tcp/15525/ws/p2p/16Uiu2HAm9Hg2YGjZH3AD7YAnxVaq2QsEp9FUEsrgPE8BkcMJhTrF"],"enrUri":"enr:-L24QCptfAbV9p3iSTY24F-p6qOQOR4YccAzrVK-I8h2_lQhZdg90VwfSYKXIpyCdhSSQGiozpATH65-AEieFBPcLUkCgmlkgnY0gmlwhKwSOOGKbXVsdGlhZGRyc5YACASsEjjhBjykAAoErBI44QY8pd0DgnJzhQADAQAAiXNlY3AyNTZrMaECzfcGJ1704PxQPMK2MlGADksaSehRp9aTlp9Su5s5d-CDdGNwgjykg3VkcII8poV3YWt1MgE"}'
2026-02-11 04:45:53.718 INFO [src.node.waku_node] REST service is ready !!
2026-02-11 04:45:53.718 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:15523/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.166.0/tcp/51813/p2p/16Uiu2HAmSQVvdQS8sVA9p3v37CG3vaGDepHRhZTUMHRnYkaFJmcr"]'
2026-02-11 04:45:53.750 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-11 04:45:53.767 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-11 04:45:53.767 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/lightpush_node1_2026-02-11_04-45-51__e5120367-e648-4263-a89d-cb49a7a70a69__wakuorg_nwaku:latest.log
2026-02-11 04:45:53.768 DEBUG [src.node.waku_node] Starting Node...
2026-02-11 04:45:53.768 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-11 04:45:53.771 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-11 04:45:53.772 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.152.247
2026-02-11 04:45:53.772 DEBUG [src.node.docker_mananger] Generated ports ['6373', '6374', '6375', '6376', '6377']
2026-02-11 04:45:53.773 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-11 04:45:53.773 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-11 04:45:53.773 DEBUG [src.node.waku_node] Using volumes []
2026-02-11 04:45:53.773 DEBUG [src.node.docker_mananger] docker run -i -t -p 6373:6373 -p 6374:6374 -p 6375:6375 -p 6376:6376 -p 6377:6377 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=6375 --rest-port=6373 --tcp-port=6374 --discv5-udp-port=6376 --rest-address=0.0.0.0 --nat=extip:172.18.152.247 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=1a4bebdf8bacb92a2a76a232afcab14e2fadbe9cffac9432ee6c3bccdaa27913 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=6377 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QF0if_COh_oEIEkQ6OHtV-GBtvZfn3MDXBb951xa9zf2QqyO4E-3Dydgs98bxhgA5u3gFDoPu5rmCsBikuoOk8sCgmlkgnY0gmlwhKwSpgCKbXVsdGlhZGRyc5YACASsEqYABsplAAoErBKmAAbKZt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDzE1YXQjip_wznDXnyJw3G3yc1uK3KWBqIM6gB--JZreDdGNwgsplg3VkcILKZ4V3YWt1Mgk --lightpushnode=/ip4/172.18.166.0/tcp/51813/p2p/16Uiu2HAmSQVvdQS8sVA9p3v37CG3vaGDepHRhZTUMHRnYkaFJmcr --lightpush=true --relay=true
2026-02-11 04:45:53.965 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.152.247 waku 853e64dfbb03838b2729575fbaedc2470e7a7afa5c0ed29ae466869907e8f710
2026-02-11 04:45:53.997 DEBUG [src.node.docker_mananger] Container started with ID 853e64dfbb03. Setting up logs at ./log/docker/lightpush_node1_2026-02-11_04-45-51__e5120367-e648-4263-a89d-cb49a7a70a69__wakuorg_nwaku:latest.log
2026-02-11 04:45:53.997 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 6373
2026-02-11 04:45:53.998 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-11 04:45:54.998 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:6373/health" -H "Content-Type: application/json" -d 'None'
2026-02-11 04:45:55.002 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_READY","desc":"Node has no relay peers to fullfill push requests"},{"Legacy Lightpush":"NOT_READY","desc":"Node has no relay peers to fullfill push requests"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"READY"},{"Legacy Lightpush Client":"READY"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-11 04:45:55.002 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-11 04:45:55.002 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:6373/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-11 04:45:55.005 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.152.247/tcp/6374/p2p/16Uiu2HAm9Ba2xriXnRrvsRg2dAVWqUuBbr2uefvEGbkqkv9mrA8S","/ip4/172.18.152.247/tcp/6375/ws/p2p/16Uiu2HAm9Ba2xriXnRrvsRg2dAVWqUuBbr2uefvEGbkqkv9mrA8S"],"enrUri":"enr:-L24QAgzDaMouHYUnvmvZsmHWyFx3sEz1pVQ-rPcPryz5PJeGwrjmymQjerHzjRwNfPX6ac6vr1H7r_7DefXUusFCU4CgmlkgnY0gmlwhKwSmPeKbXVsdGlhZGRyc5YACASsEpj3BhjmAAoErBKY9wYY590DgnJzhQADAQAAiXNlY3AyNTZrMaECzGbDYsa-_Q7oExn7GwSZgQqDqVBWGjQn-j0YfbjYEhuDdGNwghjmg3VkcIIY6IV3YWt1Mgk"}'
2026-02-11 04:45:55.005 INFO [src.node.waku_node] REST service is ready !!
2026-02-11 04:45:55.005 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:6373/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.166.0/tcp/51813/p2p/16Uiu2HAmSQVvdQS8sVA9p3v37CG3vaGDepHRhZTUMHRnYkaFJmcr"]'
2026-02-11 04:45:55.043 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-11 04:45:55.044 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:6373/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.56.225/tcp/15524/p2p/16Uiu2HAm9Hg2YGjZH3AD7YAnxVaq2QsEp9FUEsrgPE8BkcMJhTrF"]'
2026-02-11 04:45:55.072 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-11 04:45:55.073 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:51812/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-11 04:45:55.082 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-11 04:45:55.083 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:15523/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-11 04:45:55.089 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-11 04:45:55.090 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:6373/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-11 04:45:55.096 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-11 04:45:55.100 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:6373/lightpush/v1/message" -H "Content-Type: application/json" -d '{"message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1770785155100581858}}'
2026-02-11 04:45:55.115 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-11 04:45:55.120 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-02-11 04:45:55.121 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-02-11 04:45:55.121 DEBUG [src.node.waku_node] Stopping container with id ec1d8499f520
2026-02-11 04:45:55.687 DEBUG [src.node.waku_node] Container stopped.
2026-02-11 04:45:55.690 DEBUG [src.node.waku_node] Stopping container with id 7217b69631b8
2026-02-11 04:45:56.241 DEBUG [src.node.waku_node] Container stopped.
2026-02-11 04:45:56.241 DEBUG [src.node.waku_node] Stopping container with id 853e64dfbb03
2026-02-11 04:45:56.501 ERROR [src.node.docker_mananger] Max retries reached for container ec1d8499f520. Exiting log stream.
2026-02-11 04:45:56.777 DEBUG [src.node.waku_node] Container stopped.
2026-02-11 04:45:56.780 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-02-11 04:45:56.790 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-11 04:45:56.798 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-11 04:45:56.807 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
