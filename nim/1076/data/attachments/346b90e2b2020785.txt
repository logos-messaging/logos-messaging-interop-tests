2026-02-11 04:46:07.778 DEBUG [tests.conftest] Running fixture setup: test_id
2026-02-11 04:46:07.778 DEBUG [tests.conftest] Running test: test_store_with_unknown_content_topic with id: 2026-02-11_04-46-07__026d96be-8f8a-4c88-a94f-2ea241b067f3
2026-02-11 04:46:07.778 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-02-11 04:46:07.779 DEBUG [src.steps.store] Running fixture setup: store_setup
2026-02-11 04:46:07.779 DEBUG [src.steps.store] Running fixture setup: node_setup
2026-02-11 04:46:07.785 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-11 04:46:07.785 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/publishing_node1_2026-02-11_04-46-07__026d96be-8f8a-4c88-a94f-2ea241b067f3__wakuorg_nwaku:latest.log
2026-02-11 04:46:07.786 DEBUG [src.node.waku_node] Starting Node...
2026-02-11 04:46:07.786 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-11 04:46:07.787 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-11 04:46:07.787 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.142.239
2026-02-11 04:46:07.787 DEBUG [src.node.docker_mananger] Generated ports ['12194', '12195', '12196', '12197', '12198']
2026-02-11 04:46:07.787 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-11 04:46:07.788 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-11 04:46:07.788 DEBUG [src.node.waku_node] Using volumes []
2026-02-11 04:46:07.788 DEBUG [src.node.docker_mananger] docker run -i -t -p 12194:12194 -p 12195:12195 -p 12196:12196 -p 12197:12197 -p 12198:12198 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=12196 --rest-port=12194 --tcp-port=12195 --discv5-udp-port=12197 --rest-address=0.0.0.0 --nat=extip:172.18.142.239 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e09c20da7b65aea6503c73aacac8f65e0b1e800fc0158a8a9d4c7edcfbfa59ed --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=12198 --metrics-logging=true --store=true --relay=true
2026-02-11 04:46:07.992 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.142.239 waku 9cd86d0e680bdfe5a8e337d4e7bcbbdc5dd6b6ed1fcafa7333bf6e55bd39b92d
2026-02-11 04:46:08.023 DEBUG [src.node.docker_mananger] Container started with ID 9cd86d0e680b. Setting up logs at ./log/docker/publishing_node1_2026-02-11_04-46-07__026d96be-8f8a-4c88-a94f-2ea241b067f3__wakuorg_nwaku:latest.log
2026-02-11 04:46:08.023 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 12194
2026-02-11 04:46:08.023 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-11 04:46:08.035 ERROR [src.node.docker_mananger] Max retries reached for container f4cb22ec8f3d. Exiting log stream.
2026-02-11 04:46:08.575 ERROR [src.node.docker_mananger] Max retries reached for container 619a81f4e99d. Exiting log stream.
2026-02-11 04:46:09.024 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12194/health" -H "Content-Type: application/json" -d 'None'
2026-02-11 04:46:09.027 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"READY"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"READY"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-11 04:46:09.027 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-11 04:46:09.027 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12194/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-11 04:46:09.030 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.142.239/tcp/12195/p2p/16Uiu2HAm8VK2jYVdxYKapFLgv7fH2wWmJaAMtWnmEdyQqM2678an","/ip4/172.18.142.239/tcp/12196/ws/p2p/16Uiu2HAm8VK2jYVdxYKapFLgv7fH2wWmJaAMtWnmEdyQqM2678an"],"enrUri":"enr:-L24QPpek6E2yBM2Oh1gt6OOBMMqutva-l8jLd3lgAYEMh_AB1mvoer_sgrWbLOjt3fIprsQnq-UhXDsnPYFIvNLxqMCgmlkgnY0gmlwhKwSju-KbXVsdGlhZGRyc5YACASsEo7vBi-jAAoErBKO7wYvpN0DgnJzhQADAQAAiXNlY3AyNTZrMaECwhaQ2nreFYdGJzk1lDFvJNC6YhDwbjONpI3f70dJq4ODdGNwgi-jg3VkcIIvpYV3YWt1MgM"}'
2026-02-11 04:46:09.030 INFO [src.node.waku_node] REST service is ready !!
2026-02-11 04:46:09.037 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-11 04:46:09.037 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/store_node1_2026-02-11_04-46-07__026d96be-8f8a-4c88-a94f-2ea241b067f3__wakuorg_nwaku:latest.log
2026-02-11 04:46:09.037 DEBUG [src.node.waku_node] Starting Node...
2026-02-11 04:46:09.037 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-11 04:46:09.038 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-11 04:46:09.038 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.80.148
2026-02-11 04:46:09.039 DEBUG [src.node.docker_mananger] Generated ports ['50169', '50170', '50171', '50172', '50173']
2026-02-11 04:46:09.039 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-11 04:46:09.039 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-11 04:46:09.039 DEBUG [src.node.waku_node] Using volumes []
2026-02-11 04:46:09.039 DEBUG [src.node.docker_mananger] docker run -i -t -p 50169:50169 -p 50170:50170 -p 50171:50171 -p 50172:50172 -p 50173:50173 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=50171 --rest-port=50169 --tcp-port=50170 --discv5-udp-port=50172 --rest-address=0.0.0.0 --nat=extip:172.18.80.148 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=873ebb8dba489b3986ecfbe1adb6b0cdbd51caefec098eef04c73baa3cfacb29 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=50173 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QPpek6E2yBM2Oh1gt6OOBMMqutva-l8jLd3lgAYEMh_AB1mvoer_sgrWbLOjt3fIprsQnq-UhXDsnPYFIvNLxqMCgmlkgnY0gmlwhKwSju-KbXVsdGlhZGRyc5YACASsEo7vBi-jAAoErBKO7wYvpN0DgnJzhQADAQAAiXNlY3AyNTZrMaECwhaQ2nreFYdGJzk1lDFvJNC6YhDwbjONpI3f70dJq4ODdGNwgi-jg3VkcIIvpYV3YWt1MgM --storenode=/ip4/172.18.142.239/tcp/12195/p2p/16Uiu2HAm8VK2jYVdxYKapFLgv7fH2wWmJaAMtWnmEdyQqM2678an --store=true --relay=true
2026-02-11 04:46:09.226 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.80.148 waku d54e2a8a92c7b0d009e20855e60942acce128f709cf1f3fe49cc595fd6a0df1e
2026-02-11 04:46:09.264 DEBUG [src.node.docker_mananger] Container started with ID d54e2a8a92c7. Setting up logs at ./log/docker/store_node1_2026-02-11_04-46-07__026d96be-8f8a-4c88-a94f-2ea241b067f3__wakuorg_nwaku:latest.log
2026-02-11 04:46:09.264 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 50169
2026-02-11 04:46:09.265 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-11 04:46:10.266 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50169/health" -H "Content-Type: application/json" -d 'None'
2026-02-11 04:46:10.270 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"READY"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"READY"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"READY"},{"Legacy Store Client":"READY"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-11 04:46:10.270 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-11 04:46:10.270 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50169/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-11 04:46:10.273 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.80.148/tcp/50170/p2p/16Uiu2HAmTH3ughXE9cJXkLuSG6aTEzTBX2KFU2Y47FW7TmeJrhid","/ip4/172.18.80.148/tcp/50171/ws/p2p/16Uiu2HAmTH3ughXE9cJXkLuSG6aTEzTBX2KFU2Y47FW7TmeJrhid"],"enrUri":"enr:-L24QMEw8aTEa6_NoWY6Hpk-RwJNFJGKpejp9pOZoO96xJLKbhE75Ms_G284rmgN0DJQ2HenF4QjN9tSjs3lghGZdXkCgmlkgnY0gmlwhKwSUJSKbXVsdGlhZGRyc5YACASsElCUBsP6AAoErBJQlAbD-90DgnJzhQADAQAAiXNlY3AyNTZrMaED2UCMvH6FvB-x_iCTJ0zIntQ_ENDiHpJeV6rlAAUQ6uaDdGNwgsP6g3VkcILD_IV3YWt1MgM"}'
2026-02-11 04:46:10.273 INFO [src.node.waku_node] REST service is ready !!
2026-02-11 04:46:10.273 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:50169/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.142.239/tcp/12195/p2p/16Uiu2HAm8VK2jYVdxYKapFLgv7fH2wWmJaAMtWnmEdyQqM2678an"]'
2026-02-11 04:46:10.276 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-11 04:46:10.276 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:12194/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-11 04:46:10.279 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-11 04:46:10.279 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:50169/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-11 04:46:10.281 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-11 04:46:10.282 DEBUG [src.steps.store] Relaying message
2026-02-11 04:46:10.282 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:12194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-11 04:46:10.287 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-11 04:46:10.288 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-11 04:46:10.489 DEBUG [src.steps.store] Relaying message
2026-02-11 04:46:10.489 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:12194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2026-02-11 04:46:10.494 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-11 04:46:10.495 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-11 04:46:10.696 DEBUG [src.steps.store] Relaying message
2026-02-11 04:46:10.696 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:12194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-02-11 04:46:10.701 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-11 04:46:10.701 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-11 04:46:10.903 DEBUG [src.steps.store] Relaying message
2026-02-11 04:46:10.903 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:12194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2026-02-11 04:46:10.908 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-11 04:46:10.908 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-11 04:46:11.109 DEBUG [src.steps.store] Relaying message
2026-02-11 04:46:11.109 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:12194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2026-02-11 04:46:11.115 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-11 04:46:11.116 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-11 04:46:11.316 DEBUG [src.steps.store] Relaying message
2026-02-11 04:46:11.316 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:12194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-02-11 04:46:11.322 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-11 04:46:11.322 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-11 04:46:11.523 DEBUG [src.steps.store] Relaying message
2026-02-11 04:46:11.523 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:12194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-02-11 04:46:11.529 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-11 04:46:11.529 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-11 04:46:11.730 DEBUG [src.steps.store] Relaying message
2026-02-11 04:46:11.731 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:12194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-02-11 04:46:11.736 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-11 04:46:11.737 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-11 04:46:11.940 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12194/store/v3/messages?contentTopics=test&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
2026-02-11 04:46:11.943 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[]}'
2026-02-11 04:46:11.943 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50169/store/v3/messages?contentTopics=test&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
2026-02-11 04:46:11.945 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[]}'
2026-02-11 04:46:11.948 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-02-11 04:46:11.949 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-02-11 04:46:11.949 DEBUG [src.node.waku_node] Stopping container with id 9cd86d0e680b
2026-02-11 04:46:12.477 DEBUG [src.node.waku_node] Container stopped.
2026-02-11 04:46:12.479 DEBUG [src.node.waku_node] Stopping container with id d54e2a8a92c7
2026-02-11 04:46:12.993 DEBUG [src.node.waku_node] Container stopped.
2026-02-11 04:46:12.994 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-02-11 04:46:13.001 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-11 04:46:13.008 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
