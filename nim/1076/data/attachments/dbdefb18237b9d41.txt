2026-02-11 04:43:33.325 DEBUG [tests.conftest] Running fixture setup: test_id
2026-02-11 04:43:33.326 DEBUG [tests.conftest] Running test: test_filter_subscribe_with_no_pubsub_topic with id: 2026-02-11_04-43-33__0d89d572-9ad7-4cdd-9d9b-7ce58b0495ac
2026-02-11 04:43:33.326 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-02-11 04:43:33.326 DEBUG [src.steps.filter] Running fixture setup: filter_setup
2026-02-11 04:43:33.326 DEBUG [src.steps.filter] Running fixture setup: setup_main_relay_node
2026-02-11 04:43:33.332 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-11 04:43:33.332 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2026-02-11_04-43-33__0d89d572-9ad7-4cdd-9d9b-7ce58b0495ac__wakuorg_nwaku:latest.log
2026-02-11 04:43:33.333 DEBUG [src.node.waku_node] Starting Node...
2026-02-11 04:43:33.333 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-11 04:43:33.334 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-11 04:43:33.334 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.253.84
2026-02-11 04:43:33.334 DEBUG [src.node.docker_mananger] Generated ports ['53214', '53215', '53216', '53217', '53218']
2026-02-11 04:43:33.334 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-11 04:43:33.334 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-11 04:43:33.335 DEBUG [src.node.waku_node] Using volumes []
2026-02-11 04:43:33.335 DEBUG [src.node.docker_mananger] docker run -i -t -p 53214:53214 -p 53215:53215 -p 53216:53216 -p 53217:53217 -p 53218:53218 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=53216 --rest-port=53214 --tcp-port=53215 --discv5-udp-port=53217 --rest-address=0.0.0.0 --nat=extip:172.18.253.84 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f099bddded24ffcc0ff7ecf4afc7fbd26ef7bc8d4ee2e59dbacf667d05fddf91 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=53218 --metrics-logging=true --relay=true --filter=true
2026-02-11 04:43:33.516 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.253.84 waku f46f2f226def12ae850663b8a0a6cfa044756d077a8b7d7d1bf5f1f8f0df5a72
2026-02-11 04:43:33.546 DEBUG [src.node.docker_mananger] Container started with ID f46f2f226def. Setting up logs at ./log/docker/node1_2026-02-11_04-43-33__0d89d572-9ad7-4cdd-9d9b-7ce58b0495ac__wakuorg_nwaku:latest.log
2026-02-11 04:43:33.546 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 53214
2026-02-11 04:43:33.546 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-11 04:43:33.619 ERROR [src.node.docker_mananger] Max retries reached for container 8a330cadab9d. Exiting log stream.
2026-02-11 04:43:34.129 ERROR [src.node.docker_mananger] Max retries reached for container c367af865661. Exiting log stream.
2026-02-11 04:43:34.547 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:53214/health" -H "Content-Type: application/json" -d 'None'
2026-02-11 04:43:34.550 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_READY","desc":"Relay is not ready, filter will not be able to sort out messages"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-11 04:43:34.550 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-11 04:43:34.550 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:53214/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-11 04:43:34.552 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.253.84/tcp/53215/p2p/16Uiu2HAmM5WN27SeDRbWN4AkmqJTSAxRbkA58qqnbCRmqEoWDUHc","/ip4/172.18.253.84/tcp/53216/ws/p2p/16Uiu2HAmM5WN27SeDRbWN4AkmqJTSAxRbkA58qqnbCRmqEoWDUHc"],"enrUri":"enr:-L24QCHDhTVPthBSGgkWwQ7QaSqc9926w5XTLUVDTRKNNGz8Vyhv7WH8Cc7RUfBMHJFKSgrJ5ipkmWDW5Az5xngP5dsCgmlkgnY0gmlwhKwS_VSKbXVsdGlhZGRyc5YACASsEv1UBs_fAAoErBL9VAbP4N0DgnJzhQADAQAAiXNlY3AyNTZrMaEDfSVew3SrNi2wNYSIipjygHBVcC1gTiC1jpQmdGzyDz-DdGNwgs_fg3VkcILP4YV3YWt1MgU"}'
2026-02-11 04:43:34.553 INFO [src.node.waku_node] REST service is ready !!
2026-02-11 04:43:34.553 DEBUG [src.steps.filter] Running fixture setup: setup_main_filter_node
2026-02-11 04:43:34.559 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-11 04:43:34.559 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2026-02-11_04-43-33__0d89d572-9ad7-4cdd-9d9b-7ce58b0495ac__wakuorg_nwaku:latest.log
2026-02-11 04:43:34.559 DEBUG [src.node.waku_node] Starting Node...
2026-02-11 04:43:34.560 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-11 04:43:34.561 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-11 04:43:34.561 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.248.158
2026-02-11 04:43:34.561 DEBUG [src.node.docker_mananger] Generated ports ['7583', '7584', '7585', '7586', '7587']
2026-02-11 04:43:34.561 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-11 04:43:34.561 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-11 04:43:34.562 DEBUG [src.node.waku_node] Using volumes []
2026-02-11 04:43:34.562 DEBUG [src.node.docker_mananger] docker run -i -t -p 7583:7583 -p 7584:7584 -p 7585:7585 -p 7586:7586 -p 7587:7587 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=7585 --rest-port=7583 --tcp-port=7584 --discv5-udp-port=7586 --rest-address=0.0.0.0 --nat=extip:172.18.248.158 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a2ed51abecfb5bab7bfa8ad0ee33e083e82a10c362f8d503bf282a0992882a2d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=7587 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QCHDhTVPthBSGgkWwQ7QaSqc9926w5XTLUVDTRKNNGz8Vyhv7WH8Cc7RUfBMHJFKSgrJ5ipkmWDW5Az5xngP5dsCgmlkgnY0gmlwhKwS_VSKbXVsdGlhZGRyc5YACASsEv1UBs_fAAoErBL9VAbP4N0DgnJzhQADAQAAiXNlY3AyNTZrMaEDfSVew3SrNi2wNYSIipjygHBVcC1gTiC1jpQmdGzyDz-DdGNwgs_fg3VkcILP4YV3YWt1MgU --filternode=/ip4/172.18.253.84/tcp/53215/p2p/16Uiu2HAmM5WN27SeDRbWN4AkmqJTSAxRbkA58qqnbCRmqEoWDUHc
2026-02-11 04:43:34.748 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.248.158 waku 51e32bd1dec0e675a5eed7ba7d6f5e5c180c3a9f54d7683d489542242a7f2d7f
2026-02-11 04:43:34.776 DEBUG [src.node.docker_mananger] Container started with ID 51e32bd1dec0. Setting up logs at ./log/docker/node2_2026-02-11_04-43-33__0d89d572-9ad7-4cdd-9d9b-7ce58b0495ac__wakuorg_nwaku:latest.log
2026-02-11 04:43:34.776 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 7583
2026-02-11 04:43:34.776 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-11 04:43:35.777 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:7583/health" -H "Content-Type: application/json" -d 'None'
2026-02-11 04:43:35.781 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_MOUNTED"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"READY"}]}'
2026-02-11 04:43:35.781 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-11 04:43:35.781 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:7583/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-11 04:43:35.784 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.248.158/tcp/7584/p2p/16Uiu2HAmNfeGHe9bXeV3i6b7gD7NSnSaLbpegBBBUosQW1UdpPTx","/ip4/172.18.248.158/tcp/7585/ws/p2p/16Uiu2HAmNfeGHe9bXeV3i6b7gD7NSnSaLbpegBBBUosQW1UdpPTx"],"enrUri":"enr:-L24QDAS9OTzFYMY2vCdIK2Gzrwd0l-zpqsW83wuoq8xxqjvbq0aD1STqzaDvib8cMazHMspLdXkhvtee-6tb_VkQ1ECgmlkgnY0gmlwhKwS-J6KbXVsdGlhZGRyc5YACASsEvieBh2gAAoErBL4ngYdod0DgnJzhQADAQAAiXNlY3AyNTZrMaEDlL-9DUppGudXdOU9bgHCNCB4mIplBHrjswORIFvePiuDdGNwgh2gg3VkcIIdooV3YWt1MgA"}'
2026-02-11 04:43:35.784 INFO [src.node.waku_node] REST service is ready !!
2026-02-11 04:43:35.784 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:7583/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.253.84/tcp/53215/p2p/16Uiu2HAmM5WN27SeDRbWN4AkmqJTSAxRbkA58qqnbCRmqEoWDUHc"]'
2026-02-11 04:43:35.816 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-11 04:43:35.817 DEBUG [src.steps.filter] Running fixture setup: subscribe_main_nodes
2026-02-11 04:43:35.818 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:53214/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2026-02-11 04:43:35.826 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-11 04:43:35.827 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:7583/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "5b9a139f-5da8-476f-8660-a8cb59acc6a5", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
2026-02-11 04:43:35.840 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"5b9a139f-5da8-476f-8660-a8cb59acc6a5","statusDesc":"OK"}'
2026-02-11 04:43:35.842 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:7583/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": ["/test/1/waku-filter/proto"]}'
2026-02-11 04:43:35.850 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"1","statusDesc":"OK"}'
2026-02-11 04:43:35.852 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-02-11 04:43:35.852 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-02-11 04:43:35.853 DEBUG [src.node.waku_node] Stopping container with id f46f2f226def
2026-02-11 04:43:36.428 DEBUG [src.node.waku_node] Container stopped.
2026-02-11 04:43:36.429 DEBUG [src.node.waku_node] Stopping container with id 51e32bd1dec0
2026-02-11 04:43:36.973 DEBUG [src.node.waku_node] Container stopped.
2026-02-11 04:43:36.976 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-02-11 04:43:36.982 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-11 04:43:36.988 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
