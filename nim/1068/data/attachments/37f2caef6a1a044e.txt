2026-02-04 11:54:31.637 DEBUG [tests.conftest] Running fixture setup: test_id
2026-02-04 11:54:31.638 DEBUG [tests.conftest] Running test: test_filter_unsubscribe_from_101_content_topics with id: 2026-02-04_11-54-31__128dcea2-9043-4190-927c-f2d1ce57a568
2026-02-04 11:54:31.638 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-02-04 11:54:31.638 DEBUG [src.steps.filter] Running fixture setup: filter_setup
2026-02-04 11:54:31.638 DEBUG [src.steps.filter] Running fixture setup: setup_main_relay_node
2026-02-04 11:54:31.645 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-04 11:54:31.646 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2026-02-04_11-54-31__128dcea2-9043-4190-927c-f2d1ce57a568__wakuorg_nwaku:latest.log
2026-02-04 11:54:31.646 DEBUG [src.node.waku_node] Starting Node...
2026-02-04 11:54:31.646 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-04 11:54:31.647 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-04 11:54:31.648 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.37.155
2026-02-04 11:54:31.648 DEBUG [src.node.docker_mananger] Generated ports ['30247', '30248', '30249', '30250', '30251']
2026-02-04 11:54:31.648 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-04 11:54:31.648 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-04 11:54:31.648 DEBUG [src.node.waku_node] Using volumes []
2026-02-04 11:54:31.648 DEBUG [src.node.docker_mananger] docker run -i -t -p 30247:30247 -p 30248:30248 -p 30249:30249 -p 30250:30250 -p 30251:30251 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=30249 --rest-port=30247 --tcp-port=30248 --discv5-udp-port=30250 --rest-address=0.0.0.0 --nat=extip:172.18.37.155 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c3e9655faff8f0f0cb34791ca2facadce30a76da86aebc1de06aa9a09fc8a5fb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=30251 --metrics-logging=true --relay=true --filter=true
2026-02-04 11:54:31.738 ERROR [src.node.docker_mananger] Max retries reached for container 4988f119f810. Exiting log stream.
2026-02-04 11:54:31.820 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.37.155 waku 17953c49dab57d0d1ab096f64647bf5c5ad419f83cc15813baec6dcac74cd37a
2026-02-04 11:54:31.854 DEBUG [src.node.docker_mananger] Container started with ID 17953c49dab5. Setting up logs at ./log/docker/node1_2026-02-04_11-54-31__128dcea2-9043-4190-927c-f2d1ce57a568__wakuorg_nwaku:latest.log
2026-02-04 11:54:31.855 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 30247
2026-02-04 11:54:31.855 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-04 11:54:32.256 ERROR [src.node.docker_mananger] Max retries reached for container ef4a503fac7d. Exiting log stream.
2026-02-04 11:54:32.855 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30247/health" -H "Content-Type: application/json" -d 'None'
2026-02-04 11:54:32.858 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_READY","desc":"Relay is not ready, filter will not be able to sort out messages"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-04 11:54:32.859 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-04 11:54:32.859 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30247/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-04 11:54:32.861 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.37.155/tcp/30248/p2p/16Uiu2HAm2Z246YSAAdv1754UutU6pHazBEuK83nLCvVWEJyTU3VR","/ip4/172.18.37.155/tcp/30249/ws/p2p/16Uiu2HAm2Z246YSAAdv1754UutU6pHazBEuK83nLCvVWEJyTU3VR"],"enrUri":"enr:-L24QDp-7k7yq_aZMN55FbAIf3F8D1FLJgw-69Iuvt-hr4wTCRdGtDA8zBM7CO1pZqUwXhl-M-UhSqJluu8GdZUgiGMCgmlkgnY0gmlwhKwSJZuKbXVsdGlhZGRyc5YACASsEiWbBnYoAAoErBIlmwZ2Kd0DgnJzhQADAQAAiXNlY3AyNTZrMaECaeOSdWMJxKZLueL_AtTNAGed2p-Zl5IjFVqkbq9TlVCDdGNwgnYog3VkcIJ2KoV3YWt1MgU"}'
2026-02-04 11:54:32.861 INFO [src.node.waku_node] REST service is ready !!
2026-02-04 11:54:32.862 DEBUG [src.steps.filter] Running fixture setup: setup_main_filter_node
2026-02-04 11:54:32.868 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-04 11:54:32.868 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2026-02-04_11-54-31__128dcea2-9043-4190-927c-f2d1ce57a568__wakuorg_nwaku:latest.log
2026-02-04 11:54:32.868 DEBUG [src.node.waku_node] Starting Node...
2026-02-04 11:54:32.869 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-04 11:54:32.870 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-04 11:54:32.870 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.64.82
2026-02-04 11:54:32.870 DEBUG [src.node.docker_mananger] Generated ports ['7805', '7806', '7807', '7808', '7809']
2026-02-04 11:54:32.870 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-04 11:54:32.870 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-04 11:54:32.870 DEBUG [src.node.waku_node] Using volumes []
2026-02-04 11:54:32.871 DEBUG [src.node.docker_mananger] docker run -i -t -p 7805:7805 -p 7806:7806 -p 7807:7807 -p 7808:7808 -p 7809:7809 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=7807 --rest-port=7805 --tcp-port=7806 --discv5-udp-port=7808 --rest-address=0.0.0.0 --nat=extip:172.18.64.82 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fcecdbccbeac2aacb1f2aa40fe202242ea3ce83f82b22bcc87b6becc3d9fd1fd --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=7809 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QDp-7k7yq_aZMN55FbAIf3F8D1FLJgw-69Iuvt-hr4wTCRdGtDA8zBM7CO1pZqUwXhl-M-UhSqJluu8GdZUgiGMCgmlkgnY0gmlwhKwSJZuKbXVsdGlhZGRyc5YACASsEiWbBnYoAAoErBIlmwZ2Kd0DgnJzhQADAQAAiXNlY3AyNTZrMaECaeOSdWMJxKZLueL_AtTNAGed2p-Zl5IjFVqkbq9TlVCDdGNwgnYog3VkcIJ2KoV3YWt1MgU --filternode=/ip4/172.18.37.155/tcp/30248/p2p/16Uiu2HAm2Z246YSAAdv1754UutU6pHazBEuK83nLCvVWEJyTU3VR
2026-02-04 11:54:33.045 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.64.82 waku 16d3b282134a7d737ddc51085d558c9acbe0625506e4628e21c2af7d2e00ff7c
2026-02-04 11:54:33.076 DEBUG [src.node.docker_mananger] Container started with ID 16d3b282134a. Setting up logs at ./log/docker/node2_2026-02-04_11-54-31__128dcea2-9043-4190-927c-f2d1ce57a568__wakuorg_nwaku:latest.log
2026-02-04 11:54:33.076 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 7805
2026-02-04 11:54:33.076 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-04 11:54:34.077 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:7805/health" -H "Content-Type: application/json" -d 'None'
2026-02-04 11:54:34.081 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_MOUNTED"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"READY"}]}'
2026-02-04 11:54:34.081 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-04 11:54:34.081 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:7805/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-04 11:54:34.084 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.64.82/tcp/7806/p2p/16Uiu2HAm94APjwotz2Ff4JA7tuMx4hcy9CpoZgBCR6fevjhwcBik","/ip4/172.18.64.82/tcp/7807/ws/p2p/16Uiu2HAm94APjwotz2Ff4JA7tuMx4hcy9CpoZgBCR6fevjhwcBik"],"enrUri":"enr:-L24QC461qvRrSL9Nrq3bGOTI4ByDBoUy6-Fc7fcxWxT5h8hXxvFDtCOhOk_AivULV-kpgo0qtkGr9-_lB6J6EZD-9YCgmlkgnY0gmlwhKwSQFKKbXVsdGlhZGRyc5YACASsEkBSBh5-AAoErBJAUgYef90DgnJzhQADAQAAiXNlY3AyNTZrMaECyoD3OfzTIGinenjg6cM0rMrZjS2SMHYUbfaaWaduOrWDdGNwgh5-g3VkcIIegIV3YWt1MgA"}'
2026-02-04 11:54:34.084 INFO [src.node.waku_node] REST service is ready !!
2026-02-04 11:54:34.084 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:7805/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.37.155/tcp/30248/p2p/16Uiu2HAm2Z246YSAAdv1754UutU6pHazBEuK83nLCvVWEJyTU3VR"]'
2026-02-04 11:54:34.117 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 11:54:34.119 DEBUG [src.steps.filter] Running fixture setup: subscribe_main_nodes
2026-02-04 11:54:34.119 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:30247/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2026-02-04 11:54:34.130 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 11:54:34.132 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:7805/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "07403eea-0adc-4190-b3cb-1291de1b9194", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
2026-02-04 11:54:34.142 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"07403eea-0adc-4190-b3cb-1291de1b9194","statusDesc":"OK"}'
2026-02-04 11:54:34.144 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:7805/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": ["0", "1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12", "13", "14", "15", "16", "17", "18", "19", "20", "21", "22", "23", "24", "25", "26", "27", "28", "29", "30", "31", "32", "33", "34", "35", "36", "37", "38", "39", "40", "41", "42", "43", "44", "45", "46", "47", "48", "49", "50", "51", "52", "53", "54", "55", "56", "57", "58", "59", "60", "61", "62", "63", "64", "65", "66", "67", "68", "69", "70", "71", "72", "73", "74", "75", "76", "77", "78", "79", "80", "81", "82", "83", "84", "85", "86", "87", "88", "89", "90", "91", "92", "93", "94", "95", "96", "97", "98", "99", "100"], "pubsubTopic": "/waku/2/rs/3/1"}'
2026-02-04 11:54:34.152 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:7805/filter/v2/subscriptions. Response content: b'{"requestId":"1","statusDesc":"BAD_REQUEST: exceeds maximum content topics: 100"}'
2026-02-04 11:54:34.155 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-02-04 11:54:34.156 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-02-04 11:54:34.156 DEBUG [src.node.waku_node] Stopping container with id 17953c49dab5
2026-02-04 11:54:34.704 DEBUG [src.node.waku_node] Container stopped.
2026-02-04 11:54:34.704 DEBUG [src.node.waku_node] Stopping container with id 16d3b282134a
2026-02-04 11:54:35.227 DEBUG [src.node.waku_node] Container stopped.
2026-02-04 11:54:35.230 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-02-04 11:54:35.235 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-04 11:54:35.240 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
