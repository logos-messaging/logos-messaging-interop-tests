2026-02-04 12:01:14.796 DEBUG [tests.conftest] Running fixture setup: test_id
2026-02-04 12:01:14.796 DEBUG [tests.conftest] Running test: test_unsubscribe_from_some_pubsub_topics with id: 2026-02-04_12-01-14__4c0b3321-1633-4896-889c-4c5c44f926df
2026-02-04 12:01:14.797 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-02-04 12:01:14.797 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2026-02-04 12:01:14.797 DEBUG [src.steps.sharding] Running fixture setup: sharding_setup
2026-02-04 12:01:14.804 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-04 12:01:14.804 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2026-02-04_12-01-14__4c0b3321-1633-4896-889c-4c5c44f926df__wakuorg_nwaku:latest.log
2026-02-04 12:01:14.804 DEBUG [src.node.waku_node] Starting Node...
2026-02-04 12:01:14.804 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-04 12:01:14.805 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-04 12:01:14.806 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.231.115
2026-02-04 12:01:14.806 DEBUG [src.node.docker_mananger] Generated ports ['18882', '18883', '18884', '18885', '18886']
2026-02-04 12:01:14.806 DEBUG [src.node.waku_node] Removing pubsub-topic from nwaku args
2026-02-04 12:01:14.806 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-04 12:01:14.806 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-04 12:01:14.806 DEBUG [src.node.waku_node] Using volumes []
2026-02-04 12:01:14.806 DEBUG [src.node.docker_mananger] docker run -i -t -p 18882:18882 -p 18883:18883 -p 18884:18884 -p 18885:18885 -p 18886:18886 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=18884 --rest-port=18882 --tcp-port=18883 --discv5-udp-port=18885 --rest-address=0.0.0.0 --nat=extip:172.18.231.115 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=eae43d6e0f151bfaad0389bffbd8a0dbeda1d9bfd190cbe72fddc31ebc3f5b0f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=18886 --metrics-logging=true --relay=true --filter=true
2026-02-04 12:01:14.954 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.231.115 waku b7dcf88cc061ea7dad557533ca354131931d43d668f264223387993ee2c31c67
2026-02-04 12:01:14.978 DEBUG [src.node.docker_mananger] Container started with ID b7dcf88cc061. Setting up logs at ./log/docker/node1_2026-02-04_12-01-14__4c0b3321-1633-4896-889c-4c5c44f926df__wakuorg_nwaku:latest.log
2026-02-04 12:01:14.978 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 18882
2026-02-04 12:01:14.979 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-04 12:01:15.141 ERROR [src.node.docker_mananger] Max retries reached for container ff6ce9aae491. Exiting log stream.
2026-02-04 12:01:15.585 ERROR [src.node.docker_mananger] Max retries reached for container 5703a749274f. Exiting log stream.
2026-02-04 12:01:15.979 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18882/health" -H "Content-Type: application/json" -d 'None'
2026-02-04 12:01:15.982 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_READY","desc":"Relay is not ready, filter will not be able to sort out messages"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-04 12:01:15.982 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-04 12:01:15.982 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18882/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-04 12:01:15.985 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.231.115/tcp/18883/p2p/16Uiu2HAmELodFt8qeqvdyv26gYgvoSoPgnygMriSNATDZK4nV6FQ","/ip4/172.18.231.115/tcp/18884/ws/p2p/16Uiu2HAmELodFt8qeqvdyv26gYgvoSoPgnygMriSNATDZK4nV6FQ"],"enrUri":"enr:-L24QIVGPVDzrLQFfmdej6utOr8dzTC59arjV9OiVI4marcKBdVmeKrAM5mNFkwCoYMDSEkpcc4C9-EcxgHiSoXmO2ICgmlkgnY0gmlwhKwS53OKbXVsdGlhZGRyc5YACASsEudzBknDAAoErBLncwZJxN0DgnJzhQACAQAAiXNlY3AyNTZrMaEDGQ7K9zfd0rWwNeugQu6ynhlfwci30w8JQTeFZedpGoeDdGNwgknDg3VkcIJJxYV3YWt1MgU"}'
2026-02-04 12:01:15.985 INFO [src.node.waku_node] REST service is ready !!
2026-02-04 12:01:15.991 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-04 12:01:15.991 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2026-02-04_12-01-14__4c0b3321-1633-4896-889c-4c5c44f926df__wakuorg_nwaku:latest.log
2026-02-04 12:01:15.991 DEBUG [src.node.waku_node] Starting Node...
2026-02-04 12:01:15.991 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-04 12:01:15.992 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-04 12:01:15.993 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.221.10
2026-02-04 12:01:15.993 DEBUG [src.node.docker_mananger] Generated ports ['60731', '60732', '60733', '60734', '60735']
2026-02-04 12:01:15.993 DEBUG [src.node.waku_node] Removing pubsub-topic from nwaku args
2026-02-04 12:01:15.993 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-04 12:01:15.993 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-04 12:01:15.993 DEBUG [src.node.waku_node] Using volumes []
2026-02-04 12:01:15.993 DEBUG [src.node.docker_mananger] docker run -i -t -p 60731:60731 -p 60732:60732 -p 60733:60733 -p 60734:60734 -p 60735:60735 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=60733 --rest-port=60731 --tcp-port=60732 --discv5-udp-port=60734 --rest-address=0.0.0.0 --nat=extip:172.18.221.10 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=aec8a1becb6aeaef85ade14ecbd8eecb226beacadb3de192c3bf77fba6dfe3e9 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=60735 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QIVGPVDzrLQFfmdej6utOr8dzTC59arjV9OiVI4marcKBdVmeKrAM5mNFkwCoYMDSEkpcc4C9-EcxgHiSoXmO2ICgmlkgnY0gmlwhKwS53OKbXVsdGlhZGRyc5YACASsEudzBknDAAoErBLncwZJxN0DgnJzhQACAQAAiXNlY3AyNTZrMaEDGQ7K9zfd0rWwNeugQu6ynhlfwci30w8JQTeFZedpGoeDdGNwgknDg3VkcIJJxYV3YWt1MgU
2026-02-04 12:01:16.139 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.221.10 waku 783639857e92dd69c591d3dbd498314f60cbf85a91b22344eba80c312afe4b66
2026-02-04 12:01:16.162 DEBUG [src.node.docker_mananger] Container started with ID 783639857e92. Setting up logs at ./log/docker/node2_2026-02-04_12-01-14__4c0b3321-1633-4896-889c-4c5c44f926df__wakuorg_nwaku:latest.log
2026-02-04 12:01:16.162 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 60731
2026-02-04 12:01:16.162 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-04 12:01:17.163 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60731/health" -H "Content-Type: application/json" -d 'None'
2026-02-04 12:01:17.178 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"READY"}]}'
2026-02-04 12:01:17.178 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-04 12:01:17.180 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60731/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-04 12:01:17.186 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.221.10/tcp/60732/p2p/16Uiu2HAm2G82mfFtemtghWSgWTqCCMyGpCkSTa6DxAzN1PL3EPrY","/ip4/172.18.221.10/tcp/60733/ws/p2p/16Uiu2HAm2G82mfFtemtghWSgWTqCCMyGpCkSTa6DxAzN1PL3EPrY"],"enrUri":"enr:-L24QGNPUq4ETBHnxgzOKXMBLg5PETw_eeJsaiV2UABe9MhjM6xnuEnZSW-ZV-5M04z-QSUhOfUG1m_65baKBrAOJSICgmlkgnY0gmlwhKwS3QqKbXVsdGlhZGRyc5YACASsEt0KBu08AAoErBLdCgbtPd0DgnJzhQACAQAAiXNlY3AyNTZrMaECZY907DhC6766yUSBbIQK6eBByzP803mj5yv_jeK9WdmDdGNwgu08g3VkcILtPoV3YWt1MgE"}'
2026-02-04 12:01:17.186 INFO [src.node.waku_node] REST service is ready !!
2026-02-04 12:01:17.186 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:60731/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.231.115/tcp/18883/p2p/16Uiu2HAmELodFt8qeqvdyv26gYgvoSoPgnygMriSNATDZK4nV6FQ"]'
2026-02-04 12:01:17.189 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 12:01:17.189 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:18882/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0", "/waku/2/rs/2/1", "/waku/2/rs/2/2", "/waku/2/rs/2/3", "/waku/2/rs/2/4", "/waku/2/rs/2/5", "/waku/2/rs/2/6", "/waku/2/rs/2/7"]'
2026-02-04 12:01:17.198 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 12:01:17.198 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:60731/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0", "/waku/2/rs/2/1", "/waku/2/rs/2/2", "/waku/2/rs/2/3", "/waku/2/rs/2/4", "/waku/2/rs/2/5", "/waku/2/rs/2/6", "/waku/2/rs/2/7"]'
2026-02-04 12:01:17.209 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 12:01:17.210 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:18882/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-04 12:01:17.218 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 12:01:17.218 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-04 12:01:17.318 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-04 12:01:17.319 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18882/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-04 12:01:17.321 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770206477210371054,"ephemeral":false,"proof":""}]'
2026-02-04 12:01:17.323 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-04 12:01:17.323 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60731/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-04 12:01:17.325 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770206477210371054,"ephemeral":false,"proof":""}]'
2026-02-04 12:01:17.327 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:18882/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-04 12:01:17.331 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 12:01:17.332 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-04 12:01:17.432 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-04 12:01:17.432 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18882/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d 'None'
2026-02-04 12:01:17.435 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770206477327184840,"ephemeral":false,"proof":""}]'
2026-02-04 12:01:17.436 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-04 12:01:17.437 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60731/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d 'None'
2026-02-04 12:01:17.439 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770206477327184840,"ephemeral":false,"proof":""}]'
2026-02-04 12:01:17.440 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:18882/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-04 12:01:17.444 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 12:01:17.444 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-04 12:01:17.545 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-04 12:01:17.545 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18882/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d 'None'
2026-02-04 12:01:17.548 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770206477440561893,"ephemeral":false,"proof":""}]'
2026-02-04 12:01:17.549 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-04 12:01:17.549 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60731/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d 'None'
2026-02-04 12:01:17.551 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770206477440561893,"ephemeral":false,"proof":""}]'
2026-02-04 12:01:17.553 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:18882/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-04 12:01:17.557 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 12:01:17.558 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-04 12:01:17.658 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-04 12:01:17.659 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18882/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d 'None'
2026-02-04 12:01:17.661 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770206477553342124,"ephemeral":false,"proof":""}]'
2026-02-04 12:01:17.662 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-04 12:01:17.663 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60731/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d 'None'
2026-02-04 12:01:17.665 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770206477553342124,"ephemeral":false,"proof":""}]'
2026-02-04 12:01:17.666 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:18882/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-04 12:01:17.670 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 12:01:17.670 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-04 12:01:17.771 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-04 12:01:17.771 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18882/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d 'None'
2026-02-04 12:01:17.774 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770206477666529672,"ephemeral":false,"proof":""}]'
2026-02-04 12:01:17.775 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-04 12:01:17.776 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60731/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d 'None'
2026-02-04 12:01:17.778 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770206477666529672,"ephemeral":false,"proof":""}]'
2026-02-04 12:01:17.779 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:18882/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-04 12:01:17.783 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 12:01:17.784 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-04 12:01:17.885 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-04 12:01:17.885 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18882/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d 'None'
2026-02-04 12:01:17.888 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770206477779661543,"ephemeral":false,"proof":""}]'
2026-02-04 12:01:17.889 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-04 12:01:17.889 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60731/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d 'None'
2026-02-04 12:01:17.891 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770206477779661543,"ephemeral":false,"proof":""}]'
2026-02-04 12:01:17.893 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:18882/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-04 12:01:17.897 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 12:01:17.897 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-04 12:01:17.998 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-04 12:01:17.998 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18882/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d 'None'
2026-02-04 12:01:18.001 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770206477893249125,"ephemeral":false,"proof":""}]'
2026-02-04 12:01:18.002 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-04 12:01:18.002 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60731/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d 'None'
2026-02-04 12:01:18.005 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770206477893249125,"ephemeral":false,"proof":""}]'
2026-02-04 12:01:18.006 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:18882/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-04 12:01:18.011 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 12:01:18.012 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-04 12:01:18.112 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-04 12:01:18.112 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18882/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d 'None'
2026-02-04 12:01:18.115 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770206478006566129,"ephemeral":false,"proof":""}]'
2026-02-04 12:01:18.116 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-04 12:01:18.117 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60731/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d 'None'
2026-02-04 12:01:18.119 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770206478006566129,"ephemeral":false,"proof":""}]'
2026-02-04 12:01:18.120 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:18882/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0", "/waku/2/rs/2/1", "/waku/2/rs/2/2"]'
2026-02-04 12:01:18.126 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 12:01:18.127 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:60731/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0", "/waku/2/rs/2/1", "/waku/2/rs/2/2"]'
2026-02-04 12:01:18.133 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 12:01:18.134 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:18882/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-04 12:01:18.137 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:18882/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0. Response content: b'Failed to publish: Node not subscribed to topic: /waku/2/rs/2/0'
2026-02-04 12:01:18.138 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:18882/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-04 12:01:18.140 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:18882/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1. Response content: b'Failed to publish: Node not subscribed to topic: /waku/2/rs/2/1'
2026-02-04 12:01:18.142 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:18882/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-04 12:01:18.144 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:18882/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2. Response content: b'Failed to publish: Node not subscribed to topic: /waku/2/rs/2/2'
2026-02-04 12:01:18.145 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:18882/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-04 12:01:18.149 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 12:01:18.150 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-04 12:01:18.250 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-04 12:01:18.250 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18882/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d 'None'
2026-02-04 12:01:18.253 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770206478145395030,"ephemeral":false,"proof":""}]'
2026-02-04 12:01:18.254 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-04 12:01:18.254 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60731/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d 'None'
2026-02-04 12:01:18.256 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770206478145395030,"ephemeral":false,"proof":""}]'
2026-02-04 12:01:18.258 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:18882/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-04 12:01:18.262 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 12:01:18.263 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-04 12:01:18.363 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-04 12:01:18.364 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18882/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d 'None'
2026-02-04 12:01:18.366 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770206478258336487,"ephemeral":false,"proof":""}]'
2026-02-04 12:01:18.368 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-04 12:01:18.368 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60731/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d 'None'
2026-02-04 12:01:18.370 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770206478258336487,"ephemeral":false,"proof":""}]'
2026-02-04 12:01:18.372 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:18882/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-04 12:01:18.376 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 12:01:18.376 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-04 12:01:18.477 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-04 12:01:18.477 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18882/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d 'None'
2026-02-04 12:01:18.479 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770206478372006831,"ephemeral":false,"proof":""}]'
2026-02-04 12:01:18.481 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-04 12:01:18.481 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60731/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d 'None'
2026-02-04 12:01:18.483 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770206478372006831,"ephemeral":false,"proof":""}]'
2026-02-04 12:01:18.485 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:18882/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-04 12:01:18.488 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 12:01:18.489 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-04 12:01:18.589 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-04 12:01:18.590 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18882/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d 'None'
2026-02-04 12:01:18.592 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770206478484970691,"ephemeral":false,"proof":""}]'
2026-02-04 12:01:18.593 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-04 12:01:18.594 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60731/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d 'None'
2026-02-04 12:01:18.596 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770206478484970691,"ephemeral":false,"proof":""}]'
2026-02-04 12:01:18.597 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:18882/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-04 12:01:18.602 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 12:01:18.602 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-04 12:01:18.702 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-04 12:01:18.703 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18882/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d 'None'
2026-02-04 12:01:18.706 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770206478597728450,"ephemeral":false,"proof":""}]'
2026-02-04 12:01:18.707 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-04 12:01:18.707 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60731/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d 'None'
2026-02-04 12:01:18.709 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770206478597728450,"ephemeral":false,"proof":""}]'
2026-02-04 12:01:18.712 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-02-04 12:01:18.713 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-02-04 12:01:18.713 DEBUG [src.node.waku_node] Stopping container with id b7dcf88cc061
2026-02-04 12:01:19.193 DEBUG [src.node.waku_node] Container stopped.
2026-02-04 12:01:19.193 DEBUG [src.node.waku_node] Stopping container with id 783639857e92
2026-02-04 12:01:19.673 DEBUG [src.node.waku_node] Container stopped.
2026-02-04 12:01:19.676 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-02-04 12:01:19.688 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-04 12:01:19.698 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
