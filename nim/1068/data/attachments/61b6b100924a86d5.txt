2026-02-04 12:02:47.867 DEBUG [tests.conftest] Running fixture setup: test_id
2026-02-04 12:02:47.868 DEBUG [tests.conftest] Running test: test_different_cursor_and_indexes[2-4] with id: 2026-02-04_12-02-47__74ae1d08-7cb3-41b9-bad9-5809b2723ce9
2026-02-04 12:02:47.868 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-02-04 12:02:47.868 DEBUG [src.steps.store] Running fixture setup: store_setup
2026-02-04 12:02:47.868 DEBUG [src.steps.store] Running fixture setup: node_setup
2026-02-04 12:02:47.875 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-04 12:02:47.875 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/publishing_node1_2026-02-04_12-02-47__74ae1d08-7cb3-41b9-bad9-5809b2723ce9__wakuorg_nwaku:latest.log
2026-02-04 12:02:47.875 DEBUG [src.node.waku_node] Starting Node...
2026-02-04 12:02:47.875 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-04 12:02:47.876 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-04 12:02:47.876 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.53.128
2026-02-04 12:02:47.877 DEBUG [src.node.docker_mananger] Generated ports ['63525', '63526', '63527', '63528', '63529']
2026-02-04 12:02:47.877 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-04 12:02:47.877 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-04 12:02:47.877 DEBUG [src.node.waku_node] Using volumes []
2026-02-04 12:02:47.877 DEBUG [src.node.docker_mananger] docker run -i -t -p 63525:63525 -p 63526:63526 -p 63527:63527 -p 63528:63528 -p 63529:63529 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=63527 --rest-port=63525 --tcp-port=63526 --discv5-udp-port=63528 --rest-address=0.0.0.0 --nat=extip:172.18.53.128 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e2ffbf9dd27b6c3fd74c54d4f09de5eb5e62cbf6cedfffebdebaf94cbe18fb55 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=63529 --metrics-logging=true --store=true --relay=true
2026-02-04 12:02:48.062 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.53.128 waku e97bb057623c94a36479184fc6e41a4272296a7ebc9394f11d8240c0efa391c4
2026-02-04 12:02:48.095 DEBUG [src.node.docker_mananger] Container started with ID e97bb057623c. Setting up logs at ./log/docker/publishing_node1_2026-02-04_12-02-47__74ae1d08-7cb3-41b9-bad9-5809b2723ce9__wakuorg_nwaku:latest.log
2026-02-04 12:02:48.097 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 63525
2026-02-04 12:02:48.097 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-04 12:02:48.150 ERROR [src.node.docker_mananger] Max retries reached for container b09657c1a086. Exiting log stream.
2026-02-04 12:02:48.677 ERROR [src.node.docker_mananger] Max retries reached for container 5e97ecdad609. Exiting log stream.
2026-02-04 12:02:49.097 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:63525/health" -H "Content-Type: application/json" -d 'None'
2026-02-04 12:02:49.100 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"READY"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"READY"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-04 12:02:49.101 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-04 12:02:49.101 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:63525/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-04 12:02:49.103 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.53.128/tcp/63526/p2p/16Uiu2HAm3McLTS72kbA2iLpX6rjEgssw2yQxKjFKZaNDxPia57dW","/ip4/172.18.53.128/tcp/63527/ws/p2p/16Uiu2HAm3McLTS72kbA2iLpX6rjEgssw2yQxKjFKZaNDxPia57dW"],"enrUri":"enr:-L24QI5rLj_kP0Bl5v5QTsRsGsS9pVOlQdWYZco7cpo6awZdP85V5JtcvFcDtZurzrFbTmh3seEqVlbdWV3XHD0TEA8CgmlkgnY0gmlwhKwSNYCKbXVsdGlhZGRyc5YACASsEjWABvgmAAoErBI1gAb4J90DgnJzhQADAQAAiXNlY3AyNTZrMaECddMNW-ns0rXXy-FfeXb8E_5aSEr2hUiPAjS0lsiTIm2DdGNwgvgmg3VkcIL4KIV3YWt1MgM"}'
2026-02-04 12:02:49.103 INFO [src.node.waku_node] REST service is ready !!
2026-02-04 12:02:49.110 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-04 12:02:49.110 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/store_node1_2026-02-04_12-02-47__74ae1d08-7cb3-41b9-bad9-5809b2723ce9__wakuorg_nwaku:latest.log
2026-02-04 12:02:49.110 DEBUG [src.node.waku_node] Starting Node...
2026-02-04 12:02:49.111 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-04 12:02:49.112 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-04 12:02:49.112 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.195.112
2026-02-04 12:02:49.112 DEBUG [src.node.docker_mananger] Generated ports ['5289', '5290', '5291', '5292', '5293']
2026-02-04 12:02:49.112 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-04 12:02:49.112 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-04 12:02:49.112 DEBUG [src.node.waku_node] Using volumes []
2026-02-04 12:02:49.113 DEBUG [src.node.docker_mananger] docker run -i -t -p 5289:5289 -p 5290:5290 -p 5291:5291 -p 5292:5292 -p 5293:5293 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=5291 --rest-port=5289 --tcp-port=5290 --discv5-udp-port=5292 --rest-address=0.0.0.0 --nat=extip:172.18.195.112 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=6a9fa3dd2eccafffcfc31cbdf7c331cae9a2ce73afefd0dd3d20a9ad79cebaa5 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=5293 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QI5rLj_kP0Bl5v5QTsRsGsS9pVOlQdWYZco7cpo6awZdP85V5JtcvFcDtZurzrFbTmh3seEqVlbdWV3XHD0TEA8CgmlkgnY0gmlwhKwSNYCKbXVsdGlhZGRyc5YACASsEjWABvgmAAoErBI1gAb4J90DgnJzhQADAQAAiXNlY3AyNTZrMaECddMNW-ns0rXXy-FfeXb8E_5aSEr2hUiPAjS0lsiTIm2DdGNwgvgmg3VkcIL4KIV3YWt1MgM --storenode=/ip4/172.18.53.128/tcp/63526/p2p/16Uiu2HAm3McLTS72kbA2iLpX6rjEgssw2yQxKjFKZaNDxPia57dW --store=true --relay=true
2026-02-04 12:02:49.298 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.195.112 waku aff71499941a51cca43e7bbdb3b0f9a0b34a93569196bcaba2dba641fd25ff10
2026-02-04 12:02:49.329 DEBUG [src.node.docker_mananger] Container started with ID aff71499941a. Setting up logs at ./log/docker/store_node1_2026-02-04_12-02-47__74ae1d08-7cb3-41b9-bad9-5809b2723ce9__wakuorg_nwaku:latest.log
2026-02-04 12:02:49.330 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 5289
2026-02-04 12:02:49.331 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-04 12:02:50.332 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5289/health" -H "Content-Type: application/json" -d 'None'
2026-02-04 12:02:50.336 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"READY"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"READY"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"READY"},{"Legacy Store Client":"READY"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-04 12:02:50.336 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-04 12:02:50.336 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5289/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-04 12:02:50.339 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.195.112/tcp/5290/p2p/16Uiu2HAm7YFWioj7oVrRYfcCGCXE5yJ1PtqzEjo64en2WsTrpLDs","/ip4/172.18.195.112/tcp/5291/ws/p2p/16Uiu2HAm7YFWioj7oVrRYfcCGCXE5yJ1PtqzEjo64en2WsTrpLDs"],"enrUri":"enr:-L24QNfa2EmDvFVMxkUA3k-T6XYMhyefVLZlyYoKZWZsG4ZSUzUhkYyMcXJ8d0hgVD8pLPhZI1MB6lGdFz_t2XYfKr8CgmlkgnY0gmlwhKwSw3CKbXVsdGlhZGRyc5YACASsEsNwBhSqAAoErBLDcAYUq90DgnJzhQADAQAAiXNlY3AyNTZrMaECs_uk5ae_imsJODkL_ZBLVYKj6jiLbC5-aDGl8KrOlD6DdGNwghSqg3VkcIIUrIV3YWt1MgM"}'
2026-02-04 12:02:50.339 INFO [src.node.waku_node] REST service is ready !!
2026-02-04 12:02:50.339 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:5289/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.53.128/tcp/63526/p2p/16Uiu2HAm3McLTS72kbA2iLpX6rjEgssw2yQxKjFKZaNDxPia57dW"]'
2026-02-04 12:02:50.342 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 12:02:50.343 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:63525/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-04 12:02:50.345 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 12:02:50.345 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:5289/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-04 12:02:50.347 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 12:02:50.348 DEBUG [src.steps.store] Relaying message
2026-02-04 12:02:50.349 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:63525/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8w", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-04 12:02:50.353 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 12:02:50.353 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-04 12:02:50.554 DEBUG [src.steps.store] Relaying message
2026-02-04 12:02:50.555 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:63525/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8x", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-04 12:02:50.560 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 12:02:50.561 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-04 12:02:50.762 DEBUG [src.steps.store] Relaying message
2026-02-04 12:02:50.762 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:63525/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8y", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-04 12:02:50.767 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 12:02:50.767 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-04 12:02:50.968 DEBUG [src.steps.store] Relaying message
2026-02-04 12:02:50.969 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:63525/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8z", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-04 12:02:50.973 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 12:02:50.974 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-04 12:02:51.175 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:63525/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=2&ascending=true" -H "Content-Type: application/json" -d 'None'
2026-02-04 12:02:51.178 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x4129d8c626172330bdea0457b0f2a3958b9e22bc6eba05cf41f03641ec9c4209"},{"messageHash":"0x94a98fdfb6fb822921729bbe928e69a98fb61c30b8cdaad8ee233ec42e00e1dc"}],"paginationCursor":"0x94a98fdfb6fb822921729bbe928e69a98fb61c30b8cdaad8ee233ec42e00e1dc"}'
2026-02-04 12:02:51.178 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5289/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=2&ascending=true" -H "Content-Type: application/json" -d 'None'
2026-02-04 12:02:51.181 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x4129d8c626172330bdea0457b0f2a3958b9e22bc6eba05cf41f03641ec9c4209"},{"messageHash":"0x94a98fdfb6fb822921729bbe928e69a98fb61c30b8cdaad8ee233ec42e00e1dc"}],"paginationCursor":"0x94a98fdfb6fb822921729bbe928e69a98fb61c30b8cdaad8ee233ec42e00e1dc"}'
2026-02-04 12:02:51.181 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:63525/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&cursor=0x94a98fdfb6fb822921729bbe928e69a98fb61c30b8cdaad8ee233ec42e00e1dc&pageSize=100&ascending=true" -H "Content-Type: application/json" -d 'None'
2026-02-04 12:02:51.184 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x939b9cc9f8c108533bda96d6ba8f6c4f9551f916db447b6717032f46c56b75df"},{"messageHash":"0x6566ea7ef58027ebddf14731a14584da7ecac380b72b7600a010a9b5c3c59e8d"}]}'
2026-02-04 12:02:51.184 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5289/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&cursor=0x94a98fdfb6fb822921729bbe928e69a98fb61c30b8cdaad8ee233ec42e00e1dc&pageSize=100&ascending=true" -H "Content-Type: application/json" -d 'None'
2026-02-04 12:02:51.186 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x939b9cc9f8c108533bda96d6ba8f6c4f9551f916db447b6717032f46c56b75df"},{"messageHash":"0x6566ea7ef58027ebddf14731a14584da7ecac380b72b7600a010a9b5c3c59e8d"}]}'
2026-02-04 12:02:51.188 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-02-04 12:02:51.190 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-02-04 12:02:51.190 DEBUG [src.node.waku_node] Stopping container with id e97bb057623c
2026-02-04 12:02:51.746 DEBUG [src.node.waku_node] Container stopped.
2026-02-04 12:02:51.747 DEBUG [src.node.waku_node] Stopping container with id aff71499941a
2026-02-04 12:02:52.300 DEBUG [src.node.waku_node] Container stopped.
2026-02-04 12:02:52.301 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-02-04 12:02:52.309 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-04 12:02:52.316 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
