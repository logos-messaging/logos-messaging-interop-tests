2026-02-04 11:55:59.420 DEBUG [tests.conftest] Running fixture setup: test_id
2026-02-04 11:55:59.420 DEBUG [tests.conftest] Running test: test_light_push_with_missing_pubsub_topics with id: 2026-02-04_11-55-59__19813c9e-98ef-470e-affa-2c8ca559137c
2026-02-04 11:55:59.420 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-02-04 11:55:59.421 DEBUG [src.steps.light_push] Running fixture setup: light_push_setup
2026-02-04 11:55:59.427 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-04 11:55:59.427 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node1_2026-02-04_11-55-59__19813c9e-98ef-470e-affa-2c8ca559137c__wakuorg_nwaku:latest.log
2026-02-04 11:55:59.427 DEBUG [src.node.waku_node] Starting Node...
2026-02-04 11:55:59.428 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-04 11:55:59.429 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-04 11:55:59.429 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.199.149
2026-02-04 11:55:59.429 DEBUG [src.node.docker_mananger] Generated ports ['63338', '63339', '63340', '63341', '63342']
2026-02-04 11:55:59.429 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-04 11:55:59.429 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-04 11:55:59.429 DEBUG [src.node.waku_node] Using volumes []
2026-02-04 11:55:59.429 DEBUG [src.node.docker_mananger] docker run -i -t -p 63338:63338 -p 63339:63339 -p 63340:63340 -p 63341:63341 -p 63342:63342 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=63340 --rest-port=63338 --tcp-port=63339 --discv5-udp-port=63341 --rest-address=0.0.0.0 --nat=extip:172.18.199.149 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bc605cb15a012aa2db7d79c2de98fd2f05247fcd8ccac5e0629419fdbec1318d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=63342 --metrics-logging=true --lightpush=true --relay=true
2026-02-04 11:55:59.599 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.199.149 waku a8b24674c1c6b25817b4d512201936a2d4eb1c4e879a855691cf2bbb31cd8650
2026-02-04 11:55:59.610 ERROR [src.node.docker_mananger] Max retries reached for container a886b12dfaff. Exiting log stream.
2026-02-04 11:55:59.627 DEBUG [src.node.docker_mananger] Container started with ID a8b24674c1c6. Setting up logs at ./log/docker/receiving_node1_2026-02-04_11-55-59__19813c9e-98ef-470e-affa-2c8ca559137c__wakuorg_nwaku:latest.log
2026-02-04 11:55:59.628 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 63338
2026-02-04 11:55:59.628 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-04 11:56:00.066 ERROR [src.node.docker_mananger] Max retries reached for container fb86e6ef654e. Exiting log stream.
2026-02-04 11:56:00.629 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:63338/health" -H "Content-Type: application/json" -d 'None'
2026-02-04 11:56:00.632 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_READY","desc":"Node has no relay peers to fullfill push requests"},{"Legacy Lightpush":"NOT_READY","desc":"Node has no relay peers to fullfill push requests"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-04 11:56:00.633 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-04 11:56:00.633 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:63338/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-04 11:56:00.635 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.199.149/tcp/63339/p2p/16Uiu2HAmM6LBtK2QntBgJCCu45ZzaQK3g8AeHrJEKDinzoV94JZn","/ip4/172.18.199.149/tcp/63340/ws/p2p/16Uiu2HAmM6LBtK2QntBgJCCu45ZzaQK3g8AeHrJEKDinzoV94JZn"],"enrUri":"enr:-L24QGyDGLfowN8Z-Iy7T8ORQ_T-KbZli67zkDt2ULo_ZFEyWWpkdjpQITyEyMVSvj4WAbvjpJxmjuZODMkUVEAlCbECgmlkgnY0gmlwhKwSx5WKbXVsdGlhZGRyc5YACASsEseVBvdrAAoErBLHlQb3bN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDfVtyRXMgWkXIkSQ2RTsd9wROYToVj-PV_cSaFH3s-EmDdGNwgvdrg3VkcIL3bYV3YWt1Mgk"}'
2026-02-04 11:56:00.635 INFO [src.node.waku_node] REST service is ready !!
2026-02-04 11:56:00.641 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-04 11:56:00.641 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node2_2026-02-04_11-55-59__19813c9e-98ef-470e-affa-2c8ca559137c__wakuorg_nwaku:latest.log
2026-02-04 11:56:00.641 DEBUG [src.node.waku_node] Starting Node...
2026-02-04 11:56:00.641 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-04 11:56:00.643 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-04 11:56:00.643 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.140.248
2026-02-04 11:56:00.643 DEBUG [src.node.docker_mananger] Generated ports ['63853', '63854', '63855', '63856', '63857']
2026-02-04 11:56:00.643 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-04 11:56:00.643 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-04 11:56:00.643 DEBUG [src.node.waku_node] Using volumes []
2026-02-04 11:56:00.643 DEBUG [src.node.docker_mananger] docker run -i -t -p 63853:63853 -p 63854:63854 -p 63855:63855 -p 63856:63856 -p 63857:63857 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=63855 --rest-port=63853 --tcp-port=63854 --discv5-udp-port=63856 --rest-address=0.0.0.0 --nat=extip:172.18.140.248 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fd3f7ed9d7a13cc59514380a6e83b7bdfbab7bafffbdd9d3d3bb5abce54263ee --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=63857 --metrics-logging=true --lightpush=false --relay=true
2026-02-04 11:56:00.799 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.140.248 waku df6ca1fa3975dceb9938f921b9a0c16558dd77942bc6bc3f63dc0a9283e42f08
2026-02-04 11:56:00.823 DEBUG [src.node.docker_mananger] Container started with ID df6ca1fa3975. Setting up logs at ./log/docker/receiving_node2_2026-02-04_11-55-59__19813c9e-98ef-470e-affa-2c8ca559137c__wakuorg_nwaku:latest.log
2026-02-04 11:56:00.823 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 63853
2026-02-04 11:56:00.823 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-04 11:56:01.824 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:63853/health" -H "Content-Type: application/json" -d 'None'
2026-02-04 11:56:01.827 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-04 11:56:01.827 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-04 11:56:01.827 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:63853/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-04 11:56:01.829 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.140.248/tcp/63854/p2p/16Uiu2HAmUmMy6mWaLccXLUWbVvaGRrUb5QVEY4Qui1huyqCrfD8B","/ip4/172.18.140.248/tcp/63855/ws/p2p/16Uiu2HAmUmMy6mWaLccXLUWbVvaGRrUb5QVEY4Qui1huyqCrfD8B"],"enrUri":"enr:-L24QDmQLCIpOgEs9YGaO6oU4-LbwHDvHXpEJ9W4PDPE0tFGP9_Xx538AB1Hqz5wvzDlxBzu1o20QTLB36hJ2hoClbICgmlkgnY0gmlwhKwSjPiKbXVsdGlhZGRyc5YACASsEoz4BvluAAoErBKM-Ab5b90DgnJzhQADAQAAiXNlY3AyNTZrMaED71zrJ3rmRRZ2yleBGDWaK2ke5rHRNjWBjN1SVxTtszCDdGNwgvlug3VkcIL5cIV3YWt1MgE"}'
2026-02-04 11:56:01.830 INFO [src.node.waku_node] REST service is ready !!
2026-02-04 11:56:01.830 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:63853/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.199.149/tcp/63339/p2p/16Uiu2HAmM6LBtK2QntBgJCCu45ZzaQK3g8AeHrJEKDinzoV94JZn"]'
2026-02-04 11:56:01.859 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 11:56:01.868 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-04 11:56:01.868 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/lightpush_node1_2026-02-04_11-55-59__19813c9e-98ef-470e-affa-2c8ca559137c__wakuorg_nwaku:latest.log
2026-02-04 11:56:01.868 DEBUG [src.node.waku_node] Starting Node...
2026-02-04 11:56:01.869 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-04 11:56:01.871 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-04 11:56:01.871 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.80.42
2026-02-04 11:56:01.872 DEBUG [src.node.docker_mananger] Generated ports ['60413', '60414', '60415', '60416', '60417']
2026-02-04 11:56:01.873 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-04 11:56:01.873 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-04 11:56:01.873 DEBUG [src.node.waku_node] Using volumes []
2026-02-04 11:56:01.873 DEBUG [src.node.docker_mananger] docker run -i -t -p 60413:60413 -p 60414:60414 -p 60415:60415 -p 60416:60416 -p 60417:60417 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=60415 --rest-port=60413 --tcp-port=60414 --discv5-udp-port=60416 --rest-address=0.0.0.0 --nat=extip:172.18.80.42 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ef75731fd1d8bddaccbed0ae2befd4c9b6f7e6df1fc7478bb3abca67570e73bd --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=60417 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QGyDGLfowN8Z-Iy7T8ORQ_T-KbZli67zkDt2ULo_ZFEyWWpkdjpQITyEyMVSvj4WAbvjpJxmjuZODMkUVEAlCbECgmlkgnY0gmlwhKwSx5WKbXVsdGlhZGRyc5YACASsEseVBvdrAAoErBLHlQb3bN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDfVtyRXMgWkXIkSQ2RTsd9wROYToVj-PV_cSaFH3s-EmDdGNwgvdrg3VkcIL3bYV3YWt1Mgk --lightpushnode=/ip4/172.18.199.149/tcp/63339/p2p/16Uiu2HAmM6LBtK2QntBgJCCu45ZzaQK3g8AeHrJEKDinzoV94JZn --lightpush=true --relay=true
2026-02-04 11:56:02.030 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.80.42 waku bbb29b46a2069f655232845819255ebbbd2400697db018e03f1d57c0ca9cc48b
2026-02-04 11:56:02.054 DEBUG [src.node.docker_mananger] Container started with ID bbb29b46a206. Setting up logs at ./log/docker/lightpush_node1_2026-02-04_11-55-59__19813c9e-98ef-470e-affa-2c8ca559137c__wakuorg_nwaku:latest.log
2026-02-04 11:56:02.054 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 60413
2026-02-04 11:56:02.054 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-04 11:56:03.055 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60413/health" -H "Content-Type: application/json" -d 'None'
2026-02-04 11:56:03.059 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_READY","desc":"Node has no relay peers to fullfill push requests"},{"Legacy Lightpush":"NOT_READY","desc":"Node has no relay peers to fullfill push requests"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"READY"},{"Legacy Lightpush Client":"READY"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-04 11:56:03.059 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-04 11:56:03.059 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60413/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-04 11:56:03.061 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.80.42/tcp/60414/p2p/16Uiu2HAkvKanwKDbFsxNxFcqsSJGMX5i6hkgkxvvH7aUu74i59Dc","/ip4/172.18.80.42/tcp/60415/ws/p2p/16Uiu2HAkvKanwKDbFsxNxFcqsSJGMX5i6hkgkxvvH7aUu74i59Dc"],"enrUri":"enr:-L24QIVteIfwEwhIX2BExSKsOtio_m85X4nBJeiiKTJpoNQ1B68Lu8dEmIf8SUsp1qQAQx7maukPLwt4c-NH1s2t5z0CgmlkgnY0gmlwhKwSUCqKbXVsdGlhZGRyc5YACASsElAqBuv-AAoErBJQKgbr_90DgnJzhQADAQAAiXNlY3AyNTZrMaECDUxWP-U0F2dSnUQtEM51GbAdVREdQ7gY84QHh94Y8YuDdGNwguv-g3VkcILsAIV3YWt1Mgk"}'
2026-02-04 11:56:03.062 INFO [src.node.waku_node] REST service is ready !!
2026-02-04 11:56:03.062 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:60413/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.199.149/tcp/63339/p2p/16Uiu2HAmM6LBtK2QntBgJCCu45ZzaQK3g8AeHrJEKDinzoV94JZn"]'
2026-02-04 11:56:03.089 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 11:56:03.091 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:60413/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.140.248/tcp/63854/p2p/16Uiu2HAmUmMy6mWaLccXLUWbVvaGRrUb5QVEY4Qui1huyqCrfD8B"]'
2026-02-04 11:56:03.111 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 11:56:03.114 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:63338/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-04 11:56:03.122 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 11:56:03.125 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:63853/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-04 11:56:03.130 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 11:56:03.131 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:60413/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-04 11:56:03.135 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 11:56:03.136 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:60413/lightpush/v1/message" -H "Content-Type: application/json" -d '{"message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1770206163136499427}}'
2026-02-04 11:56:03.148 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 11:56:03.150 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-02-04 11:56:03.151 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-02-04 11:56:03.151 DEBUG [src.node.waku_node] Stopping container with id a8b24674c1c6
2026-02-04 11:56:03.647 DEBUG [src.node.waku_node] Container stopped.
2026-02-04 11:56:03.648 DEBUG [src.node.waku_node] Stopping container with id df6ca1fa3975
2026-02-04 11:56:04.117 DEBUG [src.node.waku_node] Container stopped.
2026-02-04 11:56:04.117 DEBUG [src.node.waku_node] Stopping container with id bbb29b46a206
2026-02-04 11:56:04.460 ERROR [src.node.docker_mananger] Max retries reached for container a8b24674c1c6. Exiting log stream.
2026-02-04 11:56:04.597 DEBUG [src.node.waku_node] Container stopped.
2026-02-04 11:56:04.598 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-02-04 11:56:04.605 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-04 11:56:04.614 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-04 11:56:04.621 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
