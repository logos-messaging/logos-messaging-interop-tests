2026-02-04 11:54:56.100 DEBUG [tests.conftest] Running fixture setup: test_id
2026-02-04 11:54:56.100 DEBUG [tests.conftest] Running test: test_filter_subscribe_with_no_content_topic with id: 2026-02-04_11-54-56__405ab796-674f-494d-876d-5944d94924fd
2026-02-04 11:54:56.101 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-02-04 11:54:56.101 DEBUG [src.steps.filter] Running fixture setup: filter_setup
2026-02-04 11:54:56.101 DEBUG [src.steps.filter] Running fixture setup: setup_main_relay_node
2026-02-04 11:54:56.108 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-04 11:54:56.108 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2026-02-04_11-54-56__405ab796-674f-494d-876d-5944d94924fd__wakuorg_nwaku:latest.log
2026-02-04 11:54:56.108 DEBUG [src.node.waku_node] Starting Node...
2026-02-04 11:54:56.108 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-04 11:54:56.110 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-04 11:54:56.110 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.208.176
2026-02-04 11:54:56.110 DEBUG [src.node.docker_mananger] Generated ports ['65305', '65306', '65307', '65308', '65309']
2026-02-04 11:54:56.111 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-04 11:54:56.111 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-04 11:54:56.111 DEBUG [src.node.waku_node] Using volumes []
2026-02-04 11:54:56.111 DEBUG [src.node.docker_mananger] docker run -i -t -p 65305:65305 -p 65306:65306 -p 65307:65307 -p 65308:65308 -p 65309:65309 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=65307 --rest-port=65305 --tcp-port=65306 --discv5-udp-port=65308 --rest-address=0.0.0.0 --nat=extip:172.18.208.176 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=4446eabc507dffc7f0a47dac9bafbb1abcbebaf65accd132ce35bb1dc24cb64b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=65309 --metrics-logging=true --relay=true --filter=true
2026-02-04 11:54:56.291 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.208.176 waku 6b8e012d6d3b713e24ff251e4d346a20461c1103012e9d377a17698381bb5287
2026-02-04 11:54:56.322 DEBUG [src.node.docker_mananger] Container started with ID 6b8e012d6d3b. Setting up logs at ./log/docker/node1_2026-02-04_11-54-56__405ab796-674f-494d-876d-5944d94924fd__wakuorg_nwaku:latest.log
2026-02-04 11:54:56.323 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 65305
2026-02-04 11:54:56.323 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-04 11:54:56.350 ERROR [src.node.docker_mananger] Max retries reached for container dbe4d3e57c50. Exiting log stream.
2026-02-04 11:54:56.905 ERROR [src.node.docker_mananger] Max retries reached for container e3bb30bc3834. Exiting log stream.
2026-02-04 11:54:57.324 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:65305/health" -H "Content-Type: application/json" -d 'None'
2026-02-04 11:54:57.328 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_READY","desc":"Relay is not ready, filter will not be able to sort out messages"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-04 11:54:57.328 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-04 11:54:57.328 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:65305/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-04 11:54:57.331 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.208.176/tcp/65306/p2p/16Uiu2HAm1dUxSWXPRbzXFdZbniZTmbeT5A8fA6XbZ71iHX7dBaK4","/ip4/172.18.208.176/tcp/65307/ws/p2p/16Uiu2HAm1dUxSWXPRbzXFdZbniZTmbeT5A8fA6XbZ71iHX7dBaK4"],"enrUri":"enr:-L24QFaYFKxyGaW_SKvTDAhzRlPZKC-pOgrbiNeE49fAJtNxelRFTg4ZUqPJP27ZfL5Kcgs5EnlmkFF2DETQ9omnk7MCgmlkgnY0gmlwhKwS0LCKbXVsdGlhZGRyc5YACASsEtCwBv8aAAoErBLQsAb_G90DgnJzhQADAQAAiXNlY3AyNTZrMaECXCygjRgd-B4durO4hXZpXgsk4HVix_9wnGPYNnjnd8uDdGNwgv8ag3VkcIL_HIV3YWt1MgU"}'
2026-02-04 11:54:57.331 INFO [src.node.waku_node] REST service is ready !!
2026-02-04 11:54:57.331 DEBUG [src.steps.filter] Running fixture setup: setup_main_filter_node
2026-02-04 11:54:57.338 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-04 11:54:57.338 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2026-02-04_11-54-56__405ab796-674f-494d-876d-5944d94924fd__wakuorg_nwaku:latest.log
2026-02-04 11:54:57.338 DEBUG [src.node.waku_node] Starting Node...
2026-02-04 11:54:57.339 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-04 11:54:57.340 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-04 11:54:57.340 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.13.35
2026-02-04 11:54:57.340 DEBUG [src.node.docker_mananger] Generated ports ['25253', '25254', '25255', '25256', '25257']
2026-02-04 11:54:57.340 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-04 11:54:57.340 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-04 11:54:57.341 DEBUG [src.node.waku_node] Using volumes []
2026-02-04 11:54:57.341 DEBUG [src.node.docker_mananger] docker run -i -t -p 25253:25253 -p 25254:25254 -p 25255:25255 -p 25256:25256 -p 25257:25257 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=25255 --rest-port=25253 --tcp-port=25254 --discv5-udp-port=25256 --rest-address=0.0.0.0 --nat=extip:172.18.13.35 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e2bb5bc884ee657ad7e96dc8dca8b2ed6890b37db29ad8dfcbbcea9481ff4357 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=25257 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QFaYFKxyGaW_SKvTDAhzRlPZKC-pOgrbiNeE49fAJtNxelRFTg4ZUqPJP27ZfL5Kcgs5EnlmkFF2DETQ9omnk7MCgmlkgnY0gmlwhKwS0LCKbXVsdGlhZGRyc5YACASsEtCwBv8aAAoErBLQsAb_G90DgnJzhQADAQAAiXNlY3AyNTZrMaECXCygjRgd-B4durO4hXZpXgsk4HVix_9wnGPYNnjnd8uDdGNwgv8ag3VkcIL_HIV3YWt1MgU --filternode=/ip4/172.18.208.176/tcp/65306/p2p/16Uiu2HAm1dUxSWXPRbzXFdZbniZTmbeT5A8fA6XbZ71iHX7dBaK4
2026-02-04 11:54:57.524 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.13.35 waku 38e1314b732e99185e3771fbf73b2a887794713fc7584e7aed2f0eafdf382970
2026-02-04 11:54:57.557 DEBUG [src.node.docker_mananger] Container started with ID 38e1314b732e. Setting up logs at ./log/docker/node2_2026-02-04_11-54-56__405ab796-674f-494d-876d-5944d94924fd__wakuorg_nwaku:latest.log
2026-02-04 11:54:57.557 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 25253
2026-02-04 11:54:57.557 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-04 11:54:58.558 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25253/health" -H "Content-Type: application/json" -d 'None'
2026-02-04 11:54:58.562 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_MOUNTED"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"READY"}]}'
2026-02-04 11:54:58.562 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-04 11:54:58.562 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25253/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-04 11:54:58.565 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.13.35/tcp/25254/p2p/16Uiu2HAmK8je5ArHDMMqx6iVsAJBVcufxbvnLeDDYJPyePtuFXMR","/ip4/172.18.13.35/tcp/25255/ws/p2p/16Uiu2HAmK8je5ArHDMMqx6iVsAJBVcufxbvnLeDDYJPyePtuFXMR"],"enrUri":"enr:-L24QOWevD_huzE5BVGp9bqy6Klh6fkyQm2CPbWnEg0T5jyhbZ7bRiJ593OfbtkIBIGieuS6mVPODVtvkV8FFHgD6_kCgmlkgnY0gmlwhKwSDSOKbXVsdGlhZGRyc5YACASsEg0jBmKmAAoErBINIwZip90DgnJzhQADAQAAiXNlY3AyNTZrMaEDYEHANuVBdSdkFOHFN_pNU7T07vDBhQB5oYhWC5g9cSiDdGNwgmKmg3VkcIJiqIV3YWt1MgA"}'
2026-02-04 11:54:58.565 INFO [src.node.waku_node] REST service is ready !!
2026-02-04 11:54:58.565 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:25253/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.208.176/tcp/65306/p2p/16Uiu2HAm1dUxSWXPRbzXFdZbniZTmbeT5A8fA6XbZ71iHX7dBaK4"]'
2026-02-04 11:54:58.593 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 11:54:58.594 DEBUG [src.steps.filter] Running fixture setup: subscribe_main_nodes
2026-02-04 11:54:58.595 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:65305/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2026-02-04 11:54:58.606 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-04 11:54:58.607 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:25253/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "a4d0a173-7243-4271-bc74-bbca0868392d", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
2026-02-04 11:54:58.619 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"a4d0a173-7243-4271-bc74-bbca0868392d","statusDesc":"OK"}'
2026-02-04 11:54:58.620 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:25253/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "pubsubTopic": "/waku/2/rs/3/1"}'
2026-02-04 11:54:58.622 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:25253/filter/v2/subscriptions. Response content: b'{"requestId":"unknown","statusDesc":"BAD_REQUEST: Failed to decode request: (status: 400 Bad Request, headers: , kind: Error, errobj: (status: 400 Bad Request, message: \\"Invalid content body, could not decode. Unable to deserialize data: \\", contentType: \\"text/plain\\"))"}'
2026-02-04 11:54:58.625 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-02-04 11:54:58.625 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-02-04 11:54:58.626 DEBUG [src.node.waku_node] Stopping container with id 6b8e012d6d3b
2026-02-04 11:54:59.182 DEBUG [src.node.waku_node] Container stopped.
2026-02-04 11:54:59.182 DEBUG [src.node.waku_node] Stopping container with id 38e1314b732e
2026-02-04 11:54:59.713 DEBUG [src.node.waku_node] Container stopped.
2026-02-04 11:54:59.714 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-02-04 11:54:59.719 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-04 11:54:59.725 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
