2026-02-01 04:44:23.053 DEBUG [tests.conftest] Running fixture setup: test_id
2026-02-01 04:44:23.054 DEBUG [tests.conftest] Running test: test_filter_unsubscribe_with_invalid_request_id with id: 2026-02-01_04-44-23__f8f05a77-5431-48ee-8d22-3ca0109bbda4
2026-02-01 04:44:23.054 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-02-01 04:44:23.054 DEBUG [src.steps.filter] Running fixture setup: filter_setup
2026-02-01 04:44:23.054 DEBUG [src.steps.filter] Running fixture setup: setup_main_relay_node
2026-02-01 04:44:23.061 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-01 04:44:23.061 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2026-02-01_04-44-23__f8f05a77-5431-48ee-8d22-3ca0109bbda4__wakuorg_nwaku:latest.log
2026-02-01 04:44:23.061 DEBUG [src.node.waku_node] Starting Node...
2026-02-01 04:44:23.061 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-01 04:44:23.063 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-01 04:44:23.063 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.129.24
2026-02-01 04:44:23.063 DEBUG [src.node.docker_mananger] Generated ports ['45594', '45595', '45596', '45597', '45598']
2026-02-01 04:44:23.063 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-01 04:44:23.063 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-01 04:44:23.063 DEBUG [src.node.waku_node] Using volumes []
2026-02-01 04:44:23.064 DEBUG [src.node.docker_mananger] docker run -i -t -p 45594:45594 -p 45595:45595 -p 45596:45596 -p 45597:45597 -p 45598:45598 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=45596 --rest-port=45594 --tcp-port=45595 --discv5-udp-port=45597 --rest-address=0.0.0.0 --nat=extip:172.18.129.24 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=5668fcb27daeba1b1ae5306a2cddfc6c1d2566a75572e54df25caea915a27bfb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=45598 --metrics-logging=true --relay=true --filter=true
2026-02-01 04:44:23.242 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.129.24 waku af149b868ae5860ac68b437f46aea16901be84a2612cebc8662a42693752700d
2026-02-01 04:44:23.275 DEBUG [src.node.docker_mananger] Container started with ID af149b868ae5. Setting up logs at ./log/docker/node1_2026-02-01_04-44-23__f8f05a77-5431-48ee-8d22-3ca0109bbda4__wakuorg_nwaku:latest.log
2026-02-01 04:44:23.275 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 45594
2026-02-01 04:44:23.275 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-01 04:44:23.309 ERROR [src.node.docker_mananger] Max retries reached for container ae7b7bd76478. Exiting log stream.
2026-02-01 04:44:23.857 ERROR [src.node.docker_mananger] Max retries reached for container 2c2cb1dba8d0. Exiting log stream.
2026-02-01 04:44:24.276 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45594/health" -H "Content-Type: application/json" -d 'None'
2026-02-01 04:44:24.279 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_READY","desc":"Relay is not ready, filter will not be able to sort out messages"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-01 04:44:24.280 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-01 04:44:24.280 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45594/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-01 04:44:24.282 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.129.24/tcp/45595/p2p/16Uiu2HAmMVGKtGmEMrnWX2wNpdz4UJoTjY5kyVeM9yEJoQJYXrLb","/ip4/172.18.129.24/tcp/45596/ws/p2p/16Uiu2HAmMVGKtGmEMrnWX2wNpdz4UJoTjY5kyVeM9yEJoQJYXrLb"],"enrUri":"enr:-L24QMjwQzghGjFb_sEWPqXQk4YUtz3HsirIetW-LpsceEuXRy3GgqSrzTmyr_VwwzJuyDSBwHBCVaykkOZcfm7-TAgCgmlkgnY0gmlwhKwSgRiKbXVsdGlhZGRyc5YACASsEoEYBrIbAAoErBKBGAayHN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDgztwKCSnpIsSDkmFRwFnUIgmX3A-RZZFqZlHDnK-01SDdGNwgrIbg3VkcIKyHYV3YWt1MgU"}'
2026-02-01 04:44:24.282 INFO [src.node.waku_node] REST service is ready !!
2026-02-01 04:44:24.283 DEBUG [src.steps.filter] Running fixture setup: setup_main_filter_node
2026-02-01 04:44:24.290 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-01 04:44:24.290 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2026-02-01_04-44-23__f8f05a77-5431-48ee-8d22-3ca0109bbda4__wakuorg_nwaku:latest.log
2026-02-01 04:44:24.290 DEBUG [src.node.waku_node] Starting Node...
2026-02-01 04:44:24.290 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-01 04:44:24.291 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-01 04:44:24.291 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.159.229
2026-02-01 04:44:24.292 DEBUG [src.node.docker_mananger] Generated ports ['57996', '57997', '57998', '57999', '58000']
2026-02-01 04:44:24.292 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-01 04:44:24.292 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-01 04:44:24.292 DEBUG [src.node.waku_node] Using volumes []
2026-02-01 04:44:24.292 DEBUG [src.node.docker_mananger] docker run -i -t -p 57996:57996 -p 57997:57997 -p 57998:57998 -p 57999:57999 -p 58000:58000 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=57998 --rest-port=57996 --tcp-port=57997 --discv5-udp-port=57999 --rest-address=0.0.0.0 --nat=extip:172.18.159.229 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d05ff59af9cb731bfcbae4e2c2b8db2f6a43daa9a6c76a6eff37f5c774b3cfd9 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=58000 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QMjwQzghGjFb_sEWPqXQk4YUtz3HsirIetW-LpsceEuXRy3GgqSrzTmyr_VwwzJuyDSBwHBCVaykkOZcfm7-TAgCgmlkgnY0gmlwhKwSgRiKbXVsdGlhZGRyc5YACASsEoEYBrIbAAoErBKBGAayHN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDgztwKCSnpIsSDkmFRwFnUIgmX3A-RZZFqZlHDnK-01SDdGNwgrIbg3VkcIKyHYV3YWt1MgU --filternode=/ip4/172.18.129.24/tcp/45595/p2p/16Uiu2HAmMVGKtGmEMrnWX2wNpdz4UJoTjY5kyVeM9yEJoQJYXrLb
2026-02-01 04:44:24.478 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.159.229 waku b72e26ac520d9caa18a43dd3cb6646963eea742253d2936004acc3d7f376b3de
2026-02-01 04:44:24.509 DEBUG [src.node.docker_mananger] Container started with ID b72e26ac520d. Setting up logs at ./log/docker/node2_2026-02-01_04-44-23__f8f05a77-5431-48ee-8d22-3ca0109bbda4__wakuorg_nwaku:latest.log
2026-02-01 04:44:24.510 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 57996
2026-02-01 04:44:24.510 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-01 04:44:25.510 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57996/health" -H "Content-Type: application/json" -d 'None'
2026-02-01 04:44:25.514 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_MOUNTED"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"READY"}]}'
2026-02-01 04:44:25.515 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-01 04:44:25.515 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57996/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-01 04:44:25.517 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.159.229/tcp/57997/p2p/16Uiu2HAmTMJnWE6vW1xyJtwd1qt5M6ir6FzniffWQuh7qanCryxo","/ip4/172.18.159.229/tcp/57998/ws/p2p/16Uiu2HAmTMJnWE6vW1xyJtwd1qt5M6ir6FzniffWQuh7qanCryxo"],"enrUri":"enr:-L24QBu8Elj-hChpLN9zCE8zq8tME1R70_qKYzqbUWM9Y5jIW9I-NOkvxGwX7_oABKU40xoWkCX2X3_qdYu3FfRWmWoCgmlkgnY0gmlwhKwSn-WKbXVsdGlhZGRyc5YACASsEp_lBuKNAAoErBKf5Qbijt0DgnJzhQADAQAAiXNlY3AyNTZrMaED2lexjPfQy885gm8X3W_ec3rS5_1uKI7pcseGCOvx3zyDdGNwguKNg3VkcILij4V3YWt1MgA"}'
2026-02-01 04:44:25.518 INFO [src.node.waku_node] REST service is ready !!
2026-02-01 04:44:25.518 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:57996/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.129.24/tcp/45595/p2p/16Uiu2HAmMVGKtGmEMrnWX2wNpdz4UJoTjY5kyVeM9yEJoQJYXrLb"]'
2026-02-01 04:44:25.547 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-01 04:44:25.548 DEBUG [src.steps.filter] Running fixture setup: subscribe_main_nodes
2026-02-01 04:44:25.549 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45594/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2026-02-01 04:44:25.560 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-01 04:44:25.561 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:57996/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "bf94811a-0323-4e48-b1a9-29ab8391415a", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
2026-02-01 04:44:25.574 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"bf94811a-0323-4e48-b1a9-29ab8391415a","statusDesc":"OK"}'
2026-02-01 04:44:25.576 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:57996/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": 1, "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
2026-02-01 04:44:25.578 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:57996/filter/v2/subscriptions. Response content: b'{"requestId":"unknown","statusDesc":"BAD_REQUEST: Failed to decode request: (status: 400 Bad Request, headers: , kind: Error, errobj: (status: 400 Bad Request, message: \\"Invalid content body, could not decode. Unable to deserialize data: \\", contentType: \\"text/plain\\"))"}'
2026-02-01 04:44:25.581 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-02-01 04:44:25.581 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-02-01 04:44:25.582 DEBUG [src.node.waku_node] Stopping container with id af149b868ae5
2026-02-01 04:44:26.142 DEBUG [src.node.waku_node] Container stopped.
2026-02-01 04:44:26.143 DEBUG [src.node.waku_node] Stopping container with id b72e26ac520d
2026-02-01 04:44:26.698 DEBUG [src.node.waku_node] Container stopped.
2026-02-01 04:44:26.700 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-02-01 04:44:26.710 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-01 04:44:26.714 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
