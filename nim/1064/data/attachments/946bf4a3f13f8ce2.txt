2026-02-01 04:52:14.273 DEBUG [tests.conftest] Running fixture setup: test_id
2026-02-01 04:52:14.275 DEBUG [tests.conftest] Running test: test_different_cursor_and_indexes[2-4] with id: 2026-02-01_04-52-14__5267bac0-51ff-482b-bbc8-8e99edfacf47
2026-02-01 04:52:14.276 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-02-01 04:52:14.277 DEBUG [src.steps.store] Running fixture setup: store_setup
2026-02-01 04:52:14.277 DEBUG [src.steps.store] Running fixture setup: node_setup
2026-02-01 04:52:14.286 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-01 04:52:14.286 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/publishing_node1_2026-02-01_04-52-14__5267bac0-51ff-482b-bbc8-8e99edfacf47__wakuorg_nwaku:latest.log
2026-02-01 04:52:14.287 DEBUG [src.node.waku_node] Starting Node...
2026-02-01 04:52:14.287 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-01 04:52:14.289 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-01 04:52:14.290 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.46.124
2026-02-01 04:52:14.290 DEBUG [src.node.docker_mananger] Generated ports ['5382', '5383', '5384', '5385', '5386']
2026-02-01 04:52:14.290 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-01 04:52:14.291 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-01 04:52:14.291 DEBUG [src.node.waku_node] Using volumes []
2026-02-01 04:52:14.291 DEBUG [src.node.docker_mananger] docker run -i -t -p 5382:5382 -p 5383:5383 -p 5384:5384 -p 5385:5385 -p 5386:5386 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=5384 --rest-port=5382 --tcp-port=5383 --discv5-udp-port=5385 --rest-address=0.0.0.0 --nat=extip:172.18.46.124 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d1fd5ba9f12618ee763ef7e872d600eaf69a9fd9eee2c1fbfc014bc1fdc3e176 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=5386 --metrics-logging=true --store=true --relay=true
2026-02-01 04:52:14.469 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.46.124 waku be79c0d38983f9de47969e1092865d2ed3e9eb7deff4f32ae9cb7ea05a021144
2026-02-01 04:52:14.507 DEBUG [src.node.docker_mananger] Container started with ID be79c0d38983. Setting up logs at ./log/docker/publishing_node1_2026-02-01_04-52-14__5267bac0-51ff-482b-bbc8-8e99edfacf47__wakuorg_nwaku:latest.log
2026-02-01 04:52:14.508 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 5382
2026-02-01 04:52:14.508 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-01 04:52:14.513 ERROR [src.node.docker_mananger] Max retries reached for container a86da3662737. Exiting log stream.
2026-02-01 04:52:15.108 ERROR [src.node.docker_mananger] Max retries reached for container 972e7c28ead3. Exiting log stream.
2026-02-01 04:52:15.509 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5382/health" -H "Content-Type: application/json" -d 'None'
2026-02-01 04:52:15.512 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"READY"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"READY"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-01 04:52:15.512 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-01 04:52:15.512 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5382/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-01 04:52:15.515 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.46.124/tcp/5383/p2p/16Uiu2HAmQvsxFxoyn9vyUKMzTUgP5VM9q4gYeJeMTpGq5Q21m5gP","/ip4/172.18.46.124/tcp/5384/ws/p2p/16Uiu2HAmQvsxFxoyn9vyUKMzTUgP5VM9q4gYeJeMTpGq5Q21m5gP"],"enrUri":"enr:-L24QD627d9HDNx2I_gnkrYkoKgD0ZhbO4irbKVg8PERXsPcc9BA6GPPzsNzm2-YqYG_u4T14RyyvmRVPmdyUtEguDYCgmlkgnY0gmlwhKwSLnyKbXVsdGlhZGRyc5YACASsEi58BhUHAAoErBIufAYVCN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDtl5Nh6iwzIP4vQdAI6JcNW0KMutDzducfhSxtVE6LbyDdGNwghUHg3VkcIIVCYV3YWt1MgM"}'
2026-02-01 04:52:15.515 INFO [src.node.waku_node] REST service is ready !!
2026-02-01 04:52:15.522 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-01 04:52:15.522 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/store_node1_2026-02-01_04-52-14__5267bac0-51ff-482b-bbc8-8e99edfacf47__wakuorg_nwaku:latest.log
2026-02-01 04:52:15.522 DEBUG [src.node.waku_node] Starting Node...
2026-02-01 04:52:15.523 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-01 04:52:15.524 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-01 04:52:15.524 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.179.204
2026-02-01 04:52:15.524 DEBUG [src.node.docker_mananger] Generated ports ['32403', '32404', '32405', '32406', '32407']
2026-02-01 04:52:15.524 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-01 04:52:15.525 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-01 04:52:15.525 DEBUG [src.node.waku_node] Using volumes []
2026-02-01 04:52:15.525 DEBUG [src.node.docker_mananger] docker run -i -t -p 32403:32403 -p 32404:32404 -p 32405:32405 -p 32406:32406 -p 32407:32407 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=32405 --rest-port=32403 --tcp-port=32404 --discv5-udp-port=32406 --rest-address=0.0.0.0 --nat=extip:172.18.179.204 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ef2dec5bda9ea0dc5338c323dba5cd85ac982db5856f9ac56fc8fb293a337267 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=32407 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QD627d9HDNx2I_gnkrYkoKgD0ZhbO4irbKVg8PERXsPcc9BA6GPPzsNzm2-YqYG_u4T14RyyvmRVPmdyUtEguDYCgmlkgnY0gmlwhKwSLnyKbXVsdGlhZGRyc5YACASsEi58BhUHAAoErBIufAYVCN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDtl5Nh6iwzIP4vQdAI6JcNW0KMutDzducfhSxtVE6LbyDdGNwghUHg3VkcIIVCYV3YWt1MgM --storenode=/ip4/172.18.46.124/tcp/5383/p2p/16Uiu2HAmQvsxFxoyn9vyUKMzTUgP5VM9q4gYeJeMTpGq5Q21m5gP --store=true --relay=true
2026-02-01 04:52:15.705 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.179.204 waku a3175aeedacdb2cd15d93b93f987cfd5107a431847868b82de8b67c6693da8cb
2026-02-01 04:52:15.737 DEBUG [src.node.docker_mananger] Container started with ID a3175aeedacd. Setting up logs at ./log/docker/store_node1_2026-02-01_04-52-14__5267bac0-51ff-482b-bbc8-8e99edfacf47__wakuorg_nwaku:latest.log
2026-02-01 04:52:15.739 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 32403
2026-02-01 04:52:15.739 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-01 04:52:16.740 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32403/health" -H "Content-Type: application/json" -d 'None'
2026-02-01 04:52:16.745 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"READY"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"READY"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"READY"},{"Legacy Store Client":"READY"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-01 04:52:16.745 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-01 04:52:16.745 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32403/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-01 04:52:16.748 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.179.204/tcp/32404/p2p/16Uiu2HAkyZBLL7W2TaD7xibvdXw2ZEiwWZHreZcYJZqtcigJPqmb","/ip4/172.18.179.204/tcp/32405/ws/p2p/16Uiu2HAkyZBLL7W2TaD7xibvdXw2ZEiwWZHreZcYJZqtcigJPqmb"],"enrUri":"enr:-L24QG6_EceuW0mxpXa8nJE6Za8QVTwUnBeHw7AVkbK3vCqpCbW8jNRsUcQZSP7QcS8eVd6QqP2cY4qoARicmfJb1iICgmlkgnY0gmlwhKwSs8yKbXVsdGlhZGRyc5YACASsErPMBn6UAAoErBKzzAZ-ld0DgnJzhQADAQAAiXNlY3AyNTZrMaECPVsBDxaCH_9_JCZ5Qt_l_ERJhAuNPsDpu4cYVY6shHqDdGNwgn6Ug3VkcIJ-loV3YWt1MgM"}'
2026-02-01 04:52:16.748 INFO [src.node.waku_node] REST service is ready !!
2026-02-01 04:52:16.748 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:32403/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.46.124/tcp/5383/p2p/16Uiu2HAmQvsxFxoyn9vyUKMzTUgP5VM9q4gYeJeMTpGq5Q21m5gP"]'
2026-02-01 04:52:16.751 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-01 04:52:16.751 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:5382/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-01 04:52:16.754 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-01 04:52:16.754 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:32403/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-01 04:52:16.757 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-01 04:52:16.758 DEBUG [src.steps.store] Relaying message
2026-02-01 04:52:16.758 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:5382/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8w", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-01 04:52:16.763 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-01 04:52:16.764 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-01 04:52:16.965 DEBUG [src.steps.store] Relaying message
2026-02-01 04:52:16.966 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:5382/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8x", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-01 04:52:16.973 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-01 04:52:16.973 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-01 04:52:17.174 DEBUG [src.steps.store] Relaying message
2026-02-01 04:52:17.174 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:5382/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8y", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-01 04:52:17.179 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-01 04:52:17.179 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-01 04:52:17.380 DEBUG [src.steps.store] Relaying message
2026-02-01 04:52:17.381 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:5382/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8z", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-01 04:52:17.386 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-01 04:52:17.386 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-01 04:52:17.587 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5382/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=2&ascending=true" -H "Content-Type: application/json" -d 'None'
2026-02-01 04:52:17.591 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x0c20f5508ae6d28156de25f5843ce7cc325bb973895a8dc79bd6143ec2b12598"},{"messageHash":"0x078026b1f429a598b903d71c6b524e5aae975ce86a0e7c88cc9b7a296c8b1401"}],"paginationCursor":"0x078026b1f429a598b903d71c6b524e5aae975ce86a0e7c88cc9b7a296c8b1401"}'
2026-02-01 04:52:17.591 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32403/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=2&ascending=true" -H "Content-Type: application/json" -d 'None'
2026-02-01 04:52:17.594 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x0c20f5508ae6d28156de25f5843ce7cc325bb973895a8dc79bd6143ec2b12598"},{"messageHash":"0x078026b1f429a598b903d71c6b524e5aae975ce86a0e7c88cc9b7a296c8b1401"}],"paginationCursor":"0x078026b1f429a598b903d71c6b524e5aae975ce86a0e7c88cc9b7a296c8b1401"}'
2026-02-01 04:52:17.594 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5382/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&cursor=0x078026b1f429a598b903d71c6b524e5aae975ce86a0e7c88cc9b7a296c8b1401&pageSize=100&ascending=true" -H "Content-Type: application/json" -d 'None'
2026-02-01 04:52:17.597 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xf7b07e8755e77be2ac893a43d05f5ed06a69d940d93bb4540e08010f20c632bf"},{"messageHash":"0x413e280f5fb7f430cc2f9fd78b205fd4552fef97bdf36035a7008acfc65e9945"}]}'
2026-02-01 04:52:17.597 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32403/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&cursor=0x078026b1f429a598b903d71c6b524e5aae975ce86a0e7c88cc9b7a296c8b1401&pageSize=100&ascending=true" -H "Content-Type: application/json" -d 'None'
2026-02-01 04:52:17.600 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xf7b07e8755e77be2ac893a43d05f5ed06a69d940d93bb4540e08010f20c632bf"},{"messageHash":"0x413e280f5fb7f430cc2f9fd78b205fd4552fef97bdf36035a7008acfc65e9945"}]}'
2026-02-01 04:52:17.602 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-02-01 04:52:17.603 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-02-01 04:52:17.603 DEBUG [src.node.waku_node] Stopping container with id be79c0d38983
2026-02-01 04:52:18.151 DEBUG [src.node.waku_node] Container stopped.
2026-02-01 04:52:18.152 DEBUG [src.node.waku_node] Stopping container with id a3175aeedacd
2026-02-01 04:52:18.732 DEBUG [src.node.waku_node] Container stopped.
2026-02-01 04:52:18.734 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-02-01 04:52:18.746 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-01 04:52:18.753 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
