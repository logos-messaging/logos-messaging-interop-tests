2026-02-01 04:49:19.606 DEBUG [tests.conftest] Running fixture setup: test_id
2026-02-01 04:49:19.607 DEBUG [tests.conftest] Running test: test_light_push_with_valid_timestamps with id: 2026-02-01_04-49-19__5f2b9a01-145c-49bc-b5dc-dba59f2ebbdc
2026-02-01 04:49:19.607 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-02-01 04:49:19.607 DEBUG [src.steps.light_push] Running fixture setup: light_push_setup
2026-02-01 04:49:19.614 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-01 04:49:19.615 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node1_2026-02-01_04-49-19__5f2b9a01-145c-49bc-b5dc-dba59f2ebbdc__wakuorg_nwaku:latest.log
2026-02-01 04:49:19.615 DEBUG [src.node.waku_node] Starting Node...
2026-02-01 04:49:19.615 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-01 04:49:19.616 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-01 04:49:19.617 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.135.171
2026-02-01 04:49:19.617 DEBUG [src.node.docker_mananger] Generated ports ['32445', '32446', '32447', '32448', '32449']
2026-02-01 04:49:19.617 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-01 04:49:19.617 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-01 04:49:19.617 DEBUG [src.node.waku_node] Using volumes []
2026-02-01 04:49:19.617 DEBUG [src.node.docker_mananger] docker run -i -t -p 32445:32445 -p 32446:32446 -p 32447:32447 -p 32448:32448 -p 32449:32449 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=32447 --rest-port=32445 --tcp-port=32446 --discv5-udp-port=32448 --rest-address=0.0.0.0 --nat=extip:172.18.135.171 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a0dc4db896fc4d45dbde9cfb06ee6cfefc2a019f5fee2ed145ff7f88c5e8e3dd --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=32449 --metrics-logging=true --lightpush=true --relay=true
2026-02-01 04:49:19.805 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.135.171 waku 39681b5bae10c35c712171863d684e9d18c50564d9d15c8654be5342765e30f0
2026-02-01 04:49:19.807 ERROR [src.node.docker_mananger] Max retries reached for container 9e335ce61fc4. Exiting log stream.
2026-02-01 04:49:19.839 DEBUG [src.node.docker_mananger] Container started with ID 39681b5bae10. Setting up logs at ./log/docker/receiving_node1_2026-02-01_04-49-19__5f2b9a01-145c-49bc-b5dc-dba59f2ebbdc__wakuorg_nwaku:latest.log
2026-02-01 04:49:19.839 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 32445
2026-02-01 04:49:19.839 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-01 04:49:20.369 ERROR [src.node.docker_mananger] Max retries reached for container f7d8299af4bb. Exiting log stream.
2026-02-01 04:49:20.840 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32445/health" -H "Content-Type: application/json" -d 'None'
2026-02-01 04:49:20.843 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_READY","desc":"Node has no relay peers to fullfill push requests"},{"Legacy Lightpush":"NOT_READY","desc":"Node has no relay peers to fullfill push requests"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-01 04:49:20.843 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-01 04:49:20.844 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32445/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-01 04:49:20.846 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.135.171/tcp/32446/p2p/16Uiu2HAm2iEGZAiqAzxFSk7DiWGomBnZMb3ke8EKmJxuxPxtHmy6","/ip4/172.18.135.171/tcp/32447/ws/p2p/16Uiu2HAm2iEGZAiqAzxFSk7DiWGomBnZMb3ke8EKmJxuxPxtHmy6"],"enrUri":"enr:-L24QGhqprz6PBEGsN_8LBVI8cbvppFxghsEI4UDdCHAVdktRp6B5XqIp38whTq68IhTQZkXjnOb77Bze0NRd9uCyBwCgmlkgnY0gmlwhKwSh6uKbXVsdGlhZGRyc5YACASsEoerBn6-AAoErBKHqwZ-v90DgnJzhQADAQAAiXNlY3AyNTZrMaECbD-cV-1-b736pI-lzq4Jm---naIAGcP_VhsKknY0CfWDdGNwgn6-g3VkcIJ-wIV3YWt1Mgk"}'
2026-02-01 04:49:20.846 INFO [src.node.waku_node] REST service is ready !!
2026-02-01 04:49:20.853 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-01 04:49:20.854 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node2_2026-02-01_04-49-19__5f2b9a01-145c-49bc-b5dc-dba59f2ebbdc__wakuorg_nwaku:latest.log
2026-02-01 04:49:20.854 DEBUG [src.node.waku_node] Starting Node...
2026-02-01 04:49:20.854 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-01 04:49:20.855 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-01 04:49:20.855 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.190.76
2026-02-01 04:49:20.856 DEBUG [src.node.docker_mananger] Generated ports ['17360', '17361', '17362', '17363', '17364']
2026-02-01 04:49:20.856 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-01 04:49:20.856 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-01 04:49:20.856 DEBUG [src.node.waku_node] Using volumes []
2026-02-01 04:49:20.856 DEBUG [src.node.docker_mananger] docker run -i -t -p 17360:17360 -p 17361:17361 -p 17362:17362 -p 17363:17363 -p 17364:17364 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=17362 --rest-port=17360 --tcp-port=17361 --discv5-udp-port=17363 --rest-address=0.0.0.0 --nat=extip:172.18.190.76 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ef35a71ffdaf68df4fa98c686fbc789642293912ff33d1dc2e3cf5184fddecc7 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=17364 --metrics-logging=true --lightpush=false --relay=true
2026-02-01 04:49:21.051 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.190.76 waku 098ee7be69749acb31ba1f3861d0f290ef04245013b49b536ff47045a591f711
2026-02-01 04:49:21.086 DEBUG [src.node.docker_mananger] Container started with ID 098ee7be6974. Setting up logs at ./log/docker/receiving_node2_2026-02-01_04-49-19__5f2b9a01-145c-49bc-b5dc-dba59f2ebbdc__wakuorg_nwaku:latest.log
2026-02-01 04:49:21.086 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 17360
2026-02-01 04:49:21.086 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-01 04:49:22.087 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17360/health" -H "Content-Type: application/json" -d 'None'
2026-02-01 04:49:22.091 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-01 04:49:22.091 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-01 04:49:22.091 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17360/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-01 04:49:22.094 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.190.76/tcp/17361/p2p/16Uiu2HAm9YYT82FmyaH8zA3UBsBPJ2xgusUySPz4uQ51TqZRvmdS","/ip4/172.18.190.76/tcp/17362/ws/p2p/16Uiu2HAm9YYT82FmyaH8zA3UBsBPJ2xgusUySPz4uQ51TqZRvmdS"],"enrUri":"enr:-L24QMjrk4NPKmcFh8cjJmW8e-q6F4q0wsI9Zqyv-J0AiaBAVRL-bAd2VrQsOhaMJzFCUPRmV6sKUm5sbhx8rxf2JMcCgmlkgnY0gmlwhKwSvkyKbXVsdGlhZGRyc5YACASsEr5MBkPRAAoErBK-TAZD0t0DgnJzhQADAQAAiXNlY3AyNTZrMaEC0cYrddoL3pLQ49kJx6BOjQ4Hk8a5gSnOvT0euELBEzmDdGNwgkPRg3VkcIJD04V3YWt1MgE"}'
2026-02-01 04:49:22.094 INFO [src.node.waku_node] REST service is ready !!
2026-02-01 04:49:22.095 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17360/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.135.171/tcp/32446/p2p/16Uiu2HAm2iEGZAiqAzxFSk7DiWGomBnZMb3ke8EKmJxuxPxtHmy6"]'
2026-02-01 04:49:22.129 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-01 04:49:22.145 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-01 04:49:22.146 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/lightpush_node1_2026-02-01_04-49-19__5f2b9a01-145c-49bc-b5dc-dba59f2ebbdc__wakuorg_nwaku:latest.log
2026-02-01 04:49:22.146 DEBUG [src.node.waku_node] Starting Node...
2026-02-01 04:49:22.146 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-01 04:49:22.148 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-01 04:49:22.148 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.121.97
2026-02-01 04:49:22.148 DEBUG [src.node.docker_mananger] Generated ports ['8056', '8057', '8058', '8059', '8060']
2026-02-01 04:49:22.148 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-01 04:49:22.148 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-01 04:49:22.148 DEBUG [src.node.waku_node] Using volumes []
2026-02-01 04:49:22.148 DEBUG [src.node.docker_mananger] docker run -i -t -p 8056:8056 -p 8057:8057 -p 8058:8058 -p 8059:8059 -p 8060:8060 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=8058 --rest-port=8056 --tcp-port=8057 --discv5-udp-port=8059 --rest-address=0.0.0.0 --nat=extip:172.18.121.97 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=8e20f2da39ba69ef03d3b436fe18686a4a6ed9dd1ce5aae9b6715d2bbc2adea3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=8060 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QGhqprz6PBEGsN_8LBVI8cbvppFxghsEI4UDdCHAVdktRp6B5XqIp38whTq68IhTQZkXjnOb77Bze0NRd9uCyBwCgmlkgnY0gmlwhKwSh6uKbXVsdGlhZGRyc5YACASsEoerBn6-AAoErBKHqwZ-v90DgnJzhQADAQAAiXNlY3AyNTZrMaECbD-cV-1-b736pI-lzq4Jm---naIAGcP_VhsKknY0CfWDdGNwgn6-g3VkcIJ-wIV3YWt1Mgk --lightpushnode=/ip4/172.18.135.171/tcp/32446/p2p/16Uiu2HAm2iEGZAiqAzxFSk7DiWGomBnZMb3ke8EKmJxuxPxtHmy6 --lightpush=true --relay=true
2026-02-01 04:49:22.338 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.121.97 waku 1096aab271ff4dd0855652d99525c2ad0f964d5577607bfcc4051e5357e50032
2026-02-01 04:49:22.370 DEBUG [src.node.docker_mananger] Container started with ID 1096aab271ff. Setting up logs at ./log/docker/lightpush_node1_2026-02-01_04-49-19__5f2b9a01-145c-49bc-b5dc-dba59f2ebbdc__wakuorg_nwaku:latest.log
2026-02-01 04:49:22.371 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 8056
2026-02-01 04:49:22.371 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-01 04:49:23.371 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8056/health" -H "Content-Type: application/json" -d 'None'
2026-02-01 04:49:23.375 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_READY","desc":"Node has no relay peers to fullfill push requests"},{"Legacy Lightpush":"NOT_READY","desc":"Node has no relay peers to fullfill push requests"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"READY"},{"Legacy Lightpush Client":"READY"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-01 04:49:23.376 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-01 04:49:23.376 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8056/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-01 04:49:23.378 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.121.97/tcp/8057/p2p/16Uiu2HAm1tjC9BqwmHDRxcq7uBCfyiAywTm8TqTbtL8ydigg6uV8","/ip4/172.18.121.97/tcp/8058/ws/p2p/16Uiu2HAm1tjC9BqwmHDRxcq7uBCfyiAywTm8TqTbtL8ydigg6uV8"],"enrUri":"enr:-L24QEWQA0GV2mY1bjKZLlNZesnAeRhO7QZKUSJTJpA1PCLPIdo6dXxcP62qhoCOXnja7ZV1oVog-MmLq3H6huBErUACgmlkgnY0gmlwhKwSeWGKbXVsdGlhZGRyc5YACASsEnlhBh95AAoErBJ5YQYfet0DgnJzhQADAQAAiXNlY3AyNTZrMaECYBRvrcxfEFJ0IHFKHODA2PW6Sos1MUqCaA-F_FBkSYeDdGNwgh95g3VkcIIfe4V3YWt1Mgk"}'
2026-02-01 04:49:23.378 INFO [src.node.waku_node] REST service is ready !!
2026-02-01 04:49:23.379 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:8056/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.135.171/tcp/32446/p2p/16Uiu2HAm2iEGZAiqAzxFSk7DiWGomBnZMb3ke8EKmJxuxPxtHmy6"]'
2026-02-01 04:49:23.410 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-01 04:49:23.412 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:8056/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.190.76/tcp/17361/p2p/16Uiu2HAm9YYT82FmyaH8zA3UBsBPJ2xgusUySPz4uQ51TqZRvmdS"]'
2026-02-01 04:49:23.437 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-01 04:49:23.438 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:32445/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-01 04:49:23.447 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-01 04:49:23.448 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17360/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-01 04:49:23.455 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-01 04:49:23.455 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:8056/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-01 04:49:23.459 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-01 04:49:23.462 DEBUG [tests.light_push.test_publish] Running test with timestamp Now
2026-02-01 04:49:23.463 DEBUG [src.steps.light_push] Lightpushing message
2026-02-01 04:49:23.464 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:8056/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1769920966265075200}}'
2026-02-01 04:49:23.480 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-01 04:49:23.480 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-01 04:49:23.580 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2026-02-01 04:49:23.581 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32445/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-01 04:49:23.583 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1769920966265075200,"ephemeral":false,"proof":""}]'
2026-02-01 04:49:23.585 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2026-02-01 04:49:23.585 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17360/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-01 04:49:23.587 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1769920966265075200,"ephemeral":false,"proof":""}]'
2026-02-01 04:49:23.589 DEBUG [src.steps.light_push] Checking that peer NODE_3:wakuorg/nwaku:latest can find the lightpushed message
2026-02-01 04:49:23.589 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8056/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-01 04:49:23.592 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1769920966265075200,"ephemeral":false,"proof":""}]'
2026-02-01 04:49:23.593 DEBUG [tests.light_push.test_publish] Running test with timestamp Far future
2026-02-01 04:49:23.594 DEBUG [src.steps.light_push] Lightpushing message
2026-02-01 04:49:23.594 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:8056/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 2085280966265060864}}'
2026-02-01 04:49:23.611 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-01 04:49:23.612 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-01 04:49:23.712 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2026-02-01 04:49:23.712 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32445/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-01 04:49:23.715 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":2085280966265060864,"ephemeral":false,"proof":""}]'
2026-02-01 04:49:23.717 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2026-02-01 04:49:23.717 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17360/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-01 04:49:23.719 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":2085280966265060864,"ephemeral":false,"proof":""}]'
2026-02-01 04:49:23.721 DEBUG [src.steps.light_push] Checking that peer NODE_3:wakuorg/nwaku:latest can find the lightpushed message
2026-02-01 04:49:23.721 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8056/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-01 04:49:23.724 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":2085280966265060864,"ephemeral":false,"proof":""}]'
2026-02-01 04:49:23.725 DEBUG [tests.light_push.test_publish] Running test with timestamp Recent past
2026-02-01 04:49:23.725 DEBUG [src.steps.light_push] Lightpushing message
2026-02-01 04:49:23.726 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:8056/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1769917366265060864}}'
2026-02-01 04:49:23.739 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-01 04:49:23.739 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-01 04:49:23.840 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2026-02-01 04:49:23.841 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32445/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-01 04:49:23.843 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1769917366265060864,"ephemeral":false,"proof":""}]'
2026-02-01 04:49:23.845 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2026-02-01 04:49:23.845 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17360/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-01 04:49:23.847 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1769917366265060864,"ephemeral":false,"proof":""}]'
2026-02-01 04:49:23.849 DEBUG [src.steps.light_push] Checking that peer NODE_3:wakuorg/nwaku:latest can find the lightpushed message
2026-02-01 04:49:23.849 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8056/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-01 04:49:23.852 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1769917366265060864,"ephemeral":false,"proof":""}]'
2026-02-01 04:49:23.853 DEBUG [tests.light_push.test_publish] Running test with timestamp Near future
2026-02-01 04:49:23.854 DEBUG [src.steps.light_push] Lightpushing message
2026-02-01 04:49:23.854 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:8056/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1769924566265060864}}'
2026-02-01 04:49:23.865 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-01 04:49:23.866 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-01 04:49:23.966 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2026-02-01 04:49:23.967 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32445/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-01 04:49:23.970 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1769924566265060864,"ephemeral":false,"proof":""}]'
2026-02-01 04:49:23.971 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2026-02-01 04:49:23.971 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17360/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-01 04:49:23.974 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1769924566265060864,"ephemeral":false,"proof":""}]'
2026-02-01 04:49:23.975 DEBUG [src.steps.light_push] Checking that peer NODE_3:wakuorg/nwaku:latest can find the lightpushed message
2026-02-01 04:49:23.975 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8056/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-01 04:49:23.978 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1769924566265060864,"ephemeral":false,"proof":""}]'
2026-02-01 04:49:23.980 DEBUG [tests.light_push.test_publish] Running test with timestamp Positive number
2026-02-01 04:49:23.980 DEBUG [src.steps.light_push] Lightpushing message
2026-02-01 04:49:23.980 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:8056/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1}}'
2026-02-01 04:49:23.994 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-01 04:49:23.994 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-01 04:49:24.094 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2026-02-01 04:49:24.094 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32445/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-01 04:49:24.097 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1,"ephemeral":false,"proof":""}]'
2026-02-01 04:49:24.099 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2026-02-01 04:49:24.099 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17360/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-01 04:49:24.101 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1,"ephemeral":false,"proof":""}]'
2026-02-01 04:49:24.103 DEBUG [src.steps.light_push] Checking that peer NODE_3:wakuorg/nwaku:latest can find the lightpushed message
2026-02-01 04:49:24.103 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8056/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-01 04:49:24.105 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1,"ephemeral":false,"proof":""}]'
2026-02-01 04:49:24.106 DEBUG [tests.light_push.test_publish] Running test with timestamp Negative number
2026-02-01 04:49:24.107 DEBUG [src.steps.light_push] Lightpushing message
2026-02-01 04:49:24.107 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:8056/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": -1}}'
2026-02-01 04:49:24.119 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-01 04:49:24.119 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-01 04:49:24.219 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2026-02-01 04:49:24.220 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32445/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-01 04:49:24.223 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":-1,"ephemeral":false,"proof":""}]'
2026-02-01 04:49:24.224 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2026-02-01 04:49:24.224 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17360/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-01 04:49:24.227 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":-1,"ephemeral":false,"proof":""}]'
2026-02-01 04:49:24.228 DEBUG [src.steps.light_push] Checking that peer NODE_3:wakuorg/nwaku:latest can find the lightpushed message
2026-02-01 04:49:24.228 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8056/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-01 04:49:24.230 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":-1,"ephemeral":false,"proof":""}]'
2026-02-01 04:49:24.232 DEBUG [tests.light_push.test_publish] Running test with timestamp DST change
2026-02-01 04:49:24.232 DEBUG [src.steps.light_push] Lightpushing message
2026-02-01 04:49:24.232 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:8056/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1583632800000000000}}'
2026-02-01 04:49:24.247 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-01 04:49:24.247 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-01 04:49:24.348 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2026-02-01 04:49:24.348 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32445/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-01 04:49:24.351 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1583632800000000000,"ephemeral":false,"proof":""}]'
2026-02-01 04:49:24.352 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2026-02-01 04:49:24.353 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17360/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-01 04:49:24.355 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1583632800000000000,"ephemeral":false,"proof":""}]'
2026-02-01 04:49:24.357 DEBUG [src.steps.light_push] Checking that peer NODE_3:wakuorg/nwaku:latest can find the lightpushed message
2026-02-01 04:49:24.357 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8056/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-01 04:49:24.359 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1583632800000000000,"ephemeral":false,"proof":""}]'
2026-02-01 04:49:24.362 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-02-01 04:49:24.363 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-02-01 04:49:24.363 DEBUG [src.node.waku_node] Stopping container with id 39681b5bae10
2026-02-01 04:49:24.907 DEBUG [src.node.waku_node] Container stopped.
2026-02-01 04:49:24.908 DEBUG [src.node.waku_node] Stopping container with id 098ee7be6974
2026-02-01 04:49:25.508 DEBUG [src.node.waku_node] Container stopped.
2026-02-01 04:49:25.509 DEBUG [src.node.waku_node] Stopping container with id 1096aab271ff
2026-02-01 04:49:25.725 ERROR [src.node.docker_mananger] Max retries reached for container 39681b5bae10. Exiting log stream.
2026-02-01 04:49:26.060 DEBUG [src.node.waku_node] Container stopped.
2026-02-01 04:49:26.061 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-02-01 04:49:26.072 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-01 04:49:26.093 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-01 04:49:26.106 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
