2026-02-01 04:47:17.802 DEBUG [tests.conftest] Running fixture setup: test_id
2026-02-01 04:47:17.803 DEBUG [tests.conftest] Running test: test_light_push_with_missing_content_topic with id: 2026-02-01_04-47-17__0380fd9e-13ab-4936-9725-3d9a19b3de2b
2026-02-01 04:47:17.803 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-02-01 04:47:17.803 DEBUG [src.steps.light_push] Running fixture setup: light_push_setup
2026-02-01 04:47:17.810 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-01 04:47:17.810 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node1_2026-02-01_04-47-17__0380fd9e-13ab-4936-9725-3d9a19b3de2b__wakuorg_nwaku:latest.log
2026-02-01 04:47:17.810 DEBUG [src.node.waku_node] Starting Node...
2026-02-01 04:47:17.810 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-01 04:47:17.811 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-01 04:47:17.811 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.127.233
2026-02-01 04:47:17.812 DEBUG [src.node.docker_mananger] Generated ports ['63934', '63935', '63936', '63937', '63938']
2026-02-01 04:47:17.812 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-01 04:47:17.812 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-01 04:47:17.812 DEBUG [src.node.waku_node] Using volumes []
2026-02-01 04:47:17.812 DEBUG [src.node.docker_mananger] docker run -i -t -p 63934:63934 -p 63935:63935 -p 63936:63936 -p 63937:63937 -p 63938:63938 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=63936 --rest-port=63934 --tcp-port=63935 --discv5-udp-port=63937 --rest-address=0.0.0.0 --nat=extip:172.18.127.233 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=0fc6a2af1ffbbdbdfbdb419cdd51bec2e3b6e5fd9f525c9fc34a3babfe20e8de --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=63938 --metrics-logging=true --lightpush=true --relay=true
2026-02-01 04:47:17.994 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.127.233 waku b80fbe520135997d764587e93dea0bd2d89bd02a6455d64fb43e72efafb0ee39
2026-02-01 04:47:18.017 ERROR [src.node.docker_mananger] Max retries reached for container 7b65f3f1b2f1. Exiting log stream.
2026-02-01 04:47:18.024 DEBUG [src.node.docker_mananger] Container started with ID b80fbe520135. Setting up logs at ./log/docker/receiving_node1_2026-02-01_04-47-17__0380fd9e-13ab-4936-9725-3d9a19b3de2b__wakuorg_nwaku:latest.log
2026-02-01 04:47:18.025 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 63934
2026-02-01 04:47:18.026 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-01 04:47:18.557 ERROR [src.node.docker_mananger] Max retries reached for container 9e9d0ac75d94. Exiting log stream.
2026-02-01 04:47:19.026 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:63934/health" -H "Content-Type: application/json" -d 'None'
2026-02-01 04:47:19.029 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_READY","desc":"Node has no relay peers to fullfill push requests"},{"Legacy Lightpush":"NOT_READY","desc":"Node has no relay peers to fullfill push requests"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-01 04:47:19.030 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-01 04:47:19.030 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:63934/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-01 04:47:19.032 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.127.233/tcp/63935/p2p/16Uiu2HAmSC8EZNNyNMPH59o7So4tiJPmb7bhgU8f9sCdPJR2Ndwd","/ip4/172.18.127.233/tcp/63936/ws/p2p/16Uiu2HAmSC8EZNNyNMPH59o7So4tiJPmb7bhgU8f9sCdPJR2Ndwd"],"enrUri":"enr:-L24QOrZoaJ5cmFhsK_JSLcxE4K5HwPChEUlVcwZriRtsoIjaQHOqHe4Z3FpV_k1G38JEzC6UUQsqD4z9TxaPzDMnSgCgmlkgnY0gmlwhKwSf-mKbXVsdGlhZGRyc5YACASsEn_pBvm_AAoErBJ_6Qb5wN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDySHZev8S9NRoB-j48k_mW-lBN6wXgZvZSLSBXfzWegiDdGNwgvm_g3VkcIL5wYV3YWt1Mgk"}'
2026-02-01 04:47:19.032 INFO [src.node.waku_node] REST service is ready !!
2026-02-01 04:47:19.039 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-01 04:47:19.039 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node2_2026-02-01_04-47-17__0380fd9e-13ab-4936-9725-3d9a19b3de2b__wakuorg_nwaku:latest.log
2026-02-01 04:47:19.039 DEBUG [src.node.waku_node] Starting Node...
2026-02-01 04:47:19.039 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-01 04:47:19.040 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-01 04:47:19.041 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.22.201
2026-02-01 04:47:19.041 DEBUG [src.node.docker_mananger] Generated ports ['7451', '7452', '7453', '7454', '7455']
2026-02-01 04:47:19.041 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-01 04:47:19.041 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-01 04:47:19.041 DEBUG [src.node.waku_node] Using volumes []
2026-02-01 04:47:19.041 DEBUG [src.node.docker_mananger] docker run -i -t -p 7451:7451 -p 7452:7452 -p 7453:7453 -p 7454:7454 -p 7455:7455 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=7453 --rest-port=7451 --tcp-port=7452 --discv5-udp-port=7454 --rest-address=0.0.0.0 --nat=extip:172.18.22.201 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f02fc6a3bdc00bbaa707a9edb1532ef7a11feaf8e9e426fe9ae9af4eed8fc56d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=7455 --metrics-logging=true --lightpush=false --relay=true
2026-02-01 04:47:19.225 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.22.201 waku 28d716c82b33688de57c8b79ae8c01892015fe7e4383040433d25efe457a0e8c
2026-02-01 04:47:19.256 DEBUG [src.node.docker_mananger] Container started with ID 28d716c82b33. Setting up logs at ./log/docker/receiving_node2_2026-02-01_04-47-17__0380fd9e-13ab-4936-9725-3d9a19b3de2b__wakuorg_nwaku:latest.log
2026-02-01 04:47:19.256 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 7451
2026-02-01 04:47:19.256 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-01 04:47:20.258 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:7451/health" -H "Content-Type: application/json" -d 'None'
2026-02-01 04:47:20.261 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-01 04:47:20.261 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-01 04:47:20.261 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:7451/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-01 04:47:20.263 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.22.201/tcp/7452/p2p/16Uiu2HAm8M7EuHCcgphS2oAm7DCefeEcJCypbejDh5MK7GcEvMCG","/ip4/172.18.22.201/tcp/7453/ws/p2p/16Uiu2HAm8M7EuHCcgphS2oAm7DCefeEcJCypbejDh5MK7GcEvMCG"],"enrUri":"enr:-L24QJDbX4JZbpoz7cNNldwXeFbyUdAHNbuhroNN7ZBZ4gwYAOrJyN6RChvPkZtdIy2cM1UAqYT1zlyqNaonu37YnTgCgmlkgnY0gmlwhKwSFsmKbXVsdGlhZGRyc5YACASsEhbJBh0cAAoErBIWyQYdHd0DgnJzhQADAQAAiXNlY3AyNTZrMaECv_yWj6FDsb7TXgM9edslzhrW42-ogLQM3ewjCzfCGRWDdGNwgh0cg3VkcIIdHoV3YWt1MgE"}'
2026-02-01 04:47:20.263 INFO [src.node.waku_node] REST service is ready !!
2026-02-01 04:47:20.264 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:7451/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.127.233/tcp/63935/p2p/16Uiu2HAmSC8EZNNyNMPH59o7So4tiJPmb7bhgU8f9sCdPJR2Ndwd"]'
2026-02-01 04:47:20.295 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-01 04:47:20.305 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-01 04:47:20.305 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/lightpush_node1_2026-02-01_04-47-17__0380fd9e-13ab-4936-9725-3d9a19b3de2b__wakuorg_nwaku:latest.log
2026-02-01 04:47:20.305 DEBUG [src.node.waku_node] Starting Node...
2026-02-01 04:47:20.305 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-01 04:47:20.309 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-01 04:47:20.310 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.135.168
2026-02-01 04:47:20.310 DEBUG [src.node.docker_mananger] Generated ports ['4061', '4062', '4063', '4064', '4065']
2026-02-01 04:47:20.311 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-01 04:47:20.311 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-01 04:47:20.311 DEBUG [src.node.waku_node] Using volumes []
2026-02-01 04:47:20.311 DEBUG [src.node.docker_mananger] docker run -i -t -p 4061:4061 -p 4062:4062 -p 4063:4063 -p 4064:4064 -p 4065:4065 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=4063 --rest-port=4061 --tcp-port=4062 --discv5-udp-port=4064 --rest-address=0.0.0.0 --nat=extip:172.18.135.168 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=9f2cbaaab0acfd7d395f0abe7fbea3c8fa042b84ae6f15aca4dae8aefb8b66be --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=4065 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QOrZoaJ5cmFhsK_JSLcxE4K5HwPChEUlVcwZriRtsoIjaQHOqHe4Z3FpV_k1G38JEzC6UUQsqD4z9TxaPzDMnSgCgmlkgnY0gmlwhKwSf-mKbXVsdGlhZGRyc5YACASsEn_pBvm_AAoErBJ_6Qb5wN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDySHZev8S9NRoB-j48k_mW-lBN6wXgZvZSLSBXfzWegiDdGNwgvm_g3VkcIL5wYV3YWt1Mgk --lightpushnode=/ip4/172.18.127.233/tcp/63935/p2p/16Uiu2HAmSC8EZNNyNMPH59o7So4tiJPmb7bhgU8f9sCdPJR2Ndwd --lightpush=true --relay=true
2026-02-01 04:47:20.496 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.135.168 waku 8435a25bdfbbbb87f0e3d8776b6d432f2f2bc4c93cef12e07644951791e61604
2026-02-01 04:47:20.526 DEBUG [src.node.docker_mananger] Container started with ID 8435a25bdfbb. Setting up logs at ./log/docker/lightpush_node1_2026-02-01_04-47-17__0380fd9e-13ab-4936-9725-3d9a19b3de2b__wakuorg_nwaku:latest.log
2026-02-01 04:47:20.527 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 4061
2026-02-01 04:47:20.528 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-01 04:47:21.528 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:4061/health" -H "Content-Type: application/json" -d 'None'
2026-02-01 04:47:21.532 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_READY","desc":"Node has no relay peers to fullfill push requests"},{"Legacy Lightpush":"NOT_READY","desc":"Node has no relay peers to fullfill push requests"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"READY"},{"Legacy Lightpush Client":"READY"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-01 04:47:21.532 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-01 04:47:21.532 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:4061/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-01 04:47:21.534 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.135.168/tcp/4062/p2p/16Uiu2HAkxWY7YdgJ9uSUni52UMVfmMgCdAVoGhGcpFGeqWQ9SEJg","/ip4/172.18.135.168/tcp/4063/ws/p2p/16Uiu2HAkxWY7YdgJ9uSUni52UMVfmMgCdAVoGhGcpFGeqWQ9SEJg"],"enrUri":"enr:-L24QBG9r9il12sXRp7XqpoHIZCsZyHR4jqn8wCh8g1tpicxKm3Cbe62SQBOI-l0RfGKXR5zovLCOg_xJo7MWr9IOZICgmlkgnY0gmlwhKwSh6iKbXVsdGlhZGRyc5YACASsEoeoBg_eAAoErBKHqAYP390DgnJzhQADAQAAiXNlY3AyNTZrMaECLdISAV2OSuZC0S6WX_VKBIoTwLwqvilbnVwbqW2xbt2DdGNwgg_eg3VkcIIP4IV3YWt1Mgk"}'
2026-02-01 04:47:21.535 INFO [src.node.waku_node] REST service is ready !!
2026-02-01 04:47:21.535 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4061/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.127.233/tcp/63935/p2p/16Uiu2HAmSC8EZNNyNMPH59o7So4tiJPmb7bhgU8f9sCdPJR2Ndwd"]'
2026-02-01 04:47:21.581 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-01 04:47:21.582 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4061/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.22.201/tcp/7452/p2p/16Uiu2HAm8M7EuHCcgphS2oAm7DCefeEcJCypbejDh5MK7GcEvMCG"]'
2026-02-01 04:47:21.609 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-01 04:47:21.610 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:63934/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-01 04:47:21.615 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-01 04:47:21.615 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:7451/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-01 04:47:21.621 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-01 04:47:21.621 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4061/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-01 04:47:21.625 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-01 04:47:21.629 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4061/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "timestamp": 1769921241629764096}}'
2026-02-01 04:47:21.632 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:4061/lightpush/v1/message. Response content: b'Invalid content body, could not decode: Unable to deserialize data: '
2026-02-01 04:47:21.633 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-02-01 04:47:21.634 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-02-01 04:47:21.635 DEBUG [src.node.waku_node] Stopping container with id b80fbe520135
2026-02-01 04:47:22.166 DEBUG [src.node.waku_node] Container stopped.
2026-02-01 04:47:22.167 DEBUG [src.node.waku_node] Stopping container with id 28d716c82b33
2026-02-01 04:47:22.672 DEBUG [src.node.waku_node] Container stopped.
2026-02-01 04:47:22.672 DEBUG [src.node.waku_node] Stopping container with id 8435a25bdfbb
2026-02-01 04:47:22.977 ERROR [src.node.docker_mananger] Max retries reached for container b80fbe520135. Exiting log stream.
2026-02-01 04:47:23.186 DEBUG [src.node.waku_node] Container stopped.
2026-02-01 04:47:23.188 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-02-01 04:47:23.195 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-01 04:47:23.202 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-01 04:47:23.209 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
