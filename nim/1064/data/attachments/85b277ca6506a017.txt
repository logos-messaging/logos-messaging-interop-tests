2026-02-01 04:44:22.606 DEBUG [tests.conftest] Running fixture setup: test_id
2026-02-01 04:44:22.606 DEBUG [tests.conftest] Running test: test_unsubscribe_from_some_content_topics[content_topic_list1] with id: 2026-02-01_04-44-22__3b4000dc-dc5b-46f6-9233-17b3fe4cf572
2026-02-01 04:44:22.606 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-02-01 04:44:22.606 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2026-02-01 04:44:22.607 DEBUG [src.steps.sharding] Running fixture setup: sharding_setup
2026-02-01 04:44:22.613 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-01 04:44:22.614 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2026-02-01_04-44-22__3b4000dc-dc5b-46f6-9233-17b3fe4cf572__wakuorg_nwaku:latest.log
2026-02-01 04:44:22.614 DEBUG [src.node.waku_node] Starting Node...
2026-02-01 04:44:22.614 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-01 04:44:22.615 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-01 04:44:22.615 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.150.203
2026-02-01 04:44:22.616 DEBUG [src.node.docker_mananger] Generated ports ['49257', '49258', '49259', '49260', '49261']
2026-02-01 04:44:22.616 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-01 04:44:22.616 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-01 04:44:22.616 DEBUG [src.node.waku_node] Using volumes []
2026-02-01 04:44:22.616 DEBUG [src.node.docker_mananger] docker run -i -t -p 49257:49257 -p 49258:49258 -p 49259:49259 -p 49260:49260 -p 49261:49261 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=49259 --rest-port=49257 --tcp-port=49258 --discv5-udp-port=49260 --rest-address=0.0.0.0 --nat=extip:172.18.150.203 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=52dab710b2b13fa18bcace9ecee2d7814a289e1ff0a48b8c0a8adc4c60dce12d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=49261 --metrics-logging=true --relay=true --filter=true --content-topic=/myapp/1/latest/proto --num-shards-in-network=8
2026-02-01 04:44:22.792 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.150.203 waku ac95dfc34aadb502256bd05a79958a1f203a165c9cbe4f1c22f2139e390fc329
2026-02-01 04:44:22.820 DEBUG [src.node.docker_mananger] Container started with ID ac95dfc34aad. Setting up logs at ./log/docker/node1_2026-02-01_04-44-22__3b4000dc-dc5b-46f6-9233-17b3fe4cf572__wakuorg_nwaku:latest.log
2026-02-01 04:44:22.822 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 49257
2026-02-01 04:44:22.822 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-01 04:44:22.904 ERROR [src.node.docker_mananger] Max retries reached for container 63efcdfba024. Exiting log stream.
2026-02-01 04:44:23.413 ERROR [src.node.docker_mananger] Max retries reached for container 49da770ee085. Exiting log stream.
2026-02-01 04:44:23.823 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49257/health" -H "Content-Type: application/json" -d 'None'
2026-02-01 04:44:23.826 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_READY","desc":"Relay is not ready, filter will not be able to sort out messages"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-01 04:44:23.826 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-01 04:44:23.826 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49257/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-01 04:44:23.828 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.150.203/tcp/49258/p2p/16Uiu2HAmJKwRnKfArrs645W2guVvb1TSH1UvVHy8cYwo1KRyS4XE","/ip4/172.18.150.203/tcp/49259/ws/p2p/16Uiu2HAmJKwRnKfArrs645W2guVvb1TSH1UvVHy8cYwo1KRyS4XE"],"enrUri":"enr:-L24QOVLYVMoaEeFgGTNjbXS7ZXmOlJhk2XvuQEBG7R1M6LTBEGn8kBuD-7BBavW51HPjtn3jUwys8U1ZEPwEhn6iBoCgmlkgnY0gmlwhKwSlsuKbXVsdGlhZGRyc5YACASsEpbLBsBqAAoErBKWywbAa90DgnJzhQACAQAAiXNlY3AyNTZrMaEDVETIGmSClDuiEIaX2OFZ5oBG7fqTla9zL3KhYclvnS2DdGNwgsBqg3VkcILAbIV3YWt1MgU"}'
2026-02-01 04:44:23.828 INFO [src.node.waku_node] REST service is ready !!
2026-02-01 04:44:23.835 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-01 04:44:23.835 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2026-02-01_04-44-22__3b4000dc-dc5b-46f6-9233-17b3fe4cf572__wakuorg_nwaku:latest.log
2026-02-01 04:44:23.835 DEBUG [src.node.waku_node] Starting Node...
2026-02-01 04:44:23.835 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-01 04:44:23.837 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-01 04:44:23.837 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.26.146
2026-02-01 04:44:23.837 DEBUG [src.node.docker_mananger] Generated ports ['30182', '30183', '30184', '30185', '30186']
2026-02-01 04:44:23.837 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-01 04:44:23.837 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-01 04:44:23.837 DEBUG [src.node.waku_node] Using volumes []
2026-02-01 04:44:23.837 DEBUG [src.node.docker_mananger] docker run -i -t -p 30182:30182 -p 30183:30183 -p 30184:30184 -p 30185:30185 -p 30186:30186 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=30184 --rest-port=30182 --tcp-port=30183 --discv5-udp-port=30185 --rest-address=0.0.0.0 --nat=extip:172.18.26.146 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=e56fdabb81cd5ccf787fa5964acde4908b7fafd9db0a63ea3cff9ede15a7f4ff --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=30186 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QOVLYVMoaEeFgGTNjbXS7ZXmOlJhk2XvuQEBG7R1M6LTBEGn8kBuD-7BBavW51HPjtn3jUwys8U1ZEPwEhn6iBoCgmlkgnY0gmlwhKwSlsuKbXVsdGlhZGRyc5YACASsEpbLBsBqAAoErBKWywbAa90DgnJzhQACAQAAiXNlY3AyNTZrMaEDVETIGmSClDuiEIaX2OFZ5oBG7fqTla9zL3KhYclvnS2DdGNwgsBqg3VkcILAbIV3YWt1MgU --content-topic=/myapp/1/latest/proto --num-shards-in-network=8
2026-02-01 04:44:24.021 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.26.146 waku e92cc3293eeeb52fc16a89d443c5abee8706de8b2640c03f593897058909ab83
2026-02-01 04:44:24.050 DEBUG [src.node.docker_mananger] Container started with ID e92cc3293eee. Setting up logs at ./log/docker/node2_2026-02-01_04-44-22__3b4000dc-dc5b-46f6-9233-17b3fe4cf572__wakuorg_nwaku:latest.log
2026-02-01 04:44:24.051 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 30182
2026-02-01 04:44:24.051 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-01 04:44:25.051 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30182/health" -H "Content-Type: application/json" -d 'None'
2026-02-01 04:44:25.061 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"READY"}]}'
2026-02-01 04:44:25.061 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-01 04:44:25.064 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30182/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-01 04:44:25.068 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.26.146/tcp/30183/p2p/16Uiu2HAmKU7eEpF5Yow95meXipV7vv9ZZTUaDnSn3cDiDSdRR5XQ","/ip4/172.18.26.146/tcp/30184/ws/p2p/16Uiu2HAmKU7eEpF5Yow95meXipV7vv9ZZTUaDnSn3cDiDSdRR5XQ"],"enrUri":"enr:-L24QKPYdYYcI0ZIdgth6GQ7DdqQC1O0JWDXYfWC6NIYXzUlU2EZVtgWkD730GcmIPkpIRlvh7ZNTBKUduyITPqrF1ECgmlkgnY0gmlwhKwSGpKKbXVsdGlhZGRyc5YACASsEhqSBnXnAAoErBIakgZ16N0DgnJzhQACAQAAiXNlY3AyNTZrMaEDZTiqOO1P9H57-tLaIm9poLIzpsqmSUB_9_sZJlMpGnODdGNwgnXng3VkcIJ16YV3YWt1MgE"}'
2026-02-01 04:44:25.069 INFO [src.node.waku_node] REST service is ready !!
2026-02-01 04:44:25.069 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:30182/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.150.203/tcp/49258/p2p/16Uiu2HAmJKwRnKfArrs645W2guVvb1TSH1UvVHy8cYwo1KRyS4XE"]'
2026-02-01 04:44:25.073 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-01 04:44:25.073 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:49257/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2026-02-01 04:44:25.080 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-01 04:44:25.081 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:30182/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2026-02-01 04:44:25.098 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-01 04:44:25.101 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:49257/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-01 04:44:25.107 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-01 04:44:25.107 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-01 04:44:25.208 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-01 04:44:25.208 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49257/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2026-02-01 04:44:25.211 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1769921065101130247,"ephemeral":false,"proof":""}]'
2026-02-01 04:44:25.212 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-01 04:44:25.213 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30182/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2026-02-01 04:44:25.215 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1769921065101130247,"ephemeral":false,"proof":""}]'
2026-02-01 04:44:25.216 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:49257/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2026-02-01 04:44:25.221 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-01 04:44:25.221 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-01 04:44:25.321 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-01 04:44:25.322 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49257/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2026-02-01 04:44:25.324 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/waku/2/content/test.js","version":0,"timestamp":1769921065216650358,"ephemeral":false,"proof":""}]'
2026-02-01 04:44:25.326 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-01 04:44:25.326 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30182/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2026-02-01 04:44:25.328 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/waku/2/content/test.js","version":0,"timestamp":1769921065216650358,"ephemeral":false,"proof":""}]'
2026-02-01 04:44:25.330 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:49257/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-02-01 04:44:25.334 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-01 04:44:25.334 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-01 04:44:25.434 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-01 04:44:25.435 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49257/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-02-01 04:44:25.437 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/22/sometopic/someencoding","version":0,"timestamp":1769921065330037563,"ephemeral":false,"proof":""}]'
2026-02-01 04:44:25.438 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-01 04:44:25.438 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30182/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-02-01 04:44:25.441 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/22/sometopic/someencoding","version":0,"timestamp":1769921065330037563,"ephemeral":false,"proof":""}]'
2026-02-01 04:44:25.442 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:49257/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2026-02-01 04:44:25.447 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-01 04:44:25.447 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-01 04:44:25.547 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-01 04:44:25.547 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49257/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2026-02-01 04:44:25.550 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1769921065442530812,"ephemeral":false,"proof":""}]'
2026-02-01 04:44:25.551 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-01 04:44:25.551 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30182/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2026-02-01 04:44:25.553 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1769921065442530812,"ephemeral":false,"proof":""}]'
2026-02-01 04:44:25.555 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:49257/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2026-02-01 04:44:25.559 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-01 04:44:25.559 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-01 04:44:25.659 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-01 04:44:25.660 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49257/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2026-02-01 04:44:25.662 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1769921065555225472,"ephemeral":false,"proof":""}]'
2026-02-01 04:44:25.663 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-01 04:44:25.664 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30182/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2026-02-01 04:44:25.666 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1769921065555225472,"ephemeral":false,"proof":""}]'
2026-02-01 04:44:25.667 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:49257/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-02-01 04:44:25.671 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-01 04:44:25.672 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-01 04:44:25.772 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-01 04:44:25.773 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49257/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-02-01 04:44:25.775 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1769921065667552535,"ephemeral":false,"proof":""}]'
2026-02-01 04:44:25.776 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-01 04:44:25.777 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30182/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-02-01 04:44:25.779 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1769921065667552535,"ephemeral":false,"proof":""}]'
2026-02-01 04:44:25.780 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:49257/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-02-01 04:44:25.784 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-01 04:44:25.784 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-01 04:44:25.885 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-01 04:44:25.885 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49257/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-02-01 04:44:25.887 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1769921065780639813,"ephemeral":false,"proof":""}]'
2026-02-01 04:44:25.889 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-01 04:44:25.889 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30182/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-02-01 04:44:25.891 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1769921065780639813,"ephemeral":false,"proof":""}]'
2026-02-01 04:44:25.893 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:49257/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-02-01 04:44:25.897 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-01 04:44:25.898 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-01 04:44:25.998 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-01 04:44:25.998 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49257/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-02-01 04:44:26.001 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1769921065892911570,"ephemeral":false,"proof":""}]'
2026-02-01 04:44:26.002 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-01 04:44:26.002 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30182/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-02-01 04:44:26.005 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1769921065892911570,"ephemeral":false,"proof":""}]'
2026-02-01 04:44:26.006 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:49257/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding"]'
2026-02-01 04:44:26.012 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-01 04:44:26.013 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:30182/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding"]'
2026-02-01 04:44:26.020 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-01 04:44:26.020 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:49257/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-01 04:44:26.025 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-01 04:44:26.025 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-01 04:44:26.125 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-01 04:44:26.126 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49257/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2026-02-01 04:44:26.128 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:49257/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto. Response content: b'/myapp/1/latest/proto'
2026-02-01 04:44:26.130 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:49257/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2026-02-01 04:44:26.133 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-01 04:44:26.133 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-01 04:44:26.233 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-01 04:44:26.233 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49257/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2026-02-01 04:44:26.236 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:49257/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js. Response content: b'/waku/2/content/test.js'
2026-02-01 04:44:26.237 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:49257/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-02-01 04:44:26.239 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-01 04:44:26.240 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-01 04:44:26.340 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-01 04:44:26.340 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49257/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-02-01 04:44:26.343 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:49257/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding. Response content: b'/app/22/sometopic/someencoding'
2026-02-01 04:44:26.344 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:49257/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2026-02-01 04:44:26.348 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-01 04:44:26.349 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-01 04:44:26.449 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-01 04:44:26.450 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49257/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2026-02-01 04:44:26.453 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1769921066344555528,"ephemeral":false,"proof":""}]'
2026-02-01 04:44:26.454 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-01 04:44:26.454 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30182/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2026-02-01 04:44:26.457 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1769921066344555528,"ephemeral":false,"proof":""}]'
2026-02-01 04:44:26.458 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:49257/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2026-02-01 04:44:26.462 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-01 04:44:26.463 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-01 04:44:26.563 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-01 04:44:26.564 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49257/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2026-02-01 04:44:26.566 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1769921066458540841,"ephemeral":false,"proof":""}]'
2026-02-01 04:44:26.567 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-01 04:44:26.568 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30182/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2026-02-01 04:44:26.570 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1769921066458540841,"ephemeral":false,"proof":""}]'
2026-02-01 04:44:26.572 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:49257/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-02-01 04:44:26.575 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-01 04:44:26.576 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-01 04:44:26.676 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-01 04:44:26.676 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49257/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-02-01 04:44:26.679 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1769921066572019902,"ephemeral":false,"proof":""}]'
2026-02-01 04:44:26.680 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-01 04:44:26.680 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30182/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-02-01 04:44:26.682 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1769921066572019902,"ephemeral":false,"proof":""}]'
2026-02-01 04:44:26.684 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:49257/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-02-01 04:44:26.688 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-01 04:44:26.688 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-01 04:44:26.789 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-01 04:44:26.789 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49257/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-02-01 04:44:26.791 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1769921066684379153,"ephemeral":false,"proof":""}]'
2026-02-01 04:44:26.793 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-01 04:44:26.793 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30182/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-02-01 04:44:26.795 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1769921066684379153,"ephemeral":false,"proof":""}]'
2026-02-01 04:44:26.797 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:49257/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-02-01 04:44:26.802 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-01 04:44:26.803 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-01 04:44:26.903 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-01 04:44:26.904 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49257/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-02-01 04:44:26.906 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1769921066797599402,"ephemeral":false,"proof":""}]'
2026-02-01 04:44:26.907 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-01 04:44:26.908 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30182/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-02-01 04:44:26.910 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1769921066797599402,"ephemeral":false,"proof":""}]'
2026-02-01 04:44:26.913 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-02-01 04:44:26.932 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-02-01 04:44:26.932 DEBUG [src.node.waku_node] Stopping container with id ac95dfc34aad
2026-02-01 04:44:27.433 DEBUG [src.node.waku_node] Container stopped.
2026-02-01 04:44:27.435 DEBUG [src.node.waku_node] Stopping container with id e92cc3293eee
2026-02-01 04:44:27.923 DEBUG [src.node.waku_node] Container stopped.
2026-02-01 04:44:27.925 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-02-01 04:44:27.940 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-01 04:44:27.951 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
