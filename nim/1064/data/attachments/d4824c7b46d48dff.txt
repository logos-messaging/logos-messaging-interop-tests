2026-02-01 04:46:04.723 DEBUG [tests.conftest] Running fixture setup: test_id
2026-02-01 04:46:04.723 DEBUG [tests.conftest] Running test: test_time_filter_matches_multiple_messages with id: 2026-02-01_04-46-04__a9c45ead-8304-41dd-85f5-cc83bd1e0f09
2026-02-01 04:46:04.724 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-02-01 04:46:04.724 DEBUG [src.steps.store] Running fixture setup: store_setup
2026-02-01 04:46:04.724 DEBUG [src.steps.store] Running fixture setup: node_setup
2026-02-01 04:46:04.731 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-01 04:46:04.731 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/publishing_node1_2026-02-01_04-46-04__a9c45ead-8304-41dd-85f5-cc83bd1e0f09__wakuorg_nwaku:latest.log
2026-02-01 04:46:04.731 DEBUG [src.node.waku_node] Starting Node...
2026-02-01 04:46:04.731 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-01 04:46:04.733 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-01 04:46:04.733 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.160.40
2026-02-01 04:46:04.733 DEBUG [src.node.docker_mananger] Generated ports ['18458', '18459', '18460', '18461', '18462']
2026-02-01 04:46:04.733 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-01 04:46:04.733 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-01 04:46:04.733 DEBUG [src.node.waku_node] Using volumes []
2026-02-01 04:46:04.733 DEBUG [src.node.docker_mananger] docker run -i -t -p 18458:18458 -p 18459:18459 -p 18460:18460 -p 18461:18461 -p 18462:18462 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=18460 --rest-port=18458 --tcp-port=18459 --discv5-udp-port=18461 --rest-address=0.0.0.0 --nat=extip:172.18.160.40 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b0a1da3c29e3fc35bdd3cadd2c8bca609042ea1b714241a3c60923d5f74b50cf --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=18462 --metrics-logging=true --store=true --relay=true
2026-02-01 04:46:04.928 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.160.40 waku 2b7d4918de378ec534cb7c7eca2dfca8712bef77d79798d7e4860a70c44545eb
2026-02-01 04:46:04.958 DEBUG [src.node.docker_mananger] Container started with ID 2b7d4918de37. Setting up logs at ./log/docker/publishing_node1_2026-02-01_04-46-04__a9c45ead-8304-41dd-85f5-cc83bd1e0f09__wakuorg_nwaku:latest.log
2026-02-01 04:46:04.959 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 18458
2026-02-01 04:46:04.959 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-01 04:46:04.990 ERROR [src.node.docker_mananger] Max retries reached for container dd1b027b689f. Exiting log stream.
2026-02-01 04:46:05.518 ERROR [src.node.docker_mananger] Max retries reached for container 600d62ea20d9. Exiting log stream.
2026-02-01 04:46:05.960 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18458/health" -H "Content-Type: application/json" -d 'None'
2026-02-01 04:46:05.963 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"READY"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"READY"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-01 04:46:05.963 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-01 04:46:05.964 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18458/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-01 04:46:05.966 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.160.40/tcp/18459/p2p/16Uiu2HAmAnFzjKPTPQsJhygG5G6NcPzJtRbJ38979DrDPaoSKPDs","/ip4/172.18.160.40/tcp/18460/ws/p2p/16Uiu2HAmAnFzjKPTPQsJhygG5G6NcPzJtRbJ38979DrDPaoSKPDs"],"enrUri":"enr:-L24QBHodaKf1h6zzhXrDKlcBmxpQGO8E_UHHR_4NWCRQ_WUbsRE4p-XX0TVCO17vE8yd12il67mPb_6TAbPxl3fh3QCgmlkgnY0gmlwhKwSoCiKbXVsdGlhZGRyc5YACASsEqAoBkgbAAoErBKgKAZIHN0DgnJzhQADAQAAiXNlY3AyNTZrMaEC5CVh3BCTR34Px5lRV6QZk5KdlQiJ_n9SA7MQzjGVz2KDdGNwgkgbg3VkcIJIHYV3YWt1MgM"}'
2026-02-01 04:46:05.966 INFO [src.node.waku_node] REST service is ready !!
2026-02-01 04:46:05.973 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-01 04:46:05.973 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/store_node1_2026-02-01_04-46-04__a9c45ead-8304-41dd-85f5-cc83bd1e0f09__wakuorg_nwaku:latest.log
2026-02-01 04:46:05.974 DEBUG [src.node.waku_node] Starting Node...
2026-02-01 04:46:05.974 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-01 04:46:05.975 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-01 04:46:05.975 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.45.68
2026-02-01 04:46:05.975 DEBUG [src.node.docker_mananger] Generated ports ['61618', '61619', '61620', '61621', '61622']
2026-02-01 04:46:05.976 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-01 04:46:05.976 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-01 04:46:05.976 DEBUG [src.node.waku_node] Using volumes []
2026-02-01 04:46:05.976 DEBUG [src.node.docker_mananger] docker run -i -t -p 61618:61618 -p 61619:61619 -p 61620:61620 -p 61621:61621 -p 61622:61622 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=61620 --rest-port=61618 --tcp-port=61619 --discv5-udp-port=61621 --rest-address=0.0.0.0 --nat=extip:172.18.45.68 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=80bf6635933c2eeeadbe0fcad24ccc9bfab998ea55fe854b75642c84aa3b68d1 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=61622 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QBHodaKf1h6zzhXrDKlcBmxpQGO8E_UHHR_4NWCRQ_WUbsRE4p-XX0TVCO17vE8yd12il67mPb_6TAbPxl3fh3QCgmlkgnY0gmlwhKwSoCiKbXVsdGlhZGRyc5YACASsEqAoBkgbAAoErBKgKAZIHN0DgnJzhQADAQAAiXNlY3AyNTZrMaEC5CVh3BCTR34Px5lRV6QZk5KdlQiJ_n9SA7MQzjGVz2KDdGNwgkgbg3VkcIJIHYV3YWt1MgM --storenode=/ip4/172.18.160.40/tcp/18459/p2p/16Uiu2HAmAnFzjKPTPQsJhygG5G6NcPzJtRbJ38979DrDPaoSKPDs --store=true --relay=true
2026-02-01 04:46:06.170 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.45.68 waku 53a7526b287062c38af5e3d05ac78cee21ec030e572c24224be2b4c3fbadd120
2026-02-01 04:46:06.205 DEBUG [src.node.docker_mananger] Container started with ID 53a7526b2870. Setting up logs at ./log/docker/store_node1_2026-02-01_04-46-04__a9c45ead-8304-41dd-85f5-cc83bd1e0f09__wakuorg_nwaku:latest.log
2026-02-01 04:46:06.206 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 61618
2026-02-01 04:46:06.206 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-01 04:46:07.208 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61618/health" -H "Content-Type: application/json" -d 'None'
2026-02-01 04:46:07.212 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"READY"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"READY"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"READY"},{"Legacy Store Client":"READY"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-01 04:46:07.213 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-01 04:46:07.213 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61618/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-01 04:46:07.216 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.45.68/tcp/61619/p2p/16Uiu2HAmDUtTV695J33G1v596p2E55Py4hE3EunivKc3QsZZPjUY","/ip4/172.18.45.68/tcp/61620/ws/p2p/16Uiu2HAmDUtTV695J33G1v596p2E55Py4hE3EunivKc3QsZZPjUY"],"enrUri":"enr:-L24QEB1v8-La1YoGymmvytyMF1niWSKSd_VbWTU3gkPzy3Aa9ctFSHnvLkNVLsa-2z9I1GyAKyvWA80FGqocm2IpV0CgmlkgnY0gmlwhKwSLUSKbXVsdGlhZGRyc5YACASsEi1EBvCzAAoErBItRAbwtN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDDEU3I7-2yjEYje6SWCR1RQqRKr5RvC-bgWEAobcxvZWDdGNwgvCzg3VkcILwtYV3YWt1MgM"}'
2026-02-01 04:46:07.216 INFO [src.node.waku_node] REST service is ready !!
2026-02-01 04:46:07.216 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:61618/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.160.40/tcp/18459/p2p/16Uiu2HAmAnFzjKPTPQsJhygG5G6NcPzJtRbJ38979DrDPaoSKPDs"]'
2026-02-01 04:46:07.219 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-01 04:46:07.219 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:18458/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-01 04:46:07.222 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-01 04:46:07.222 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:61618/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-01 04:46:07.224 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-01 04:46:07.225 DEBUG [src.steps.store] Relaying message
2026-02-01 04:46:07.225 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:18458/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-01 04:46:07.230 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-01 04:46:07.231 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-01 04:46:07.432 DEBUG [src.steps.store] Relaying message
2026-02-01 04:46:07.432 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:18458/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-01 04:46:07.438 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-01 04:46:07.439 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-01 04:46:07.639 DEBUG [src.steps.store] Relaying message
2026-02-01 04:46:07.640 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:18458/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-01 04:46:07.645 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-01 04:46:07.645 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-01 04:46:07.846 DEBUG [src.steps.store] Relaying message
2026-02-01 04:46:07.847 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:18458/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-01 04:46:07.851 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-01 04:46:07.852 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-01 04:46:08.053 DEBUG [src.steps.store] Relaying message
2026-02-01 04:46:08.053 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:18458/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-01 04:46:08.059 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-01 04:46:08.059 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-01 04:46:08.260 DEBUG [src.steps.store] Relaying message
2026-02-01 04:46:08.261 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:18458/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-01 04:46:08.266 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-01 04:46:08.267 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-01 04:46:08.468 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18458/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=1769921164225200992&endTime=1769921169225413024&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
2026-02-01 04:46:08.471 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x926f73f792ac949809903a251bc1f782fb9619b49efb092ae68f20cf139294d6"},{"messageHash":"0x131a717701f110f90928eeb8029a69857258450f7c2966eefde35ffe187ed9d6"},{"messageHash":"0xdf528fe6d57c8fae511f9cdbc460e94fe4f6ad40b66f78b8a0a6adb627bf0816"},{"messageHash":"0x43c0330fa3c1a653fae72bf22227ec451d4b514f0330f65c33d24ceaf84a9f9b"},{"messageHash":"0x30a1d1a80e0a7c832ecbd2da3d8c253c4f6fb710219828e1d1f6ed8e0790be8d"}]}'
2026-02-01 04:46:08.472 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61618/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=1769921164225200992&endTime=1769921169225413024&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
2026-02-01 04:46:08.474 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x926f73f792ac949809903a251bc1f782fb9619b49efb092ae68f20cf139294d6"},{"messageHash":"0x131a717701f110f90928eeb8029a69857258450f7c2966eefde35ffe187ed9d6"},{"messageHash":"0xdf528fe6d57c8fae511f9cdbc460e94fe4f6ad40b66f78b8a0a6adb627bf0816"},{"messageHash":"0x43c0330fa3c1a653fae72bf22227ec451d4b514f0330f65c33d24ceaf84a9f9b"},{"messageHash":"0x30a1d1a80e0a7c832ecbd2da3d8c253c4f6fb710219828e1d1f6ed8e0790be8d"}]}'
2026-02-01 04:46:08.476 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-02-01 04:46:08.477 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-02-01 04:46:08.477 DEBUG [src.node.waku_node] Stopping container with id 2b7d4918de37
2026-02-01 04:46:09.011 DEBUG [src.node.waku_node] Container stopped.
2026-02-01 04:46:09.011 DEBUG [src.node.waku_node] Stopping container with id 53a7526b2870
2026-02-01 04:46:09.598 DEBUG [src.node.waku_node] Container stopped.
2026-02-01 04:46:09.599 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-02-01 04:46:09.606 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-01 04:46:09.612 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
