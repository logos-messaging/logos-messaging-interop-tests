2026-02-06 04:42:09.209 DEBUG [tests.conftest] Running fixture setup: test_id
2026-02-06 04:42:09.210 DEBUG [tests.conftest] Running test: test_time_filter_start_time_after_end_time with id: 2026-02-06_04-42-09__b3227767-3b67-4486-8659-ff21f7aaa26e
2026-02-06 04:42:09.211 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-02-06 04:42:09.211 DEBUG [src.steps.store] Running fixture setup: store_setup
2026-02-06 04:42:09.211 DEBUG [src.steps.store] Running fixture setup: node_setup
2026-02-06 04:42:09.220 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-06 04:42:09.221 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/publishing_node1_2026-02-06_04-42-09__b3227767-3b67-4486-8659-ff21f7aaa26e__wakuorg_nwaku:latest.log
2026-02-06 04:42:09.221 DEBUG [src.node.waku_node] Starting Node...
2026-02-06 04:42:09.221 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-06 04:42:09.223 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-06 04:42:09.223 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.49.182
2026-02-06 04:42:09.223 DEBUG [src.node.docker_mananger] Generated ports ['27830', '27831', '27832', '27833', '27834']
2026-02-06 04:42:09.223 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-06 04:42:09.223 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-06 04:42:09.224 DEBUG [src.node.waku_node] Using volumes []
2026-02-06 04:42:09.224 DEBUG [src.node.docker_mananger] docker run -i -t -p 27830:27830 -p 27831:27831 -p 27832:27832 -p 27833:27833 -p 27834:27834 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=27832 --rest-port=27830 --tcp-port=27831 --discv5-udp-port=27833 --rest-address=0.0.0.0 --nat=extip:172.18.49.182 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=1f3370787ea7fbc78c11fff96a6c680bd1cbc4b04eb3ecddaa5d25ff677d69ca --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=27834 --metrics-logging=true --store=true --relay=true
2026-02-06 04:42:09.417 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.49.182 waku 2295ecb6b984ef0bfe680d98a789c8f6f87eddae41c7a09a2dd309b45db75836
2026-02-06 04:42:09.451 DEBUG [src.node.docker_mananger] Container started with ID 2295ecb6b984. Setting up logs at ./log/docker/publishing_node1_2026-02-06_04-42-09__b3227767-3b67-4486-8659-ff21f7aaa26e__wakuorg_nwaku:latest.log
2026-02-06 04:42:09.451 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 27830
2026-02-06 04:42:09.452 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-06 04:42:09.487 ERROR [src.node.docker_mananger] Max retries reached for container bd60892443b2. Exiting log stream.
2026-02-06 04:42:10.049 ERROR [src.node.docker_mananger] Max retries reached for container 27e5bc2d447c. Exiting log stream.
2026-02-06 04:42:10.452 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27830/health" -H "Content-Type: application/json" -d 'None'
2026-02-06 04:42:10.456 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"READY"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"READY"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-06 04:42:10.456 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-06 04:42:10.456 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27830/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-06 04:42:10.458 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.49.182/tcp/27831/p2p/16Uiu2HAm1gQG4vfg2wgk2rjwHcgFRGLsy6sk3x87ZgzT7Z5RRWj6","/ip4/172.18.49.182/tcp/27832/ws/p2p/16Uiu2HAm1gQG4vfg2wgk2rjwHcgFRGLsy6sk3x87ZgzT7Z5RRWj6"],"enrUri":"enr:-L24QI2rtz1Uv1b5UUlNMQoMxwR7Yb4V9GSJ4WCR8B7BDDNQNcn8KC8HNubboYhd6gbzF2fB3WaQPuxrszoMVzszuocCgmlkgnY0gmlwhKwSMbaKbXVsdGlhZGRyc5YACASsEjG2Bmy3AAoErBIxtgZsuN0DgnJzhQADAQAAiXNlY3AyNTZrMaECXOwPSYLc-xQxwuZj-9qb5mUIlRmHZ8ftslUC_4fe0V2DdGNwgmy3g3VkcIJsuYV3YWt1MgM"}'
2026-02-06 04:42:10.458 INFO [src.node.waku_node] REST service is ready !!
2026-02-06 04:42:10.466 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-06 04:42:10.466 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/store_node1_2026-02-06_04-42-09__b3227767-3b67-4486-8659-ff21f7aaa26e__wakuorg_nwaku:latest.log
2026-02-06 04:42:10.466 DEBUG [src.node.waku_node] Starting Node...
2026-02-06 04:42:10.466 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-06 04:42:10.468 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-06 04:42:10.468 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.149.23
2026-02-06 04:42:10.468 DEBUG [src.node.docker_mananger] Generated ports ['33776', '33777', '33778', '33779', '33780']
2026-02-06 04:42:10.468 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-06 04:42:10.468 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-06 04:42:10.468 DEBUG [src.node.waku_node] Using volumes []
2026-02-06 04:42:10.468 DEBUG [src.node.docker_mananger] docker run -i -t -p 33776:33776 -p 33777:33777 -p 33778:33778 -p 33779:33779 -p 33780:33780 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=33778 --rest-port=33776 --tcp-port=33777 --discv5-udp-port=33779 --rest-address=0.0.0.0 --nat=extip:172.18.149.23 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=87e53f9abba89e570feaec1aae5fd590ab83a7e2d89cbb04df29fef7fafcb7e7 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=33780 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QI2rtz1Uv1b5UUlNMQoMxwR7Yb4V9GSJ4WCR8B7BDDNQNcn8KC8HNubboYhd6gbzF2fB3WaQPuxrszoMVzszuocCgmlkgnY0gmlwhKwSMbaKbXVsdGlhZGRyc5YACASsEjG2Bmy3AAoErBIxtgZsuN0DgnJzhQADAQAAiXNlY3AyNTZrMaECXOwPSYLc-xQxwuZj-9qb5mUIlRmHZ8ftslUC_4fe0V2DdGNwgmy3g3VkcIJsuYV3YWt1MgM --storenode=/ip4/172.18.49.182/tcp/27831/p2p/16Uiu2HAm1gQG4vfg2wgk2rjwHcgFRGLsy6sk3x87ZgzT7Z5RRWj6 --store=true --relay=true
2026-02-06 04:42:10.663 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.149.23 waku 7db915d833919afb812111439e2acad9a00dfb0e2f6998cde87b9be339454b36
2026-02-06 04:42:10.701 DEBUG [src.node.docker_mananger] Container started with ID 7db915d83391. Setting up logs at ./log/docker/store_node1_2026-02-06_04-42-09__b3227767-3b67-4486-8659-ff21f7aaa26e__wakuorg_nwaku:latest.log
2026-02-06 04:42:10.703 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 33776
2026-02-06 04:42:10.703 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-06 04:42:11.703 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:33776/health" -H "Content-Type: application/json" -d 'None'
2026-02-06 04:42:11.707 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"READY"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"READY"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"READY"},{"Legacy Store Client":"READY"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-06 04:42:11.708 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-06 04:42:11.708 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:33776/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-06 04:42:11.710 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.149.23/tcp/33777/p2p/16Uiu2HAm3j9rX5VEWrCquP4bCcgR37YweiXnNbgTVbWuczJpNvzh","/ip4/172.18.149.23/tcp/33778/ws/p2p/16Uiu2HAm3j9rX5VEWrCquP4bCcgR37YweiXnNbgTVbWuczJpNvzh"],"enrUri":"enr:-L24QCml1ezwS75s2pMOgUIAcpMMmZwAd8CwO3gANZjA-o42TcXMIyAqZ0-4lU1tju0fSnN9sMyPW3i5g_paWLFkrUACgmlkgnY0gmlwhKwSlReKbXVsdGlhZGRyc5YACASsEpUXBoPxAAoErBKVFwaD8t0DgnJzhQADAQAAiXNlY3AyNTZrMaECe1fjFjeHpMh3B6g4hO0D_l9qykHzXFymi9as-o1NIh6DdGNwgoPxg3VkcIKD84V3YWt1MgM"}'
2026-02-06 04:42:11.710 INFO [src.node.waku_node] REST service is ready !!
2026-02-06 04:42:11.711 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:33776/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.49.182/tcp/27831/p2p/16Uiu2HAm1gQG4vfg2wgk2rjwHcgFRGLsy6sk3x87ZgzT7Z5RRWj6"]'
2026-02-06 04:42:11.713 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-06 04:42:11.714 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27830/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-06 04:42:11.716 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-06 04:42:11.716 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:33776/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-06 04:42:11.719 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-06 04:42:11.720 DEBUG [src.steps.store] Relaying message
2026-02-06 04:42:11.720 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27830/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-06 04:42:11.725 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-06 04:42:11.726 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-06 04:42:11.926 DEBUG [src.steps.store] Relaying message
2026-02-06 04:42:11.927 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27830/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-06 04:42:11.933 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-06 04:42:11.933 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-06 04:42:12.134 DEBUG [src.steps.store] Relaying message
2026-02-06 04:42:12.134 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27830/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-06 04:42:12.140 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-06 04:42:12.140 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-06 04:42:12.341 DEBUG [src.steps.store] Relaying message
2026-02-06 04:42:12.341 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27830/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-06 04:42:12.349 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-06 04:42:12.349 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-06 04:42:12.550 DEBUG [src.steps.store] Relaying message
2026-02-06 04:42:12.550 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27830/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-06 04:42:12.555 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-06 04:42:12.555 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-06 04:42:12.756 DEBUG [src.steps.store] Relaying message
2026-02-06 04:42:12.757 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27830/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-06 04:42:12.762 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-06 04:42:12.763 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-06 04:42:12.963 DEBUG [tests.store.test_time_filter] inquering stored messages with start time 1770352933719876096 after end time 1770352928719863808
2026-02-06 04:42:12.963 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27830/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=1770352933719876096&endTime=1770352928719863808&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
2026-02-06 04:42:12.967 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[]}'
2026-02-06 04:42:12.967 DEBUG [tests.store.test_time_filter] response for wrong time message is {'requestId': '', 'statusCode': 200, 'statusDesc': 'OK', 'messages': []}
2026-02-06 04:42:12.968 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:33776/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=1770352933719876096&endTime=1770352928719863808&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
2026-02-06 04:42:12.970 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[]}'
2026-02-06 04:42:12.970 DEBUG [tests.store.test_time_filter] response for wrong time message is {'requestId': '', 'statusCode': 200, 'statusDesc': 'OK', 'messages': []}
2026-02-06 04:42:12.972 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-02-06 04:42:12.973 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-02-06 04:42:12.973 DEBUG [src.node.waku_node] Stopping container with id 2295ecb6b984
2026-02-06 04:42:13.526 DEBUG [src.node.waku_node] Container stopped.
2026-02-06 04:42:13.528 DEBUG [src.node.waku_node] Stopping container with id 7db915d83391
2026-02-06 04:42:14.079 DEBUG [src.node.waku_node] Container stopped.
2026-02-06 04:42:14.081 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-02-06 04:42:14.089 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-06 04:42:14.095 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
