2026-02-06 04:39:56.622 DEBUG [tests.conftest] Running fixture setup: test_id
2026-02-06 04:39:56.623 DEBUG [tests.conftest] Running test: test_light_push_with_valid_timestamps with id: 2026-02-06_04-39-56__6aa346c9-1d5e-4a23-b468-41d9f5b239e3
2026-02-06 04:39:56.623 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-02-06 04:39:56.623 DEBUG [src.steps.light_push] Running fixture setup: light_push_setup
2026-02-06 04:39:56.630 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-06 04:39:56.630 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node1_2026-02-06_04-39-56__6aa346c9-1d5e-4a23-b468-41d9f5b239e3__wakuorg_nwaku:latest.log
2026-02-06 04:39:56.630 DEBUG [src.node.waku_node] Starting Node...
2026-02-06 04:39:56.630 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-06 04:39:56.631 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-06 04:39:56.632 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.122.207
2026-02-06 04:39:56.632 DEBUG [src.node.docker_mananger] Generated ports ['24045', '24046', '24047', '24048', '24049']
2026-02-06 04:39:56.632 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-06 04:39:56.632 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-06 04:39:56.632 DEBUG [src.node.waku_node] Using volumes []
2026-02-06 04:39:56.632 DEBUG [src.node.docker_mananger] docker run -i -t -p 24045:24045 -p 24046:24046 -p 24047:24047 -p 24048:24048 -p 24049:24049 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=24047 --rest-port=24045 --tcp-port=24046 --discv5-udp-port=24048 --rest-address=0.0.0.0 --nat=extip:172.18.122.207 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=4df3dbccddc1a4ae12d30b6d7da51b66dd5cdf9538d5aba0cd1cbebc11ce8d7f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=24049 --metrics-logging=true --lightpush=true --relay=true
2026-02-06 04:39:56.816 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.122.207 waku 0ca0b3bf5ac61d0762e40f1b6bab69c7e1d0f22f8859dff66da0678fb1fed222
2026-02-06 04:39:56.850 DEBUG [src.node.docker_mananger] Container started with ID 0ca0b3bf5ac6. Setting up logs at ./log/docker/receiving_node1_2026-02-06_04-39-56__6aa346c9-1d5e-4a23-b468-41d9f5b239e3__wakuorg_nwaku:latest.log
2026-02-06 04:39:56.851 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 24045
2026-02-06 04:39:56.852 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-06 04:39:56.864 ERROR [src.node.docker_mananger] Max retries reached for container d1e0b00ba229. Exiting log stream.
2026-02-06 04:39:57.392 ERROR [src.node.docker_mananger] Max retries reached for container 53c126f259a8. Exiting log stream.
2026-02-06 04:39:57.852 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:24045/health" -H "Content-Type: application/json" -d 'None'
2026-02-06 04:39:57.855 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_READY","desc":"Node has no relay peers to fullfill push requests"},{"Legacy Lightpush":"NOT_READY","desc":"Node has no relay peers to fullfill push requests"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-06 04:39:57.855 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-06 04:39:57.856 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:24045/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-06 04:39:57.858 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.122.207/tcp/24046/p2p/16Uiu2HAm4ASzDPhVrkvQm6qXAgqF8kTNSAbt7TFHXaTRmVuuA3LQ","/ip4/172.18.122.207/tcp/24047/ws/p2p/16Uiu2HAm4ASzDPhVrkvQm6qXAgqF8kTNSAbt7TFHXaTRmVuuA3LQ"],"enrUri":"enr:-L24QDhkU4GVexVrp8FS-5ynvfUJNiiYWajR0kqryu2y6AiST-qdCDVr3oxx3SuylKTFlul7cM2AznVShiwtJqdLkrUCgmlkgnY0gmlwhKwSes-KbXVsdGlhZGRyc5YACASsEnrPBl3uAAoErBJ6zwZd790DgnJzhQADAQAAiXNlY3AyNTZrMaECgdLHfZyEAwLHVdTdt2SdAa4PmCyJnqBjeTdTsMKVAtWDdGNwgl3ug3VkcIJd8IV3YWt1Mgk"}'
2026-02-06 04:39:57.858 INFO [src.node.waku_node] REST service is ready !!
2026-02-06 04:39:57.865 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-06 04:39:57.865 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node2_2026-02-06_04-39-56__6aa346c9-1d5e-4a23-b468-41d9f5b239e3__wakuorg_nwaku:latest.log
2026-02-06 04:39:57.865 DEBUG [src.node.waku_node] Starting Node...
2026-02-06 04:39:57.865 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-06 04:39:57.866 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-06 04:39:57.867 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.45.55
2026-02-06 04:39:57.867 DEBUG [src.node.docker_mananger] Generated ports ['8552', '8553', '8554', '8555', '8556']
2026-02-06 04:39:57.867 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-06 04:39:57.867 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-06 04:39:57.867 DEBUG [src.node.waku_node] Using volumes []
2026-02-06 04:39:57.867 DEBUG [src.node.docker_mananger] docker run -i -t -p 8552:8552 -p 8553:8553 -p 8554:8554 -p 8555:8555 -p 8556:8556 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=8554 --rest-port=8552 --tcp-port=8553 --discv5-udp-port=8555 --rest-address=0.0.0.0 --nat=extip:172.18.45.55 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f2d36b5cac2c31a6a7eb5b2f610bcae7c0179a96bdb0ab34afb8bccd49a0aab1 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=8556 --metrics-logging=true --lightpush=false --relay=true
2026-02-06 04:39:58.047 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.45.55 waku 5dc3181bd2ff300f477b25c4ec7ac42ae958f5035fa0cabf385475c7bb259b4c
2026-02-06 04:39:58.084 DEBUG [src.node.docker_mananger] Container started with ID 5dc3181bd2ff. Setting up logs at ./log/docker/receiving_node2_2026-02-06_04-39-56__6aa346c9-1d5e-4a23-b468-41d9f5b239e3__wakuorg_nwaku:latest.log
2026-02-06 04:39:58.084 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 8552
2026-02-06 04:39:58.085 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-06 04:39:59.086 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8552/health" -H "Content-Type: application/json" -d 'None'
2026-02-06 04:39:59.089 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-06 04:39:59.089 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-06 04:39:59.089 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8552/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-06 04:39:59.092 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.45.55/tcp/8553/p2p/16Uiu2HAmHTDLrgCktboUM1sXn7o6WMcXmdLqdw86yqm599PEwBYp","/ip4/172.18.45.55/tcp/8554/ws/p2p/16Uiu2HAmHTDLrgCktboUM1sXn7o6WMcXmdLqdw86yqm599PEwBYp"],"enrUri":"enr:-L24QIFtBPWcZeW07u8kVYkEkUhXm4rpWIIk66WwqfN8Jy6kdtSZHuv6awrDgm-UWjJE9FvCveUatqudtz8EEl7vEB4CgmlkgnY0gmlwhKwSLTeKbXVsdGlhZGRyc5YACASsEi03BiFpAAoErBItNwYhat0DgnJzhQADAQAAiXNlY3AyNTZrMaEDR0Yn183Bsmc61gu0rax9GfNlbFQyti5683YUqNUKZp2DdGNwgiFpg3VkcIIha4V3YWt1MgE"}'
2026-02-06 04:39:59.092 INFO [src.node.waku_node] REST service is ready !!
2026-02-06 04:39:59.092 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:8552/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.122.207/tcp/24046/p2p/16Uiu2HAm4ASzDPhVrkvQm6qXAgqF8kTNSAbt7TFHXaTRmVuuA3LQ"]'
2026-02-06 04:39:59.123 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-06 04:39:59.132 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-06 04:39:59.133 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/lightpush_node1_2026-02-06_04-39-56__6aa346c9-1d5e-4a23-b468-41d9f5b239e3__wakuorg_nwaku:latest.log
2026-02-06 04:39:59.133 DEBUG [src.node.waku_node] Starting Node...
2026-02-06 04:39:59.133 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-06 04:39:59.137 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-06 04:39:59.137 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.187.133
2026-02-06 04:39:59.138 DEBUG [src.node.docker_mananger] Generated ports ['17629', '17630', '17631', '17632', '17633']
2026-02-06 04:39:59.139 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-06 04:39:59.141 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-06 04:39:59.141 DEBUG [src.node.waku_node] Using volumes []
2026-02-06 04:39:59.141 DEBUG [src.node.docker_mananger] docker run -i -t -p 17629:17629 -p 17630:17630 -p 17631:17631 -p 17632:17632 -p 17633:17633 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=17631 --rest-port=17629 --tcp-port=17630 --discv5-udp-port=17632 --rest-address=0.0.0.0 --nat=extip:172.18.187.133 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=40b966ceda2a46377a549e71200eeed9dae1930c8baef327aa01b1bc83aa3fab --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=17633 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QDhkU4GVexVrp8FS-5ynvfUJNiiYWajR0kqryu2y6AiST-qdCDVr3oxx3SuylKTFlul7cM2AznVShiwtJqdLkrUCgmlkgnY0gmlwhKwSes-KbXVsdGlhZGRyc5YACASsEnrPBl3uAAoErBJ6zwZd790DgnJzhQADAQAAiXNlY3AyNTZrMaECgdLHfZyEAwLHVdTdt2SdAa4PmCyJnqBjeTdTsMKVAtWDdGNwgl3ug3VkcIJd8IV3YWt1Mgk --lightpushnode=/ip4/172.18.122.207/tcp/24046/p2p/16Uiu2HAm4ASzDPhVrkvQm6qXAgqF8kTNSAbt7TFHXaTRmVuuA3LQ --lightpush=true --relay=true
2026-02-06 04:39:59.328 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.187.133 waku 1f98ac7644c8b4832c4472821a13a29f6be8079192c2af89ea78f57a18f5711d
2026-02-06 04:39:59.358 DEBUG [src.node.docker_mananger] Container started with ID 1f98ac7644c8. Setting up logs at ./log/docker/lightpush_node1_2026-02-06_04-39-56__6aa346c9-1d5e-4a23-b468-41d9f5b239e3__wakuorg_nwaku:latest.log
2026-02-06 04:39:59.359 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 17629
2026-02-06 04:39:59.359 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-06 04:40:00.360 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17629/health" -H "Content-Type: application/json" -d 'None'
2026-02-06 04:40:00.364 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_READY","desc":"Node has no relay peers to fullfill push requests"},{"Legacy Lightpush":"NOT_READY","desc":"Node has no relay peers to fullfill push requests"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"READY"},{"Legacy Lightpush Client":"READY"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-06 04:40:00.364 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-06 04:40:00.364 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17629/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-06 04:40:00.366 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.187.133/tcp/17630/p2p/16Uiu2HAkvA3SNihZCGAFe81T5KXbtQEGcvtQuhW4MqGRRi4zc6ab","/ip4/172.18.187.133/tcp/17631/ws/p2p/16Uiu2HAkvA3SNihZCGAFe81T5KXbtQEGcvtQuhW4MqGRRi4zc6ab"],"enrUri":"enr:-L24QHEP7tZgoRItXIi-ZBSqRzbKptzttU0xqBunKvNo_D95C4IKqj64b1Y1dkoUm1XpWfdZfC6I68zSaZ7T8tNs1egCgmlkgnY0gmlwhKwSu4WKbXVsdGlhZGRyc5YACASsEruFBkTeAAoErBK7hQZE390DgnJzhQADAQAAiXNlY3AyNTZrMaECCtqoLuKZ0UF8wcXraaaFg8c9DuNPVhWOoLZC8gieMHiDdGNwgkTeg3VkcIJE4IV3YWt1Mgk"}'
2026-02-06 04:40:00.367 INFO [src.node.waku_node] REST service is ready !!
2026-02-06 04:40:00.367 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17629/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.122.207/tcp/24046/p2p/16Uiu2HAm4ASzDPhVrkvQm6qXAgqF8kTNSAbt7TFHXaTRmVuuA3LQ"]'
2026-02-06 04:40:00.421 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-06 04:40:00.423 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17629/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.45.55/tcp/8553/p2p/16Uiu2HAmHTDLrgCktboUM1sXn7o6WMcXmdLqdw86yqm599PEwBYp"]'
2026-02-06 04:40:00.447 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-06 04:40:00.448 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:24045/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-06 04:40:00.460 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-06 04:40:00.461 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:8552/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-06 04:40:00.465 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-06 04:40:00.466 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17629/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-06 04:40:00.468 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-06 04:40:00.471 DEBUG [tests.light_push.test_publish] Running test with timestamp Now
2026-02-06 04:40:00.472 DEBUG [src.steps.light_push] Lightpushing message
2026-02-06 04:40:00.472 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17629/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1770352400434804224}}'
2026-02-06 04:40:00.485 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-06 04:40:00.485 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-06 04:40:00.586 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2026-02-06 04:40:00.586 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:24045/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-06 04:40:00.589 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770352400434804224,"ephemeral":false,"proof":""}]'
2026-02-06 04:40:00.590 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2026-02-06 04:40:00.590 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8552/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-06 04:40:00.592 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770352400434804224,"ephemeral":false,"proof":""}]'
2026-02-06 04:40:00.594 DEBUG [src.steps.light_push] Checking that peer NODE_3:wakuorg/nwaku:latest can find the lightpushed message
2026-02-06 04:40:00.594 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17629/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-06 04:40:00.596 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770352400434804224,"ephemeral":false,"proof":""}]'
2026-02-06 04:40:00.597 DEBUG [tests.light_push.test_publish] Running test with timestamp Far future
2026-02-06 04:40:00.598 DEBUG [src.steps.light_push] Lightpushing message
2026-02-06 04:40:00.598 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17629/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 2085712400434787072}}'
2026-02-06 04:40:00.612 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-06 04:40:00.612 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-06 04:40:00.712 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2026-02-06 04:40:00.713 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:24045/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-06 04:40:00.715 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":2085712400434787072,"ephemeral":false,"proof":""}]'
2026-02-06 04:40:00.717 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2026-02-06 04:40:00.717 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8552/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-06 04:40:00.719 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":2085712400434787072,"ephemeral":false,"proof":""}]'
2026-02-06 04:40:00.720 DEBUG [src.steps.light_push] Checking that peer NODE_3:wakuorg/nwaku:latest can find the lightpushed message
2026-02-06 04:40:00.721 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17629/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-06 04:40:00.723 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":2085712400434787072,"ephemeral":false,"proof":""}]'
2026-02-06 04:40:00.724 DEBUG [tests.light_push.test_publish] Running test with timestamp Recent past
2026-02-06 04:40:00.724 DEBUG [src.steps.light_push] Lightpushing message
2026-02-06 04:40:00.725 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17629/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1770348800434787072}}'
2026-02-06 04:40:00.737 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-06 04:40:00.738 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-06 04:40:00.838 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2026-02-06 04:40:00.838 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:24045/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-06 04:40:00.841 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770348800434787072,"ephemeral":false,"proof":""}]'
2026-02-06 04:40:00.842 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2026-02-06 04:40:00.842 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8552/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-06 04:40:00.845 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770348800434787072,"ephemeral":false,"proof":""}]'
2026-02-06 04:40:00.846 DEBUG [src.steps.light_push] Checking that peer NODE_3:wakuorg/nwaku:latest can find the lightpushed message
2026-02-06 04:40:00.846 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17629/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-06 04:40:00.848 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770348800434787072,"ephemeral":false,"proof":""}]'
2026-02-06 04:40:00.850 DEBUG [tests.light_push.test_publish] Running test with timestamp Near future
2026-02-06 04:40:00.850 DEBUG [src.steps.light_push] Lightpushing message
2026-02-06 04:40:00.850 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17629/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1770356000434787072}}'
2026-02-06 04:40:00.863 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-06 04:40:00.864 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-06 04:40:00.964 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2026-02-06 04:40:00.964 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:24045/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-06 04:40:00.967 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770356000434787072,"ephemeral":false,"proof":""}]'
2026-02-06 04:40:00.968 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2026-02-06 04:40:00.968 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8552/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-06 04:40:00.970 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770356000434787072,"ephemeral":false,"proof":""}]'
2026-02-06 04:40:00.971 DEBUG [src.steps.light_push] Checking that peer NODE_3:wakuorg/nwaku:latest can find the lightpushed message
2026-02-06 04:40:00.972 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17629/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-06 04:40:00.974 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770356000434787072,"ephemeral":false,"proof":""}]'
2026-02-06 04:40:00.975 DEBUG [tests.light_push.test_publish] Running test with timestamp Positive number
2026-02-06 04:40:00.976 DEBUG [src.steps.light_push] Lightpushing message
2026-02-06 04:40:00.976 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17629/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1}}'
2026-02-06 04:40:00.988 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-06 04:40:00.988 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-06 04:40:01.088 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2026-02-06 04:40:01.089 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:24045/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-06 04:40:01.091 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1,"ephemeral":false,"proof":""}]'
2026-02-06 04:40:01.093 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2026-02-06 04:40:01.093 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8552/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-06 04:40:01.095 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1,"ephemeral":false,"proof":""}]'
2026-02-06 04:40:01.097 DEBUG [src.steps.light_push] Checking that peer NODE_3:wakuorg/nwaku:latest can find the lightpushed message
2026-02-06 04:40:01.097 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17629/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-06 04:40:01.099 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1,"ephemeral":false,"proof":""}]'
2026-02-06 04:40:01.101 DEBUG [tests.light_push.test_publish] Running test with timestamp Negative number
2026-02-06 04:40:01.101 DEBUG [src.steps.light_push] Lightpushing message
2026-02-06 04:40:01.101 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17629/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": -1}}'
2026-02-06 04:40:01.114 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-06 04:40:01.114 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-06 04:40:01.217 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2026-02-06 04:40:01.217 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:24045/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-06 04:40:01.220 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":-1,"ephemeral":false,"proof":""}]'
2026-02-06 04:40:01.222 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2026-02-06 04:40:01.222 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8552/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-06 04:40:01.224 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":-1,"ephemeral":false,"proof":""}]'
2026-02-06 04:40:01.225 DEBUG [src.steps.light_push] Checking that peer NODE_3:wakuorg/nwaku:latest can find the lightpushed message
2026-02-06 04:40:01.226 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17629/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-06 04:40:01.228 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":-1,"ephemeral":false,"proof":""}]'
2026-02-06 04:40:01.230 DEBUG [tests.light_push.test_publish] Running test with timestamp DST change
2026-02-06 04:40:01.230 DEBUG [src.steps.light_push] Lightpushing message
2026-02-06 04:40:01.230 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17629/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1583632800000000000}}'
2026-02-06 04:40:01.244 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-06 04:40:01.244 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-06 04:40:01.345 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2026-02-06 04:40:01.345 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:24045/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-06 04:40:01.347 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1583632800000000000,"ephemeral":false,"proof":""}]'
2026-02-06 04:40:01.349 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2026-02-06 04:40:01.349 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8552/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-06 04:40:01.351 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1583632800000000000,"ephemeral":false,"proof":""}]'
2026-02-06 04:40:01.352 DEBUG [src.steps.light_push] Checking that peer NODE_3:wakuorg/nwaku:latest can find the lightpushed message
2026-02-06 04:40:01.352 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17629/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-06 04:40:01.354 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1583632800000000000,"ephemeral":false,"proof":""}]'
2026-02-06 04:40:01.358 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-02-06 04:40:01.359 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-02-06 04:40:01.359 DEBUG [src.node.waku_node] Stopping container with id 0ca0b3bf5ac6
2026-02-06 04:40:01.898 DEBUG [src.node.waku_node] Container stopped.
2026-02-06 04:40:01.898 DEBUG [src.node.waku_node] Stopping container with id 5dc3181bd2ff
2026-02-06 04:40:02.455 DEBUG [src.node.waku_node] Container stopped.
2026-02-06 04:40:02.456 DEBUG [src.node.waku_node] Stopping container with id 1f98ac7644c8
2026-02-06 04:40:02.711 ERROR [src.node.docker_mananger] Max retries reached for container 0ca0b3bf5ac6. Exiting log stream.
2026-02-06 04:40:03.007 DEBUG [src.node.waku_node] Container stopped.
2026-02-06 04:40:03.008 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-02-06 04:40:03.020 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-06 04:40:03.029 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-06 04:40:03.042 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
