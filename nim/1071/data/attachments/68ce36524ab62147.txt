2026-02-06 04:38:47.877 DEBUG [tests.conftest] Running fixture setup: test_id
2026-02-06 04:38:47.878 DEBUG [tests.conftest] Running test: test_light_push_with_missing_content_topic with id: 2026-02-06_04-38-47__f9270afc-1009-4530-9a1f-d46fee8eacdf
2026-02-06 04:38:47.878 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-02-06 04:38:47.878 DEBUG [src.steps.light_push] Running fixture setup: light_push_setup
2026-02-06 04:38:47.885 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-06 04:38:47.885 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node1_2026-02-06_04-38-47__f9270afc-1009-4530-9a1f-d46fee8eacdf__wakuorg_nwaku:latest.log
2026-02-06 04:38:47.886 DEBUG [src.node.waku_node] Starting Node...
2026-02-06 04:38:47.886 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-06 04:38:47.887 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-06 04:38:47.887 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.118.134
2026-02-06 04:38:47.887 DEBUG [src.node.docker_mananger] Generated ports ['6435', '6436', '6437', '6438', '6439']
2026-02-06 04:38:47.888 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-06 04:38:47.888 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-06 04:38:47.888 DEBUG [src.node.waku_node] Using volumes []
2026-02-06 04:38:47.888 DEBUG [src.node.docker_mananger] docker run -i -t -p 6435:6435 -p 6436:6436 -p 6437:6437 -p 6438:6438 -p 6439:6439 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=6437 --rest-port=6435 --tcp-port=6436 --discv5-udp-port=6438 --rest-address=0.0.0.0 --nat=extip:172.18.118.134 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bbfa767feffa26d0258b2c5e8ffa0d4b0da8128ca0ef2ac4ecc6a868764fbbf6 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=6439 --metrics-logging=true --lightpush=true --relay=true
2026-02-06 04:38:48.073 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.118.134 waku da2d038766833ef935cdf03cf8d992fd0cd58cfac448260504a174af8ae4c7cf
2026-02-06 04:38:48.104 DEBUG [src.node.docker_mananger] Container started with ID da2d03876683. Setting up logs at ./log/docker/receiving_node1_2026-02-06_04-38-47__f9270afc-1009-4530-9a1f-d46fee8eacdf__wakuorg_nwaku:latest.log
2026-02-06 04:38:48.106 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 6435
2026-02-06 04:38:48.106 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-06 04:38:48.126 ERROR [src.node.docker_mananger] Max retries reached for container 93a70729ea65. Exiting log stream.
2026-02-06 04:38:48.631 ERROR [src.node.docker_mananger] Max retries reached for container ce84c33c8b3a. Exiting log stream.
2026-02-06 04:38:49.106 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:6435/health" -H "Content-Type: application/json" -d 'None'
2026-02-06 04:38:49.110 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_READY","desc":"Node has no relay peers to fullfill push requests"},{"Legacy Lightpush":"NOT_READY","desc":"Node has no relay peers to fullfill push requests"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-06 04:38:49.110 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-06 04:38:49.110 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:6435/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-06 04:38:49.112 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.118.134/tcp/6436/p2p/16Uiu2HAmKDhSvBnb6XbSMLdmicuTEk2nkZ8W8ZRPbByB3ZhWeRrq","/ip4/172.18.118.134/tcp/6437/ws/p2p/16Uiu2HAmKDhSvBnb6XbSMLdmicuTEk2nkZ8W8ZRPbByB3ZhWeRrq"],"enrUri":"enr:-L24QBuWm54Y8J0i-akNDU7XGDlQFUpF41_Cg2wyLYAH8tJEYgCA9j1u4v_1hlqewRrTlxblK2iA_FIgiu4I0tFwg2MCgmlkgnY0gmlwhKwSdoaKbXVsdGlhZGRyc5YACASsEnaGBhkkAAoErBJ2hgYZJd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDYYctDyWi18zn5aOsGblbZH5xwQXNue3j4fFfNy8JGUKDdGNwghkkg3VkcIIZJoV3YWt1Mgk"}'
2026-02-06 04:38:49.112 INFO [src.node.waku_node] REST service is ready !!
2026-02-06 04:38:49.119 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-06 04:38:49.120 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node2_2026-02-06_04-38-47__f9270afc-1009-4530-9a1f-d46fee8eacdf__wakuorg_nwaku:latest.log
2026-02-06 04:38:49.120 DEBUG [src.node.waku_node] Starting Node...
2026-02-06 04:38:49.120 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-06 04:38:49.121 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-06 04:38:49.121 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.70.180
2026-02-06 04:38:49.122 DEBUG [src.node.docker_mananger] Generated ports ['39915', '39916', '39917', '39918', '39919']
2026-02-06 04:38:49.122 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-06 04:38:49.122 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-06 04:38:49.122 DEBUG [src.node.waku_node] Using volumes []
2026-02-06 04:38:49.122 DEBUG [src.node.docker_mananger] docker run -i -t -p 39915:39915 -p 39916:39916 -p 39917:39917 -p 39918:39918 -p 39919:39919 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=39917 --rest-port=39915 --tcp-port=39916 --discv5-udp-port=39918 --rest-address=0.0.0.0 --nat=extip:172.18.70.180 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=eace4ba48ecf6f3958f6cb9e51b124e7a050ce2f6cf6a0bf3cafeda0ecec66f1 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=39919 --metrics-logging=true --lightpush=false --relay=true
2026-02-06 04:38:49.297 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.70.180 waku dcfadbb74c6b186b21a4371b02474323bb600fb610600e5b5a5569c0a3ec8942
2026-02-06 04:38:49.328 DEBUG [src.node.docker_mananger] Container started with ID dcfadbb74c6b. Setting up logs at ./log/docker/receiving_node2_2026-02-06_04-38-47__f9270afc-1009-4530-9a1f-d46fee8eacdf__wakuorg_nwaku:latest.log
2026-02-06 04:38:49.328 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 39915
2026-02-06 04:38:49.328 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-06 04:38:50.329 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39915/health" -H "Content-Type: application/json" -d 'None'
2026-02-06 04:38:50.333 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-06 04:38:50.333 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-06 04:38:50.333 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39915/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-06 04:38:50.335 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.70.180/tcp/39916/p2p/16Uiu2HAm4dMXWjj6WczkKQq8nQbW8pE9PV2sgPH7KfLhvupUyGYP","/ip4/172.18.70.180/tcp/39917/ws/p2p/16Uiu2HAm4dMXWjj6WczkKQq8nQbW8pE9PV2sgPH7KfLhvupUyGYP"],"enrUri":"enr:-L24QC8CgNUwethmGM3Jmwnj_qiA82XMdZ4KqslGAUOyZ3rWa2crC4wS817F0CrFkv67OvIZTYXM4BpEALJNestZ0fwCgmlkgnY0gmlwhKwSRrSKbXVsdGlhZGRyc5YACASsEka0BpvsAAoErBJGtAab7d0DgnJzhQADAQAAiXNlY3AyNTZrMaECiLdJfHfybYXAw7p1TKmsa_eg-_LMYkITGA0ezMlgbYiDdGNwgpvsg3VkcIKb7oV3YWt1MgE"}'
2026-02-06 04:38:50.335 INFO [src.node.waku_node] REST service is ready !!
2026-02-06 04:38:50.336 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39915/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.118.134/tcp/6436/p2p/16Uiu2HAmKDhSvBnb6XbSMLdmicuTEk2nkZ8W8ZRPbByB3ZhWeRrq"]'
2026-02-06 04:38:50.366 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-06 04:38:50.378 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-06 04:38:50.380 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/lightpush_node1_2026-02-06_04-38-47__f9270afc-1009-4530-9a1f-d46fee8eacdf__wakuorg_nwaku:latest.log
2026-02-06 04:38:50.381 DEBUG [src.node.waku_node] Starting Node...
2026-02-06 04:38:50.382 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-06 04:38:50.386 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-06 04:38:50.386 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.69.162
2026-02-06 04:38:50.386 DEBUG [src.node.docker_mananger] Generated ports ['31352', '31353', '31354', '31355', '31356']
2026-02-06 04:38:50.386 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-06 04:38:50.386 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-06 04:38:50.387 DEBUG [src.node.waku_node] Using volumes []
2026-02-06 04:38:50.387 DEBUG [src.node.docker_mananger] docker run -i -t -p 31352:31352 -p 31353:31353 -p 31354:31354 -p 31355:31355 -p 31356:31356 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=31354 --rest-port=31352 --tcp-port=31353 --discv5-udp-port=31355 --rest-address=0.0.0.0 --nat=extip:172.18.69.162 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ea89c2420eb257c199468210eb6431ccdb2276ea9b8ff682b4abe5d495a26c1e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=31356 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QBuWm54Y8J0i-akNDU7XGDlQFUpF41_Cg2wyLYAH8tJEYgCA9j1u4v_1hlqewRrTlxblK2iA_FIgiu4I0tFwg2MCgmlkgnY0gmlwhKwSdoaKbXVsdGlhZGRyc5YACASsEnaGBhkkAAoErBJ2hgYZJd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDYYctDyWi18zn5aOsGblbZH5xwQXNue3j4fFfNy8JGUKDdGNwghkkg3VkcIIZJoV3YWt1Mgk --lightpushnode=/ip4/172.18.118.134/tcp/6436/p2p/16Uiu2HAmKDhSvBnb6XbSMLdmicuTEk2nkZ8W8ZRPbByB3ZhWeRrq --lightpush=true --relay=true
2026-02-06 04:38:50.578 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.69.162 waku 955484f69b02e90874ecf03aa74e6c89bd355b4c19870a04b5d10092aa768f66
2026-02-06 04:38:50.610 DEBUG [src.node.docker_mananger] Container started with ID 955484f69b02. Setting up logs at ./log/docker/lightpush_node1_2026-02-06_04-38-47__f9270afc-1009-4530-9a1f-d46fee8eacdf__wakuorg_nwaku:latest.log
2026-02-06 04:38:50.610 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 31352
2026-02-06 04:38:50.610 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-06 04:38:51.611 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31352/health" -H "Content-Type: application/json" -d 'None'
2026-02-06 04:38:51.614 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_READY","desc":"Node has no relay peers to fullfill push requests"},{"Legacy Lightpush":"NOT_READY","desc":"Node has no relay peers to fullfill push requests"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"READY"},{"Legacy Lightpush Client":"READY"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-06 04:38:51.615 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-06 04:38:51.615 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31352/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-06 04:38:51.617 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.69.162/tcp/31353/p2p/16Uiu2HAkyfbNRFXpqLgPcdyXnnbhr79q66jGUu8ANhg7PVMNqZRY","/ip4/172.18.69.162/tcp/31354/ws/p2p/16Uiu2HAkyfbNRFXpqLgPcdyXnnbhr79q66jGUu8ANhg7PVMNqZRY"],"enrUri":"enr:-L24QO2hAgHCL3MUR670wl_KCvLigusRonJ54nEHmfCJTAgeXLYoUwulU9ceskA-FWijJY971jhusklclARhG6vmPS0CgmlkgnY0gmlwhKwSRaKKbXVsdGlhZGRyc5YACASsEkWiBnp5AAoErBJFogZ6et0DgnJzhQADAQAAiXNlY3AyNTZrMaECPv-qpe1tOXch4bpYTTV-_LvRDE8pKFUrwZiWnzaufl-DdGNwgnp5g3VkcIJ6e4V3YWt1Mgk"}'
2026-02-06 04:38:51.617 INFO [src.node.waku_node] REST service is ready !!
2026-02-06 04:38:51.617 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:31352/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.118.134/tcp/6436/p2p/16Uiu2HAmKDhSvBnb6XbSMLdmicuTEk2nkZ8W8ZRPbByB3ZhWeRrq"]'
2026-02-06 04:38:51.661 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-06 04:38:51.661 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:31352/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.70.180/tcp/39916/p2p/16Uiu2HAm4dMXWjj6WczkKQq8nQbW8pE9PV2sgPH7KfLhvupUyGYP"]'
2026-02-06 04:38:51.688 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-06 04:38:51.689 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:6435/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-06 04:38:51.695 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-06 04:38:51.696 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39915/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-06 04:38:51.699 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-06 04:38:51.699 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:31352/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-06 04:38:51.702 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-06 04:38:51.705 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:31352/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "timestamp": 1770352731704872960}}'
2026-02-06 04:38:51.707 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:31352/lightpush/v1/message. Response content: b'Invalid content body, could not decode: Unable to deserialize data: '
2026-02-06 04:38:51.709 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-02-06 04:38:51.710 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-02-06 04:38:51.710 DEBUG [src.node.waku_node] Stopping container with id da2d03876683
2026-02-06 04:38:52.250 DEBUG [src.node.waku_node] Container stopped.
2026-02-06 04:38:52.252 DEBUG [src.node.waku_node] Stopping container with id dcfadbb74c6b
2026-02-06 04:38:52.776 DEBUG [src.node.waku_node] Container stopped.
2026-02-06 04:38:52.776 DEBUG [src.node.waku_node] Stopping container with id 955484f69b02
2026-02-06 04:38:53.063 ERROR [src.node.docker_mananger] Max retries reached for container da2d03876683. Exiting log stream.
2026-02-06 04:38:53.310 DEBUG [src.node.waku_node] Container stopped.
2026-02-06 04:38:53.313 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-02-06 04:38:53.321 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-06 04:38:53.328 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-06 04:38:53.337 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
