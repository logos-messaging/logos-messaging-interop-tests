2026-01-29 04:36:14.264 DEBUG [tests.conftest] Running fixture setup: test_id
2026-01-29 04:36:14.264 DEBUG [tests.conftest] Running test: test_filter_unsubscribe_with_invalid_request_id with id: 2026-01-29_04-36-14__ad0420c3-b71e-4d9d-8d67-170ad47e66d1
2026-01-29 04:36:14.264 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-01-29 04:36:14.265 DEBUG [src.steps.filter] Running fixture setup: filter_setup
2026-01-29 04:36:14.265 DEBUG [src.steps.filter] Running fixture setup: setup_main_relay_node
2026-01-29 04:36:14.271 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-01-29 04:36:14.272 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2026-01-29_04-36-14__ad0420c3-b71e-4d9d-8d67-170ad47e66d1__wakuorg_nwaku:latest.log
2026-01-29 04:36:14.272 DEBUG [src.node.waku_node] Starting Node...
2026-01-29 04:36:14.272 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-01-29 04:36:14.273 DEBUG [src.node.docker_mananger] Network waku already exists
2026-01-29 04:36:14.274 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.105.101
2026-01-29 04:36:14.274 DEBUG [src.node.docker_mananger] Generated ports ['29797', '29798', '29799', '29800', '29801']
2026-01-29 04:36:14.274 DEBUG [src.node.waku_node] RLN credentials were not set
2026-01-29 04:36:14.274 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-01-29 04:36:14.274 DEBUG [src.node.waku_node] Using volumes []
2026-01-29 04:36:14.274 DEBUG [src.node.docker_mananger] docker run -i -t -p 29797:29797 -p 29798:29798 -p 29799:29799 -p 29800:29800 -p 29801:29801 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=29799 --rest-port=29797 --tcp-port=29798 --discv5-udp-port=29800 --rest-address=0.0.0.0 --nat=extip:172.18.105.101 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e9a31ec7d1becabb3ffe475ddbcd31becb46fbaffddf561af0b977a42fb7adfb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=29801 --metrics-logging=true --relay=true --filter=true
2026-01-29 04:36:14.459 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.105.101 waku 0fdf1ce63e5cc28fc6029116d6118663e7c921e60810676c2ee75ffe6e9e9274
2026-01-29 04:36:14.493 DEBUG [src.node.docker_mananger] Container started with ID 0fdf1ce63e5c. Setting up logs at ./log/docker/node1_2026-01-29_04-36-14__ad0420c3-b71e-4d9d-8d67-170ad47e66d1__wakuorg_nwaku:latest.log
2026-01-29 04:36:14.495 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 29797
2026-01-29 04:36:14.495 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-01-29 04:36:14.502 ERROR [src.node.docker_mananger] Max retries reached for container 4c54889abcff. Exiting log stream.
2026-01-29 04:36:15.061 ERROR [src.node.docker_mananger] Max retries reached for container 45bca06f7656. Exiting log stream.
2026-01-29 04:36:15.495 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:29797/health" -H "Content-Type: application/json" -d 'None'
2026-01-29 04:36:15.499 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_READY","desc":"Relay is not ready, filter will not be able to sort out messages"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-01-29 04:36:15.499 INFO [src.node.waku_node] Node protocols are initialized !!
2026-01-29 04:36:15.499 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:29797/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-01-29 04:36:15.502 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.105.101/tcp/29798/p2p/16Uiu2HAmHkAsZc7enX6A4TLuF2qQ6LuPua5ahP3Yqx2bbmcFauaB","/ip4/172.18.105.101/tcp/29799/ws/p2p/16Uiu2HAmHkAsZc7enX6A4TLuF2qQ6LuPua5ahP3Yqx2bbmcFauaB"],"enrUri":"enr:-L24QOC91HUVriKZ9vNznEXEepe5W7mR7j1AeLBSnLzA14n9Mi1fDNxpt5H8NmDIbtqYmV_V9wNcvuTFIyEJN-mOgkcCgmlkgnY0gmlwhKwSaWWKbXVsdGlhZGRyc5YACASsEmllBnRmAAoErBJpZQZ0Z90DgnJzhQADAQAAiXNlY3AyNTZrMaEDS548YuSZZrc2ieB9J7jdHNDkzb1C0hUNt6oCqOLaPbyDdGNwgnRmg3VkcIJ0aIV3YWt1MgU"}'
2026-01-29 04:36:15.502 INFO [src.node.waku_node] REST service is ready !!
2026-01-29 04:36:15.502 DEBUG [src.steps.filter] Running fixture setup: setup_main_filter_node
2026-01-29 04:36:15.509 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-01-29 04:36:15.509 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2026-01-29_04-36-14__ad0420c3-b71e-4d9d-8d67-170ad47e66d1__wakuorg_nwaku:latest.log
2026-01-29 04:36:15.509 DEBUG [src.node.waku_node] Starting Node...
2026-01-29 04:36:15.509 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-01-29 04:36:15.511 DEBUG [src.node.docker_mananger] Network waku already exists
2026-01-29 04:36:15.511 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.255.24
2026-01-29 04:36:15.511 DEBUG [src.node.docker_mananger] Generated ports ['52145', '52146', '52147', '52148', '52149']
2026-01-29 04:36:15.511 DEBUG [src.node.waku_node] RLN credentials were not set
2026-01-29 04:36:15.511 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-01-29 04:36:15.511 DEBUG [src.node.waku_node] Using volumes []
2026-01-29 04:36:15.512 DEBUG [src.node.docker_mananger] docker run -i -t -p 52145:52145 -p 52146:52146 -p 52147:52147 -p 52148:52148 -p 52149:52149 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=52147 --rest-port=52145 --tcp-port=52146 --discv5-udp-port=52148 --rest-address=0.0.0.0 --nat=extip:172.18.255.24 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e3bf3ecb29c6ca433504ee89a99488c2d0d37d2ad8a890ebf9d881ef7c390c24 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=52149 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QOC91HUVriKZ9vNznEXEepe5W7mR7j1AeLBSnLzA14n9Mi1fDNxpt5H8NmDIbtqYmV_V9wNcvuTFIyEJN-mOgkcCgmlkgnY0gmlwhKwSaWWKbXVsdGlhZGRyc5YACASsEmllBnRmAAoErBJpZQZ0Z90DgnJzhQADAQAAiXNlY3AyNTZrMaEDS548YuSZZrc2ieB9J7jdHNDkzb1C0hUNt6oCqOLaPbyDdGNwgnRmg3VkcIJ0aIV3YWt1MgU --filternode=/ip4/172.18.105.101/tcp/29798/p2p/16Uiu2HAmHkAsZc7enX6A4TLuF2qQ6LuPua5ahP3Yqx2bbmcFauaB
2026-01-29 04:36:15.696 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.255.24 waku 00d5bae1e249d316865f5909f4c47b20cabb36b25fa72e117a72dcf59f8d8d08
2026-01-29 04:36:15.726 DEBUG [src.node.docker_mananger] Container started with ID 00d5bae1e249. Setting up logs at ./log/docker/node2_2026-01-29_04-36-14__ad0420c3-b71e-4d9d-8d67-170ad47e66d1__wakuorg_nwaku:latest.log
2026-01-29 04:36:15.727 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 52145
2026-01-29 04:36:15.727 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-01-29 04:36:16.728 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52145/health" -H "Content-Type: application/json" -d 'None'
2026-01-29 04:36:16.732 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_MOUNTED"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"READY"}]}'
2026-01-29 04:36:16.732 INFO [src.node.waku_node] Node protocols are initialized !!
2026-01-29 04:36:16.733 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52145/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-01-29 04:36:16.735 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.255.24/tcp/52146/p2p/16Uiu2HAmTszB4QmLRdY42g9fBS2hzBEVFnU5b7FN49fH7Wxg2XyK","/ip4/172.18.255.24/tcp/52147/ws/p2p/16Uiu2HAmTszB4QmLRdY42g9fBS2hzBEVFnU5b7FN49fH7Wxg2XyK"],"enrUri":"enr:-L24QLSoUin6541QN06xNbC41df7Bvkwsgx_8u5TS3seccE3bu7eY3G5fvyQcbjpF-t5XJiRLt8KJBS-KOjxgno1CBMCgmlkgnY0gmlwhKwS_xiKbXVsdGlhZGRyc5YACASsEv8YBsuyAAoErBL_GAbLs90DgnJzhQADAQAAiXNlY3AyNTZrMaED4jOnrHVJm3VBVMxxYydaTprDdjfTw8UyyV83Q1SQHDKDdGNwgsuyg3VkcILLtIV3YWt1MgA"}'
2026-01-29 04:36:16.735 INFO [src.node.waku_node] REST service is ready !!
2026-01-29 04:36:16.736 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:52145/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.105.101/tcp/29798/p2p/16Uiu2HAmHkAsZc7enX6A4TLuF2qQ6LuPua5ahP3Yqx2bbmcFauaB"]'
2026-01-29 04:36:16.765 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-29 04:36:16.766 DEBUG [src.steps.filter] Running fixture setup: subscribe_main_nodes
2026-01-29 04:36:16.767 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:29797/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2026-01-29 04:36:16.780 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-29 04:36:16.782 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:52145/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "db8a67cf-b636-4f9a-9e02-7f1b8229db40", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
2026-01-29 04:36:16.793 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"db8a67cf-b636-4f9a-9e02-7f1b8229db40","statusDesc":"OK"}'
2026-01-29 04:36:16.795 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:52145/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": 1, "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
2026-01-29 04:36:16.798 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:52145/filter/v2/subscriptions. Response content: b'{"requestId":"unknown","statusDesc":"BAD_REQUEST: Failed to decode request: (status: 400 Bad Request, headers: , kind: Error, errobj: (status: 400 Bad Request, message: \\"Invalid content body, could not decode. Unable to deserialize data: \\", contentType: \\"text/plain\\"))"}'
2026-01-29 04:36:16.800 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-01-29 04:36:16.801 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-01-29 04:36:16.801 DEBUG [src.node.waku_node] Stopping container with id 0fdf1ce63e5c
2026-01-29 04:36:17.390 DEBUG [src.node.waku_node] Container stopped.
2026-01-29 04:36:17.390 DEBUG [src.node.waku_node] Stopping container with id 00d5bae1e249
2026-01-29 04:36:17.924 DEBUG [src.node.waku_node] Container stopped.
2026-01-29 04:36:17.925 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-01-29 04:36:17.935 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-01-29 04:36:17.939 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
