2026-01-29 05:04:43.666 DEBUG [tests.conftest] Running fixture setup: test_id
2026-01-29 05:04:43.666 DEBUG [tests.conftest] Running test: test_relay_subscribe_with_invalid_pubsub_topic_format with id: 2026-01-29_05-04-43__70f04fcd-21fa-4767-8b30-a97b17f6326e
2026-01-29 05:04:43.666 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-01-29 05:04:43.666 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2026-01-29 05:04:43.667 DEBUG [src.steps.relay] Running fixture setup: setup_main_relay_nodes
2026-01-29 05:04:43.673 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-01-29 05:04:43.673 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2026-01-29_05-04-43__70f04fcd-21fa-4767-8b30-a97b17f6326e__wakuorg_nwaku:latest.log
2026-01-29 05:04:43.673 DEBUG [src.node.waku_node] Starting Node...
2026-01-29 05:04:43.673 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-01-29 05:04:43.675 DEBUG [src.node.docker_mananger] Network waku already exists
2026-01-29 05:04:43.675 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.242.188
2026-01-29 05:04:43.675 DEBUG [src.node.docker_mananger] Generated ports ['48775', '48776', '48777', '48778', '48779']
2026-01-29 05:04:43.675 DEBUG [src.node.waku_node] RLN credentials were not set
2026-01-29 05:04:43.675 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-01-29 05:04:43.675 DEBUG [src.node.waku_node] Using volumes []
2026-01-29 05:04:43.676 DEBUG [src.node.docker_mananger] docker run -i -t -p 48775:48775 -p 48776:48776 -p 48777:48777 -p 48778:48778 -p 48779:48779 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=48777 --rest-port=48775 --tcp-port=48776 --discv5-udp-port=48778 --rest-address=0.0.0.0 --nat=extip:172.18.242.188 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=eaba271fd4d0f3fc8ac14aa4ddbe0e6fbd4c7ae3992b1f79c103152f5ef7f778 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=48779 --metrics-logging=true --relay=true
2026-01-29 05:04:43.857 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.242.188 waku 40dae9dd995afbe9f1feae3b62cf089285160617a52b83da3bc6aae75db9b883
2026-01-29 05:04:43.889 DEBUG [src.node.docker_mananger] Container started with ID 40dae9dd995a. Setting up logs at ./log/docker/node1_2026-01-29_05-04-43__70f04fcd-21fa-4767-8b30-a97b17f6326e__wakuorg_nwaku:latest.log
2026-01-29 05:04:43.889 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 48775
2026-01-29 05:04:43.890 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-01-29 05:04:43.907 ERROR [src.node.docker_mananger] Max retries reached for container 9c775e3666e7. Exiting log stream.
2026-01-29 05:04:44.468 ERROR [src.node.docker_mananger] Max retries reached for container 6f3a302c9343. Exiting log stream.
2026-01-29 05:04:44.891 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48775/health" -H "Content-Type: application/json" -d 'None'
2026-01-29 05:04:44.894 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-01-29 05:04:44.894 INFO [src.node.waku_node] Node protocols are initialized !!
2026-01-29 05:04:44.894 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48775/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-01-29 05:04:44.896 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.242.188/tcp/48776/p2p/16Uiu2HAkwmFQv8RBEqkhnQTk6txeEfR92zNJBzsjxxrCNMjNobuQ","/ip4/172.18.242.188/tcp/48777/ws/p2p/16Uiu2HAkwmFQv8RBEqkhnQTk6txeEfR92zNJBzsjxxrCNMjNobuQ"],"enrUri":"enr:-L24QKKf0VoodJtn23R-4KKq5AYkp1XffpJyIjx4W3_CNutvRUIHMk4HkjkYnEpcoss3Af3cRPGFvJ_vwkt3HGvMBCICgmlkgnY0gmlwhKwS8ryKbXVsdGlhZGRyc5YACASsEvK8Br6IAAoErBLyvAa-id0DgnJzhQADAQAAiXNlY3AyNTZrMaECIrs2VAy48fefvScNScnzrmAC-86Lfh3vADyc6POM7ueDdGNwgr6Ig3VkcIK-ioV3YWt1MgE"}'
2026-01-29 05:04:44.897 INFO [src.node.waku_node] REST service is ready !!
2026-01-29 05:04:44.903 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-01-29 05:04:44.903 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2026-01-29_05-04-43__70f04fcd-21fa-4767-8b30-a97b17f6326e__wakuorg_nwaku:latest.log
2026-01-29 05:04:44.903 DEBUG [src.node.waku_node] Starting Node...
2026-01-29 05:04:44.903 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-01-29 05:04:44.905 DEBUG [src.node.docker_mananger] Network waku already exists
2026-01-29 05:04:44.905 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.224.206
2026-01-29 05:04:44.905 DEBUG [src.node.docker_mananger] Generated ports ['3868', '3869', '3870', '3871', '3872']
2026-01-29 05:04:44.905 DEBUG [src.node.waku_node] RLN credentials were not set
2026-01-29 05:04:44.905 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-01-29 05:04:44.905 DEBUG [src.node.waku_node] Using volumes []
2026-01-29 05:04:44.906 DEBUG [src.node.docker_mananger] docker run -i -t -p 3868:3868 -p 3869:3869 -p 3870:3870 -p 3871:3871 -p 3872:3872 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=3870 --rest-port=3868 --tcp-port=3869 --discv5-udp-port=3871 --rest-address=0.0.0.0 --nat=extip:172.18.224.206 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=5fff7e029de79dfce6b63aca648ecd57024f5ec90848bce8811c9df2bb88e50c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=3872 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QKKf0VoodJtn23R-4KKq5AYkp1XffpJyIjx4W3_CNutvRUIHMk4HkjkYnEpcoss3Af3cRPGFvJ_vwkt3HGvMBCICgmlkgnY0gmlwhKwS8ryKbXVsdGlhZGRyc5YACASsEvK8Br6IAAoErBLyvAa-id0DgnJzhQADAQAAiXNlY3AyNTZrMaECIrs2VAy48fefvScNScnzrmAC-86Lfh3vADyc6POM7ueDdGNwgr6Ig3VkcIK-ioV3YWt1MgE
2026-01-29 05:04:45.082 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.224.206 waku 81f0cb7f47e9396b68dc529c90e4d0c8e7a1506a522d7e302d015e4f238900e9
2026-01-29 05:04:45.115 DEBUG [src.node.docker_mananger] Container started with ID 81f0cb7f47e9. Setting up logs at ./log/docker/node2_2026-01-29_05-04-43__70f04fcd-21fa-4767-8b30-a97b17f6326e__wakuorg_nwaku:latest.log
2026-01-29 05:04:45.116 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 3868
2026-01-29 05:04:45.116 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-01-29 05:04:46.117 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:3868/health" -H "Content-Type: application/json" -d 'None'
2026-01-29 05:04:46.131 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-01-29 05:04:46.132 INFO [src.node.waku_node] Node protocols are initialized !!
2026-01-29 05:04:46.132 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:3868/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-01-29 05:04:46.137 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.224.206/tcp/3869/p2p/16Uiu2HAmVMwTzsjLDnHBKb1JkXbD4rKMbCK65LASqRU4i7QENMBF","/ip4/172.18.224.206/tcp/3870/ws/p2p/16Uiu2HAmVMwTzsjLDnHBKb1JkXbD4rKMbCK65LASqRU4i7QENMBF"],"enrUri":"enr:-L24QK75zNKh_3xd21WhwbFY-3y-X7hTKW9D5VthZkmh4o1SXGrjIkduTLXk1VysrglUmeegWPTgKP88iVkwoRk5zngCgmlkgnY0gmlwhKwS4M6KbXVsdGlhZGRyc5YACASsEuDOBg8dAAoErBLgzgYPHt0DgnJzhQADAQAAiXNlY3AyNTZrMaED-DiK7GijiBFx6Ff_1jIcxJLFREGoV0PsQ5R9-sAy7pqDdGNwgg8dg3VkcIIPH4V3YWt1MgE"}'
2026-01-29 05:04:46.137 INFO [src.node.waku_node] REST service is ready !!
2026-01-29 05:04:46.138 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:3868/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.242.188/tcp/48776/p2p/16Uiu2HAkwmFQv8RBEqkhnQTk6txeEfR92zNJBzsjxxrCNMjNobuQ"]'
2026-01-29 05:04:46.140 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-29 05:04:46.141 DEBUG [tests.relay.test_subscribe] Running test with payload /test/2/rs/0/1
2026-01-29 05:04:46.141 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:48775/relay/v1/subscriptions" -H "Content-Type: application/json" -d '"/test/2/rs/0/1"'
2026-01-29 05:04:46.144 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:48775/relay/v1/subscriptions. Response content: b'Invalid content body, could not decode: Unable to deserialize data: '
2026-01-29 05:04:46.145 DEBUG [tests.relay.test_subscribe] Running test with payload /waku/3/rs/0/1
2026-01-29 05:04:46.145 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:48775/relay/v1/subscriptions" -H "Content-Type: application/json" -d '"/waku/3/rs/0/1"'
2026-01-29 05:04:46.147 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:48775/relay/v1/subscriptions. Response content: b'Invalid content body, could not decode: Unable to deserialize data: '
2026-01-29 05:04:46.148 DEBUG [tests.relay.test_subscribe] Running test with payload /waku/2/test/0/1
2026-01-29 05:04:46.148 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:48775/relay/v1/subscriptions" -H "Content-Type: application/json" -d '"/waku/2/test/0/1"'
2026-01-29 05:04:46.150 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:48775/relay/v1/subscriptions. Response content: b'Invalid content body, could not decode: Unable to deserialize data: '
2026-01-29 05:04:46.150 DEBUG [tests.relay.test_subscribe] Running test with payload /waku/2/rs/3/b
2026-01-29 05:04:46.151 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:48775/relay/v1/subscriptions" -H "Content-Type: application/json" -d '"/waku/2/rs/3/b"'
2026-01-29 05:04:46.153 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:48775/relay/v1/subscriptions. Response content: b'Invalid content body, could not decode: Unable to deserialize data: '
2026-01-29 05:04:46.153 DEBUG [tests.relay.test_subscribe] Running test with payload /waku/2/rs/0
2026-01-29 05:04:46.154 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:48775/relay/v1/subscriptions" -H "Content-Type: application/json" -d '"/waku/2/rs/0"'
2026-01-29 05:04:46.156 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:48775/relay/v1/subscriptions. Response content: b'Invalid content body, could not decode: Unable to deserialize data: '
2026-01-29 05:04:46.158 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-01-29 05:04:46.159 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-01-29 05:04:46.159 DEBUG [src.node.waku_node] Stopping container with id 40dae9dd995a
2026-01-29 05:04:46.686 DEBUG [src.node.waku_node] Container stopped.
2026-01-29 05:04:46.688 DEBUG [src.node.waku_node] Stopping container with id 81f0cb7f47e9
2026-01-29 05:04:47.190 DEBUG [src.node.waku_node] Container stopped.
2026-01-29 05:04:47.192 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-01-29 05:04:47.197 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-01-29 05:04:47.201 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
