2026-01-29 04:33:40.276 DEBUG [tests.conftest] Running fixture setup: test_id
2026-01-29 04:33:40.276 DEBUG [tests.conftest] Running test: test_filter_ping_on_peer_without_subscription with id: 2026-01-29_04-33-40__28ced732-cf8a-4c71-9fb3-c73109c40505
2026-01-29 04:33:40.276 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-01-29 04:33:40.276 DEBUG [src.steps.filter] Running fixture setup: filter_setup
2026-01-29 04:33:40.277 DEBUG [src.steps.filter] Running fixture setup: setup_main_relay_node
2026-01-29 04:33:40.283 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-01-29 04:33:40.283 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2026-01-29_04-33-40__28ced732-cf8a-4c71-9fb3-c73109c40505__wakuorg_nwaku:latest.log
2026-01-29 04:33:40.284 DEBUG [src.node.waku_node] Starting Node...
2026-01-29 04:33:40.284 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-01-29 04:33:40.285 DEBUG [src.node.docker_mananger] Network waku already exists
2026-01-29 04:33:40.285 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.117.34
2026-01-29 04:33:40.286 DEBUG [src.node.docker_mananger] Generated ports ['14934', '14935', '14936', '14937', '14938']
2026-01-29 04:33:40.286 DEBUG [src.node.waku_node] RLN credentials were not set
2026-01-29 04:33:40.286 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-01-29 04:33:40.286 DEBUG [src.node.waku_node] Using volumes []
2026-01-29 04:33:40.286 DEBUG [src.node.docker_mananger] docker run -i -t -p 14934:14934 -p 14935:14935 -p 14936:14936 -p 14937:14937 -p 14938:14938 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=14936 --rest-port=14934 --tcp-port=14935 --discv5-udp-port=14937 --rest-address=0.0.0.0 --nat=extip:172.18.117.34 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=7a1ee3c88fe7a4fcedfafcbc6abad0d2c4ff443fcdbf00d07c5cb3cf1ebbe6da --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=14938 --metrics-logging=true --relay=true --filter=true
2026-01-29 04:33:40.470 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.117.34 waku d2f45c5cd242fa769d2c1a4175b86d1b3ea93528f9163ab8ee9165608448b5a6
2026-01-29 04:33:40.499 DEBUG [src.node.docker_mananger] Container started with ID d2f45c5cd242. Setting up logs at ./log/docker/node1_2026-01-29_04-33-40__28ced732-cf8a-4c71-9fb3-c73109c40505__wakuorg_nwaku:latest.log
2026-01-29 04:33:40.499 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 14934
2026-01-29 04:33:40.500 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-01-29 04:33:40.549 ERROR [src.node.docker_mananger] Max retries reached for container e6aea60d6079. Exiting log stream.
2026-01-29 04:33:41.084 ERROR [src.node.docker_mananger] Max retries reached for container ac6695951f34. Exiting log stream.
2026-01-29 04:33:41.501 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:14934/health" -H "Content-Type: application/json" -d 'None'
2026-01-29 04:33:41.504 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_READY","desc":"Relay is not ready, filter will not be able to sort out messages"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-01-29 04:33:41.504 INFO [src.node.waku_node] Node protocols are initialized !!
2026-01-29 04:33:41.505 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:14934/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-01-29 04:33:41.507 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.117.34/tcp/14935/p2p/16Uiu2HAkvURP2UftfK9hzUYtoViWpXRKEi7BLEM7c3FcMNEjZDYg","/ip4/172.18.117.34/tcp/14936/ws/p2p/16Uiu2HAkvURP2UftfK9hzUYtoViWpXRKEi7BLEM7c3FcMNEjZDYg"],"enrUri":"enr:-L24QE8340gZy76zc-bC-Vp4WTCJqDbr8pgqh5wNon0wqyiEXNtZMnDMIZZsoUihJZJbvpEFx19VZBldXByg0C-WjHACgmlkgnY0gmlwhKwSdSKKbXVsdGlhZGRyc5YACASsEnUiBjpXAAoErBJ1IgY6WN0DgnJzhQADAQAAiXNlY3AyNTZrMaECD4_r9dLf4QeEq9-B5Lcfnb_ZozQG13ydVX7qqS2Oi92DdGNwgjpXg3VkcII6WYV3YWt1MgU"}'
2026-01-29 04:33:41.507 INFO [src.node.waku_node] REST service is ready !!
2026-01-29 04:33:41.507 DEBUG [src.steps.filter] Running fixture setup: setup_main_filter_node
2026-01-29 04:33:41.514 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-01-29 04:33:41.514 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2026-01-29_04-33-40__28ced732-cf8a-4c71-9fb3-c73109c40505__wakuorg_nwaku:latest.log
2026-01-29 04:33:41.514 DEBUG [src.node.waku_node] Starting Node...
2026-01-29 04:33:41.514 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-01-29 04:33:41.516 DEBUG [src.node.docker_mananger] Network waku already exists
2026-01-29 04:33:41.516 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.245.234
2026-01-29 04:33:41.516 DEBUG [src.node.docker_mananger] Generated ports ['45203', '45204', '45205', '45206', '45207']
2026-01-29 04:33:41.516 DEBUG [src.node.waku_node] RLN credentials were not set
2026-01-29 04:33:41.516 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-01-29 04:33:41.516 DEBUG [src.node.waku_node] Using volumes []
2026-01-29 04:33:41.516 DEBUG [src.node.docker_mananger] docker run -i -t -p 45203:45203 -p 45204:45204 -p 45205:45205 -p 45206:45206 -p 45207:45207 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=45205 --rest-port=45203 --tcp-port=45204 --discv5-udp-port=45206 --rest-address=0.0.0.0 --nat=extip:172.18.245.234 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=be3bdfe9a3902926a17de7802cb0e98cf3a3c0ad4c61bdfcdb0fa8c59fc3fc0e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=45207 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QE8340gZy76zc-bC-Vp4WTCJqDbr8pgqh5wNon0wqyiEXNtZMnDMIZZsoUihJZJbvpEFx19VZBldXByg0C-WjHACgmlkgnY0gmlwhKwSdSKKbXVsdGlhZGRyc5YACASsEnUiBjpXAAoErBJ1IgY6WN0DgnJzhQADAQAAiXNlY3AyNTZrMaECD4_r9dLf4QeEq9-B5Lcfnb_ZozQG13ydVX7qqS2Oi92DdGNwgjpXg3VkcII6WYV3YWt1MgU --filternode=/ip4/172.18.117.34/tcp/14935/p2p/16Uiu2HAkvURP2UftfK9hzUYtoViWpXRKEi7BLEM7c3FcMNEjZDYg
2026-01-29 04:33:41.696 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.245.234 waku 5aaadb610291d1ec0e050c54a534f9287779f05e641b30e7410b85a0d8f87402
2026-01-29 04:33:41.731 DEBUG [src.node.docker_mananger] Container started with ID 5aaadb610291. Setting up logs at ./log/docker/node2_2026-01-29_04-33-40__28ced732-cf8a-4c71-9fb3-c73109c40505__wakuorg_nwaku:latest.log
2026-01-29 04:33:41.731 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 45203
2026-01-29 04:33:41.732 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-01-29 04:33:42.732 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45203/health" -H "Content-Type: application/json" -d 'None'
2026-01-29 04:33:42.736 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_MOUNTED"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"READY"}]}'
2026-01-29 04:33:42.736 INFO [src.node.waku_node] Node protocols are initialized !!
2026-01-29 04:33:42.737 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45203/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-01-29 04:33:42.739 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.245.234/tcp/45204/p2p/16Uiu2HAmNXZ2wLWACiFna79kQ8L7tc37zZqdREYgmTbuoPw9Uhhv","/ip4/172.18.245.234/tcp/45205/ws/p2p/16Uiu2HAmNXZ2wLWACiFna79kQ8L7tc37zZqdREYgmTbuoPw9Uhhv"],"enrUri":"enr:-L24QFEqZlUACML9_OLi_xAKepX99nfhxp9tw1ntbon-Y0tiXAIfV6Rm9niVRcGstBNH7OyIsVxl0zrCoI_JyAbLBTICgmlkgnY0gmlwhKwS9eqKbXVsdGlhZGRyc5YACASsEvXqBrCUAAoErBL16gawld0DgnJzhQADAQAAiXNlY3AyNTZrMaEDkq0toNLePqwCVBM509WDSKpkTZwJ7SBmmgxYEMbknd2DdGNwgrCUg3VkcIKwloV3YWt1MgA"}'
2026-01-29 04:33:42.739 INFO [src.node.waku_node] REST service is ready !!
2026-01-29 04:33:42.740 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45203/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.117.34/tcp/14935/p2p/16Uiu2HAkvURP2UftfK9hzUYtoViWpXRKEi7BLEM7c3FcMNEjZDYg"]'
2026-01-29 04:33:42.768 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-29 04:33:42.771 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45203/filter/v2/subscriptions/ba4b46b7-109e-47cf-ae75-ab5193147cbc" -H "Content-Type: application/json" -d 'None'
2026-01-29 04:33:42.787 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:45203/filter/v2/subscriptions/ba4b46b7-109e-47cf-ae75-ab5193147cbc. Response content: b'{"requestId":"ba4b46b7-109e-47cf-ae75-ab5193147cbc","statusDesc":"NOT_FOUND: peer has no subscriptions"}'
2026-01-29 04:33:42.795 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-01-29 04:33:42.796 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-01-29 04:33:42.796 DEBUG [src.node.waku_node] Stopping container with id d2f45c5cd242
2026-01-29 04:33:43.347 DEBUG [src.node.waku_node] Container stopped.
2026-01-29 04:33:43.347 DEBUG [src.node.waku_node] Stopping container with id 5aaadb610291
2026-01-29 04:33:43.869 DEBUG [src.node.waku_node] Container stopped.
2026-01-29 04:33:43.871 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-01-29 04:33:43.876 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-01-29 04:33:43.882 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
