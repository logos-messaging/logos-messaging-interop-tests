2026-01-29 04:31:37.316 DEBUG [tests.conftest] Running fixture setup: test_id
2026-01-29 04:31:37.316 DEBUG [tests.conftest] Running test: test_filter_update_subscription_with_no_pubsub_topic with id: 2026-01-29_04-31-37__29776ce8-ac69-4bde-81bd-e2d37f7adbbb
2026-01-29 04:31:37.317 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-01-29 04:31:37.317 DEBUG [src.steps.filter] Running fixture setup: filter_setup
2026-01-29 04:31:37.317 DEBUG [src.steps.filter] Running fixture setup: setup_main_relay_node
2026-01-29 04:31:37.324 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-01-29 04:31:37.324 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2026-01-29_04-31-37__29776ce8-ac69-4bde-81bd-e2d37f7adbbb__wakuorg_nwaku:latest.log
2026-01-29 04:31:37.324 DEBUG [src.node.waku_node] Starting Node...
2026-01-29 04:31:37.324 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-01-29 04:31:37.326 DEBUG [src.node.docker_mananger] Network waku already exists
2026-01-29 04:31:37.326 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.211.226
2026-01-29 04:31:37.326 DEBUG [src.node.docker_mananger] Generated ports ['26133', '26134', '26135', '26136', '26137']
2026-01-29 04:31:37.326 DEBUG [src.node.waku_node] RLN credentials were not set
2026-01-29 04:31:37.326 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-01-29 04:31:37.326 DEBUG [src.node.waku_node] Using volumes []
2026-01-29 04:31:37.326 DEBUG [src.node.docker_mananger] docker run -i -t -p 26133:26133 -p 26134:26134 -p 26135:26135 -p 26136:26136 -p 26137:26137 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=26135 --rest-port=26133 --tcp-port=26134 --discv5-udp-port=26136 --rest-address=0.0.0.0 --nat=extip:172.18.211.226 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=dfeeb5dc9fdd6cabbbb4ca6a7a0afcfcb1ecac86fe86261fa672012fe2cf51ed --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=26137 --metrics-logging=true --relay=true --filter=true
2026-01-29 04:31:37.515 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.211.226 waku b01bc25000bf093d3a343c88217ef7694e37420b989f8616d4d8dfb3daade7c4
2026-01-29 04:31:37.546 DEBUG [src.node.docker_mananger] Container started with ID b01bc25000bf. Setting up logs at ./log/docker/node1_2026-01-29_04-31-37__29776ce8-ac69-4bde-81bd-e2d37f7adbbb__wakuorg_nwaku:latest.log
2026-01-29 04:31:37.547 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 26133
2026-01-29 04:31:37.548 ERROR [src.node.docker_mananger] Max retries reached for container 769086181b1f. Exiting log stream.
2026-01-29 04:31:37.548 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-01-29 04:31:38.100 ERROR [src.node.docker_mananger] Max retries reached for container 43a0bdedff60. Exiting log stream.
2026-01-29 04:31:38.551 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26133/health" -H "Content-Type: application/json" -d 'None'
2026-01-29 04:31:38.554 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_READY","desc":"Relay is not ready, filter will not be able to sort out messages"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-01-29 04:31:38.554 INFO [src.node.waku_node] Node protocols are initialized !!
2026-01-29 04:31:38.555 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26133/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-01-29 04:31:38.557 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.211.226/tcp/26134/p2p/16Uiu2HAm5qkjKi9UmPEu3uFzVdHujWMWQpLf17am1JLW6suWVRiQ","/ip4/172.18.211.226/tcp/26135/ws/p2p/16Uiu2HAm5qkjKi9UmPEu3uFzVdHujWMWQpLf17am1JLW6suWVRiQ"],"enrUri":"enr:-L24QMTyC8YbpgJP5FiRy8dwx7pxs2iif9hZSOpy8HzElh9mElUISyLlBvTUiWfalDJryGBdD1pbNuXIs2G78sk4ztcCgmlkgnY0gmlwhKwS0-KKbXVsdGlhZGRyc5YACASsEtPiBmYWAAoErBLT4gZmF90DgnJzhQADAQAAiXNlY3AyNTZrMaECmsAuG2sKMGk9539sCb9T5dDOT0h0VCuV-tYs-5gu_HGDdGNwgmYWg3VkcIJmGIV3YWt1MgU"}'
2026-01-29 04:31:38.557 INFO [src.node.waku_node] REST service is ready !!
2026-01-29 04:31:38.557 DEBUG [src.steps.filter] Running fixture setup: setup_main_filter_node
2026-01-29 04:31:38.564 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-01-29 04:31:38.564 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2026-01-29_04-31-37__29776ce8-ac69-4bde-81bd-e2d37f7adbbb__wakuorg_nwaku:latest.log
2026-01-29 04:31:38.564 DEBUG [src.node.waku_node] Starting Node...
2026-01-29 04:31:38.564 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-01-29 04:31:38.566 DEBUG [src.node.docker_mananger] Network waku already exists
2026-01-29 04:31:38.566 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.200.77
2026-01-29 04:31:38.566 DEBUG [src.node.docker_mananger] Generated ports ['58483', '58484', '58485', '58486', '58487']
2026-01-29 04:31:38.566 DEBUG [src.node.waku_node] RLN credentials were not set
2026-01-29 04:31:38.566 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-01-29 04:31:38.566 DEBUG [src.node.waku_node] Using volumes []
2026-01-29 04:31:38.566 DEBUG [src.node.docker_mananger] docker run -i -t -p 58483:58483 -p 58484:58484 -p 58485:58485 -p 58486:58486 -p 58487:58487 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=58485 --rest-port=58483 --tcp-port=58484 --discv5-udp-port=58486 --rest-address=0.0.0.0 --nat=extip:172.18.200.77 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=544b06607e6db084ef377db36c1b5de8c03ae9eea6b9aec3de590e2037a341de --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=58487 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QMTyC8YbpgJP5FiRy8dwx7pxs2iif9hZSOpy8HzElh9mElUISyLlBvTUiWfalDJryGBdD1pbNuXIs2G78sk4ztcCgmlkgnY0gmlwhKwS0-KKbXVsdGlhZGRyc5YACASsEtPiBmYWAAoErBLT4gZmF90DgnJzhQADAQAAiXNlY3AyNTZrMaECmsAuG2sKMGk9539sCb9T5dDOT0h0VCuV-tYs-5gu_HGDdGNwgmYWg3VkcIJmGIV3YWt1MgU --filternode=/ip4/172.18.211.226/tcp/26134/p2p/16Uiu2HAm5qkjKi9UmPEu3uFzVdHujWMWQpLf17am1JLW6suWVRiQ
2026-01-29 04:31:38.752 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.200.77 waku fd87945ebcd00292022d8547e10156dd0f3240af22f9f58ab77194d617c964ae
2026-01-29 04:31:38.780 DEBUG [src.node.docker_mananger] Container started with ID fd87945ebcd0. Setting up logs at ./log/docker/node2_2026-01-29_04-31-37__29776ce8-ac69-4bde-81bd-e2d37f7adbbb__wakuorg_nwaku:latest.log
2026-01-29 04:31:38.780 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 58483
2026-01-29 04:31:38.780 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-01-29 04:31:39.781 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58483/health" -H "Content-Type: application/json" -d 'None'
2026-01-29 04:31:39.785 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_MOUNTED"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"READY"}]}'
2026-01-29 04:31:39.786 INFO [src.node.waku_node] Node protocols are initialized !!
2026-01-29 04:31:39.786 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58483/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-01-29 04:31:39.788 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.200.77/tcp/58484/p2p/16Uiu2HAmL8XDAnDdR76mV2wi1o3AbGRQRtpJgDb84u5xUKVibW2e","/ip4/172.18.200.77/tcp/58485/ws/p2p/16Uiu2HAmL8XDAnDdR76mV2wi1o3AbGRQRtpJgDb84u5xUKVibW2e"],"enrUri":"enr:-L24QKEs1ugbohoqZCNRvd6k5agIHDzphfDPgWpF6Prhke3uZEjIo_aC6C8NQ1HwZMMPYEmmD4qSFRaKPZ43JnO9_fECgmlkgnY0gmlwhKwSyE2KbXVsdGlhZGRyc5YACASsEshNBuR0AAoErBLITQbkdd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDbw9iQvK-EIkFxinm3RYEanx_Es2szZOobb5e-o4ybtODdGNwguR0g3VkcILkdoV3YWt1MgA"}'
2026-01-29 04:31:39.788 INFO [src.node.waku_node] REST service is ready !!
2026-01-29 04:31:39.789 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:58483/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.211.226/tcp/26134/p2p/16Uiu2HAm5qkjKi9UmPEu3uFzVdHujWMWQpLf17am1JLW6suWVRiQ"]'
2026-01-29 04:31:39.816 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-29 04:31:39.817 DEBUG [src.steps.filter] Running fixture setup: subscribe_main_nodes
2026-01-29 04:31:39.817 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:26133/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2026-01-29 04:31:39.828 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-29 04:31:39.832 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:58483/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "7fd8465c-0f6e-4ecf-bcc2-495b283a1e06", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
2026-01-29 04:31:39.841 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"7fd8465c-0f6e-4ecf-bcc2-495b283a1e06","statusDesc":"OK"}'
2026-01-29 04:31:39.842 INFO [src.node.api_clients.base_client] curl -v -X PUT "http://127.0.0.1:58483/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": ["/test/2/waku-filter/proto"]}'
2026-01-29 04:31:39.851 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"1","statusDesc":"OK"}'
2026-01-29 04:31:39.852 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-01-29 04:31:39.853 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-01-29 04:31:39.853 DEBUG [src.node.waku_node] Stopping container with id b01bc25000bf
2026-01-29 04:31:40.406 DEBUG [src.node.waku_node] Container stopped.
2026-01-29 04:31:40.406 DEBUG [src.node.waku_node] Stopping container with id fd87945ebcd0
2026-01-29 04:31:40.928 DEBUG [src.node.waku_node] Container stopped.
2026-01-29 04:31:40.931 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-01-29 04:31:40.936 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-01-29 04:31:40.941 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
