2026-01-29 05:06:17.237 DEBUG [tests.conftest] Running fixture setup: test_id
2026-01-29 05:06:17.238 DEBUG [tests.conftest] Running test: test_time_filter_start_time_after_end_time with id: 2026-01-29_05-06-17__417fd3e7-f78e-4b76-bbf8-9951678094b3
2026-01-29 05:06:17.238 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-01-29 05:06:17.238 DEBUG [src.steps.store] Running fixture setup: store_setup
2026-01-29 05:06:17.239 DEBUG [src.steps.store] Running fixture setup: node_setup
2026-01-29 05:06:17.245 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-01-29 05:06:17.245 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/publishing_node1_2026-01-29_05-06-17__417fd3e7-f78e-4b76-bbf8-9951678094b3__wakuorg_nwaku:latest.log
2026-01-29 05:06:17.245 DEBUG [src.node.waku_node] Starting Node...
2026-01-29 05:06:17.245 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-01-29 05:06:17.246 DEBUG [src.node.docker_mananger] Network waku already exists
2026-01-29 05:06:17.247 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.56.249
2026-01-29 05:06:17.247 DEBUG [src.node.docker_mananger] Generated ports ['21622', '21623', '21624', '21625', '21626']
2026-01-29 05:06:17.247 DEBUG [src.node.waku_node] RLN credentials were not set
2026-01-29 05:06:17.247 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-01-29 05:06:17.247 DEBUG [src.node.waku_node] Using volumes []
2026-01-29 05:06:17.247 DEBUG [src.node.docker_mananger] docker run -i -t -p 21622:21622 -p 21623:21623 -p 21624:21624 -p 21625:21625 -p 21626:21626 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=21624 --rest-port=21622 --tcp-port=21623 --discv5-udp-port=21625 --rest-address=0.0.0.0 --nat=extip:172.18.56.249 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a0b9fbd54b185f77b5baf3ca99e2180f5a76dbad6ea37eddf7223fbc61ea4bd0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=21626 --metrics-logging=true --store=true --relay=true
2026-01-29 05:06:17.437 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.56.249 waku 216c5ad56924422f1df6349b6ec9098706f1a0845db3969cfd2cb194d68500e1
2026-01-29 05:06:17.470 DEBUG [src.node.docker_mananger] Container started with ID 216c5ad56924. Setting up logs at ./log/docker/publishing_node1_2026-01-29_05-06-17__417fd3e7-f78e-4b76-bbf8-9951678094b3__wakuorg_nwaku:latest.log
2026-01-29 05:06:17.471 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 21622
2026-01-29 05:06:17.471 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-01-29 05:06:17.503 ERROR [src.node.docker_mananger] Max retries reached for container 58d076075cb2. Exiting log stream.
2026-01-29 05:06:18.045 ERROR [src.node.docker_mananger] Max retries reached for container 2a138a2b68d0. Exiting log stream.
2026-01-29 05:06:18.472 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21622/health" -H "Content-Type: application/json" -d 'None'
2026-01-29 05:06:18.475 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"READY"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"READY"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-01-29 05:06:18.475 INFO [src.node.waku_node] Node protocols are initialized !!
2026-01-29 05:06:18.476 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21622/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-01-29 05:06:18.478 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.56.249/tcp/21623/p2p/16Uiu2HAmNSFGG7SfPCA4x2pm4mTj3HmuiQ1JPk8A1uwk4FSDXSvu","/ip4/172.18.56.249/tcp/21624/ws/p2p/16Uiu2HAmNSFGG7SfPCA4x2pm4mTj3HmuiQ1JPk8A1uwk4FSDXSvu"],"enrUri":"enr:-L24QFBDuCI6IOqM99PqcblChYrG7mh1_bRk9fueqr8BEkTBTBKqI52byQYwLnVtJsF7FS9KdEB5vohSVLznC6T3J1MCgmlkgnY0gmlwhKwSOPmKbXVsdGlhZGRyc5YACASsEjj5BlR3AAoErBI4-QZUeN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDkVEuZ6bfK6HxuIb38nFlzwwTRWzmrHRbF2-r6QzS3MqDdGNwglR3g3VkcIJUeYV3YWt1MgM"}'
2026-01-29 05:06:18.478 INFO [src.node.waku_node] REST service is ready !!
2026-01-29 05:06:18.485 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-01-29 05:06:18.485 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/store_node1_2026-01-29_05-06-17__417fd3e7-f78e-4b76-bbf8-9951678094b3__wakuorg_nwaku:latest.log
2026-01-29 05:06:18.485 DEBUG [src.node.waku_node] Starting Node...
2026-01-29 05:06:18.485 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-01-29 05:06:18.486 DEBUG [src.node.docker_mananger] Network waku already exists
2026-01-29 05:06:18.487 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.104.19
2026-01-29 05:06:18.487 DEBUG [src.node.docker_mananger] Generated ports ['1515', '1516', '1517', '1518', '1519']
2026-01-29 05:06:18.487 DEBUG [src.node.waku_node] RLN credentials were not set
2026-01-29 05:06:18.487 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-01-29 05:06:18.487 DEBUG [src.node.waku_node] Using volumes []
2026-01-29 05:06:18.487 DEBUG [src.node.docker_mananger] docker run -i -t -p 1515:1515 -p 1516:1516 -p 1517:1517 -p 1518:1518 -p 1519:1519 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=1517 --rest-port=1515 --tcp-port=1516 --discv5-udp-port=1518 --rest-address=0.0.0.0 --nat=extip:172.18.104.19 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b357f2aef4bdf20337c65a0886090dafe2aca881a5b90cbfe20a182b5acfc35c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=1519 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QFBDuCI6IOqM99PqcblChYrG7mh1_bRk9fueqr8BEkTBTBKqI52byQYwLnVtJsF7FS9KdEB5vohSVLznC6T3J1MCgmlkgnY0gmlwhKwSOPmKbXVsdGlhZGRyc5YACASsEjj5BlR3AAoErBI4-QZUeN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDkVEuZ6bfK6HxuIb38nFlzwwTRWzmrHRbF2-r6QzS3MqDdGNwglR3g3VkcIJUeYV3YWt1MgM --storenode=/ip4/172.18.56.249/tcp/21623/p2p/16Uiu2HAmNSFGG7SfPCA4x2pm4mTj3HmuiQ1JPk8A1uwk4FSDXSvu --store=true --relay=true
2026-01-29 05:06:18.667 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.104.19 waku 815499d1156e8712ad1977538d0889073692ed242c331ad50a27a54ad3458707
2026-01-29 05:06:18.699 DEBUG [src.node.docker_mananger] Container started with ID 815499d1156e. Setting up logs at ./log/docker/store_node1_2026-01-29_05-06-17__417fd3e7-f78e-4b76-bbf8-9951678094b3__wakuorg_nwaku:latest.log
2026-01-29 05:06:18.701 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 1515
2026-01-29 05:06:18.701 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-01-29 05:06:19.701 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1515/health" -H "Content-Type: application/json" -d 'None'
2026-01-29 05:06:19.705 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"READY"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"READY"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"READY"},{"Legacy Store Client":"READY"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-01-29 05:06:19.706 INFO [src.node.waku_node] Node protocols are initialized !!
2026-01-29 05:06:19.706 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1515/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-01-29 05:06:19.708 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.104.19/tcp/1516/p2p/16Uiu2HAmV846oM3TSKi3JNewhCWATaqmiNqTWq6nALQWrT2NmoZm","/ip4/172.18.104.19/tcp/1517/ws/p2p/16Uiu2HAmV846oM3TSKi3JNewhCWATaqmiNqTWq6nALQWrT2NmoZm"],"enrUri":"enr:-L24QFG7dfDGzhYqGd3NDIs9kAaXcFKu74Dh2SN1UN97nWeVBYY2lrBr2qghRwd3QvIUdqYHIWBvWtEFDw5n2-RJeQACgmlkgnY0gmlwhKwSaBOKbXVsdGlhZGRyc5YACASsEmgTBgXsAAoErBJoEwYF7d0DgnJzhQADAQAAiXNlY3AyNTZrMaED9KnpumD1GMptPU0uYlxOw9PEGEWO7PFMqL8UYh7QhrSDdGNwggXsg3VkcIIF7oV3YWt1MgM"}'
2026-01-29 05:06:19.708 INFO [src.node.waku_node] REST service is ready !!
2026-01-29 05:06:19.709 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:1515/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.56.249/tcp/21623/p2p/16Uiu2HAmNSFGG7SfPCA4x2pm4mTj3HmuiQ1JPk8A1uwk4FSDXSvu"]'
2026-01-29 05:06:19.711 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-29 05:06:19.712 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21622/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-01-29 05:06:19.714 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-29 05:06:19.714 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:1515/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-01-29 05:06:19.716 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-29 05:06:19.718 DEBUG [src.steps.store] Relaying message
2026-01-29 05:06:19.718 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21622/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-01-29 05:06:19.723 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-29 05:06:19.723 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-01-29 05:06:19.924 DEBUG [src.steps.store] Relaying message
2026-01-29 05:06:19.925 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21622/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-01-29 05:06:19.930 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-29 05:06:19.931 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-01-29 05:06:20.132 DEBUG [src.steps.store] Relaying message
2026-01-29 05:06:20.132 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21622/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-01-29 05:06:20.137 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-29 05:06:20.138 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-01-29 05:06:20.339 DEBUG [src.steps.store] Relaying message
2026-01-29 05:06:20.339 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21622/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-01-29 05:06:20.345 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-29 05:06:20.345 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-01-29 05:06:20.546 DEBUG [src.steps.store] Relaying message
2026-01-29 05:06:20.546 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21622/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-01-29 05:06:20.552 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-29 05:06:20.552 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-01-29 05:06:20.753 DEBUG [src.steps.store] Relaying message
2026-01-29 05:06:20.753 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21622/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-01-29 05:06:20.758 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-29 05:06:20.758 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-01-29 05:06:20.958 DEBUG [tests.store.test_time_filter] inquering stored messages with start time 1769663181717821952 after end time 1769663176717808896
2026-01-29 05:06:20.959 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21622/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=1769663181717821952&endTime=1769663176717808896&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
2026-01-29 05:06:20.962 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[]}'
2026-01-29 05:06:20.962 DEBUG [tests.store.test_time_filter] response for wrong time message is {'requestId': '', 'statusCode': 200, 'statusDesc': 'OK', 'messages': []}
2026-01-29 05:06:20.962 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1515/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=1769663181717821952&endTime=1769663176717808896&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
2026-01-29 05:06:20.965 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[]}'
2026-01-29 05:06:20.965 DEBUG [tests.store.test_time_filter] response for wrong time message is {'requestId': '', 'statusCode': 200, 'statusDesc': 'OK', 'messages': []}
2026-01-29 05:06:20.967 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-01-29 05:06:20.968 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-01-29 05:06:20.969 DEBUG [src.node.waku_node] Stopping container with id 216c5ad56924
2026-01-29 05:06:21.524 DEBUG [src.node.waku_node] Container stopped.
2026-01-29 05:06:21.524 DEBUG [src.node.waku_node] Stopping container with id 815499d1156e
2026-01-29 05:06:22.079 DEBUG [src.node.waku_node] Container stopped.
2026-01-29 05:06:22.082 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-01-29 05:06:22.089 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-01-29 05:06:22.095 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
