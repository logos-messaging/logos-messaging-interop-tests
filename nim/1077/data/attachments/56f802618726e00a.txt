2026-02-12 04:46:49.119 DEBUG [tests.conftest] Running fixture setup: test_id
2026-02-12 04:46:49.119 DEBUG [tests.conftest] Running test: test_unsubscribe_from_some_pubsub_topics with id: 2026-02-12_04-46-49__15631587-2101-4bde-b75f-e69b47a7c8c9
2026-02-12 04:46:49.119 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-02-12 04:46:49.120 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2026-02-12 04:46:49.120 DEBUG [src.steps.sharding] Running fixture setup: sharding_setup
2026-02-12 04:46:49.127 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-12 04:46:49.127 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2026-02-12_04-46-49__15631587-2101-4bde-b75f-e69b47a7c8c9__wakuorg_nwaku:latest.log
2026-02-12 04:46:49.127 DEBUG [src.node.waku_node] Starting Node...
2026-02-12 04:46:49.127 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-12 04:46:49.128 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-12 04:46:49.129 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.88.170
2026-02-12 04:46:49.129 DEBUG [src.node.docker_mananger] Generated ports ['12788', '12789', '12790', '12791', '12792']
2026-02-12 04:46:49.129 DEBUG [src.node.waku_node] Removing pubsub-topic from nwaku args
2026-02-12 04:46:49.129 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-12 04:46:49.129 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-12 04:46:49.129 DEBUG [src.node.waku_node] Using volumes []
2026-02-12 04:46:49.129 DEBUG [src.node.docker_mananger] docker run -i -t -p 12788:12788 -p 12789:12789 -p 12790:12790 -p 12791:12791 -p 12792:12792 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=12790 --rest-port=12788 --tcp-port=12789 --discv5-udp-port=12791 --rest-address=0.0.0.0 --nat=extip:172.18.88.170 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=faef334ac2aac3efcbcccaad5c5c4fdceaf81ad7fcbacdee45fac2fea315aa82 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=12792 --metrics-logging=true --relay=true --filter=true
2026-02-12 04:46:49.306 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.88.170 waku e6048caeaf6c9d7c6cd9ec88d3ea8946cb4dfc5a75a3186e37ff2ca5e35e32c9
2026-02-12 04:46:49.338 DEBUG [src.node.docker_mananger] Container started with ID e6048caeaf6c. Setting up logs at ./log/docker/node1_2026-02-12_04-46-49__15631587-2101-4bde-b75f-e69b47a7c8c9__wakuorg_nwaku:latest.log
2026-02-12 04:46:49.340 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 12788
2026-02-12 04:46:49.340 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-12 04:46:49.394 ERROR [src.node.docker_mananger] Max retries reached for container eb5ec48ca78b. Exiting log stream.
2026-02-12 04:46:49.917 ERROR [src.node.docker_mananger] Max retries reached for container 0834c4c05b27. Exiting log stream.
2026-02-12 04:46:50.340 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12788/health" -H "Content-Type: application/json" -d 'None'
2026-02-12 04:46:50.343 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_READY","desc":"Relay is not ready, filter will not be able to sort out messages"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-12 04:46:50.344 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-12 04:46:50.344 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12788/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-12 04:46:50.346 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.88.170/tcp/12789/p2p/16Uiu2HAmChARJ4VnLn6N24UJJaDJTXhx6roaQd4fLM8eAhtrBBiK","/ip4/172.18.88.170/tcp/12790/ws/p2p/16Uiu2HAmChARJ4VnLn6N24UJJaDJTXhx6roaQd4fLM8eAhtrBBiK"],"enrUri":"enr:-L24QNnYRrYR7s_vPgjJNIgZbgcwtzG80q0K1cMWc7iF3xHESHd3ECFUtGiQguJ4M4fXT62ubMUfkG6P20-X4sIJRO0CgmlkgnY0gmlwhKwSWKqKbXVsdGlhZGRyc5YACASsEliqBjH1AAoErBJYqgYx9t0DgnJzhQACAQAAiXNlY3AyNTZrMaEDAI6L9q8juwUQH7IhHUrJysBeFhAMhE0zDSAPLkyFPMSDdGNwgjH1g3VkcIIx94V3YWt1MgU"}'
2026-02-12 04:46:50.346 INFO [src.node.waku_node] REST service is ready !!
2026-02-12 04:46:50.353 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-12 04:46:50.353 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2026-02-12_04-46-49__15631587-2101-4bde-b75f-e69b47a7c8c9__wakuorg_nwaku:latest.log
2026-02-12 04:46:50.353 DEBUG [src.node.waku_node] Starting Node...
2026-02-12 04:46:50.353 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-12 04:46:50.355 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-12 04:46:50.355 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.82.80
2026-02-12 04:46:50.355 DEBUG [src.node.docker_mananger] Generated ports ['52531', '52532', '52533', '52534', '52535']
2026-02-12 04:46:50.355 DEBUG [src.node.waku_node] Removing pubsub-topic from nwaku args
2026-02-12 04:46:50.355 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-12 04:46:50.355 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-12 04:46:50.355 DEBUG [src.node.waku_node] Using volumes []
2026-02-12 04:46:50.356 DEBUG [src.node.docker_mananger] docker run -i -t -p 52531:52531 -p 52532:52532 -p 52533:52533 -p 52534:52534 -p 52535:52535 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=52533 --rest-port=52531 --tcp-port=52532 --discv5-udp-port=52534 --rest-address=0.0.0.0 --nat=extip:172.18.82.80 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=8a9dfdac8fe6aee94d0424f2f2b9f72cf9ee46caa7b18d1ff67d745ebc335ebe --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=52535 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QNnYRrYR7s_vPgjJNIgZbgcwtzG80q0K1cMWc7iF3xHESHd3ECFUtGiQguJ4M4fXT62ubMUfkG6P20-X4sIJRO0CgmlkgnY0gmlwhKwSWKqKbXVsdGlhZGRyc5YACASsEliqBjH1AAoErBJYqgYx9t0DgnJzhQACAQAAiXNlY3AyNTZrMaEDAI6L9q8juwUQH7IhHUrJysBeFhAMhE0zDSAPLkyFPMSDdGNwgjH1g3VkcIIx94V3YWt1MgU
2026-02-12 04:46:50.536 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.82.80 waku 05149af5fc83677266a2ebfa83e843534272fe2022bfa2fe26f28359e74f1d43
2026-02-12 04:46:50.566 DEBUG [src.node.docker_mananger] Container started with ID 05149af5fc83. Setting up logs at ./log/docker/node2_2026-02-12_04-46-49__15631587-2101-4bde-b75f-e69b47a7c8c9__wakuorg_nwaku:latest.log
2026-02-12 04:46:50.567 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 52531
2026-02-12 04:46:50.567 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-12 04:46:51.567 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52531/health" -H "Content-Type: application/json" -d 'None'
2026-02-12 04:46:51.583 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"READY"}]}'
2026-02-12 04:46:51.583 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-12 04:46:51.587 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52531/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-12 04:46:51.590 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.82.80/tcp/52532/p2p/16Uiu2HAmSnCYw1JrSYcpSb6UK16wgnf8SzhtWCgLbqKSASpX9pha","/ip4/172.18.82.80/tcp/52533/ws/p2p/16Uiu2HAmSnCYw1JrSYcpSb6UK16wgnf8SzhtWCgLbqKSASpX9pha"],"enrUri":"enr:-L24QA6VRo3FCLRcnwI-THHHiq0LHtm2KW0vaH6teWYYMa8uIA3eHtvNoc8qzy3AosV12WHxTX3_2I0O5D8rb5jkn0ICgmlkgnY0gmlwhKwSUlCKbXVsdGlhZGRyc5YACASsElJQBs00AAoErBJSUAbNNd0DgnJzhQACAQAAiXNlY3AyNTZrMaED0dx6YJnedanLTCTqnCDB33HASftc-CxpMmFBqFrzTA2DdGNwgs00g3VkcILNNoV3YWt1MgE"}'
2026-02-12 04:46:51.591 INFO [src.node.waku_node] REST service is ready !!
2026-02-12 04:46:51.591 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:52531/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.88.170/tcp/12789/p2p/16Uiu2HAmChARJ4VnLn6N24UJJaDJTXhx6roaQd4fLM8eAhtrBBiK"]'
2026-02-12 04:46:51.594 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-12 04:46:51.594 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:12788/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0", "/waku/2/rs/2/1", "/waku/2/rs/2/2", "/waku/2/rs/2/3", "/waku/2/rs/2/4", "/waku/2/rs/2/5", "/waku/2/rs/2/6", "/waku/2/rs/2/7"]'
2026-02-12 04:46:51.602 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-12 04:46:51.602 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:52531/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0", "/waku/2/rs/2/1", "/waku/2/rs/2/2", "/waku/2/rs/2/3", "/waku/2/rs/2/4", "/waku/2/rs/2/5", "/waku/2/rs/2/6", "/waku/2/rs/2/7"]'
2026-02-12 04:46:51.617 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-12 04:46:51.622 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:12788/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-12 04:46:51.627 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-12 04:46:51.628 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-12 04:46:51.728 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-12 04:46:51.728 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12788/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-12 04:46:51.731 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770871611622241476,"ephemeral":false,"proof":""}]'
2026-02-12 04:46:51.733 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-12 04:46:51.733 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52531/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-12 04:46:51.735 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770871611622241476,"ephemeral":false,"proof":""}]'
2026-02-12 04:46:51.737 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:12788/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-12 04:46:51.741 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-12 04:46:51.742 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-12 04:46:51.842 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-12 04:46:51.843 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12788/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d 'None'
2026-02-12 04:46:51.846 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770871611737120467,"ephemeral":false,"proof":""}]'
2026-02-12 04:46:51.847 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-12 04:46:51.847 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52531/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d 'None'
2026-02-12 04:46:51.849 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770871611737120467,"ephemeral":false,"proof":""}]'
2026-02-12 04:46:51.851 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:12788/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-12 04:46:51.856 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-12 04:46:51.856 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-12 04:46:51.956 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-12 04:46:51.957 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12788/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d 'None'
2026-02-12 04:46:51.959 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770871611851645363,"ephemeral":false,"proof":""}]'
2026-02-12 04:46:51.960 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-12 04:46:51.960 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52531/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d 'None'
2026-02-12 04:46:51.963 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770871611851645363,"ephemeral":false,"proof":""}]'
2026-02-12 04:46:51.964 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:12788/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-12 04:46:51.968 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-12 04:46:51.969 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-12 04:46:52.069 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-12 04:46:52.070 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12788/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d 'None'
2026-02-12 04:46:52.072 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770871611964592675,"ephemeral":false,"proof":""}]'
2026-02-12 04:46:52.074 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-12 04:46:52.074 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52531/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d 'None'
2026-02-12 04:46:52.076 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770871611964592675,"ephemeral":false,"proof":""}]'
2026-02-12 04:46:52.078 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:12788/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-12 04:46:52.082 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-12 04:46:52.083 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-12 04:46:52.183 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-12 04:46:52.183 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12788/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d 'None'
2026-02-12 04:46:52.186 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770871612078072967,"ephemeral":false,"proof":""}]'
2026-02-12 04:46:52.188 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-12 04:46:52.188 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52531/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d 'None'
2026-02-12 04:46:52.190 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770871612078072967,"ephemeral":false,"proof":""}]'
2026-02-12 04:46:52.192 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:12788/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-12 04:46:52.197 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-12 04:46:52.197 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-12 04:46:52.297 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-12 04:46:52.297 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12788/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d 'None'
2026-02-12 04:46:52.300 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770871612191962504,"ephemeral":false,"proof":""}]'
2026-02-12 04:46:52.302 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-12 04:46:52.302 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52531/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d 'None'
2026-02-12 04:46:52.304 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770871612191962504,"ephemeral":false,"proof":""}]'
2026-02-12 04:46:52.306 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:12788/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-12 04:46:52.310 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-12 04:46:52.310 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-12 04:46:52.410 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-12 04:46:52.411 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12788/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d 'None'
2026-02-12 04:46:52.413 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770871612305902576,"ephemeral":false,"proof":""}]'
2026-02-12 04:46:52.414 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-12 04:46:52.415 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52531/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d 'None'
2026-02-12 04:46:52.417 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770871612305902576,"ephemeral":false,"proof":""}]'
2026-02-12 04:46:52.419 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:12788/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-12 04:46:52.424 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-12 04:46:52.424 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-12 04:46:52.525 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-12 04:46:52.525 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12788/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d 'None'
2026-02-12 04:46:52.527 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770871612418988864,"ephemeral":false,"proof":""}]'
2026-02-12 04:46:52.529 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-12 04:46:52.529 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52531/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d 'None'
2026-02-12 04:46:52.531 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770871612418988864,"ephemeral":false,"proof":""}]'
2026-02-12 04:46:52.532 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:12788/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0", "/waku/2/rs/2/1", "/waku/2/rs/2/2"]'
2026-02-12 04:46:52.539 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-12 04:46:52.540 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:52531/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0", "/waku/2/rs/2/1", "/waku/2/rs/2/2"]'
2026-02-12 04:46:52.546 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-12 04:46:52.547 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:12788/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-12 04:46:52.550 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:12788/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0. Response content: b'Failed to publish: Node not subscribed to topic: /waku/2/rs/2/0'
2026-02-12 04:46:52.553 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:12788/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-12 04:46:52.555 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:12788/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1. Response content: b'Failed to publish: Node not subscribed to topic: /waku/2/rs/2/1'
2026-02-12 04:46:52.558 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:12788/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-12 04:46:52.560 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:12788/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2. Response content: b'Failed to publish: Node not subscribed to topic: /waku/2/rs/2/2'
2026-02-12 04:46:52.562 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:12788/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-12 04:46:52.565 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-12 04:46:52.566 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-12 04:46:52.666 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-12 04:46:52.667 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12788/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d 'None'
2026-02-12 04:46:52.669 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770871612561919825,"ephemeral":false,"proof":""}]'
2026-02-12 04:46:52.671 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-12 04:46:52.671 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52531/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d 'None'
2026-02-12 04:46:52.674 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770871612561919825,"ephemeral":false,"proof":""}]'
2026-02-12 04:46:52.676 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:12788/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-12 04:46:52.680 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-12 04:46:52.680 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-12 04:46:52.781 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-12 04:46:52.781 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12788/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d 'None'
2026-02-12 04:46:52.784 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770871612675860222,"ephemeral":false,"proof":""}]'
2026-02-12 04:46:52.785 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-12 04:46:52.786 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52531/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d 'None'
2026-02-12 04:46:52.788 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770871612675860222,"ephemeral":false,"proof":""}]'
2026-02-12 04:46:52.789 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:12788/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-12 04:46:52.793 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-12 04:46:52.794 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-12 04:46:52.894 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-12 04:46:52.895 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12788/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d 'None'
2026-02-12 04:46:52.898 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770871612789721126,"ephemeral":false,"proof":""}]'
2026-02-12 04:46:52.900 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-12 04:46:52.901 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52531/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d 'None'
2026-02-12 04:46:52.904 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770871612789721126,"ephemeral":false,"proof":""}]'
2026-02-12 04:46:52.906 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:12788/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-12 04:46:52.912 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-12 04:46:52.912 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-12 04:46:53.013 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-12 04:46:53.013 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12788/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d 'None'
2026-02-12 04:46:53.015 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770871612906499637,"ephemeral":false,"proof":""}]'
2026-02-12 04:46:53.017 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-12 04:46:53.017 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52531/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d 'None'
2026-02-12 04:46:53.019 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770871612906499637,"ephemeral":false,"proof":""}]'
2026-02-12 04:46:53.021 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:12788/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-12 04:46:53.025 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-12 04:46:53.025 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-12 04:46:53.125 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-12 04:46:53.126 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12788/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d 'None'
2026-02-12 04:46:53.129 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770871613021199691,"ephemeral":false,"proof":""}]'
2026-02-12 04:46:53.130 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-12 04:46:53.130 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52531/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d 'None'
2026-02-12 04:46:53.132 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770871613021199691,"ephemeral":false,"proof":""}]'
2026-02-12 04:46:53.135 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-02-12 04:46:53.136 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-02-12 04:46:53.136 DEBUG [src.node.waku_node] Stopping container with id e6048caeaf6c
2026-02-12 04:46:53.689 DEBUG [src.node.waku_node] Container stopped.
2026-02-12 04:46:53.690 DEBUG [src.node.waku_node] Stopping container with id 05149af5fc83
2026-02-12 04:46:54.226 DEBUG [src.node.waku_node] Container stopped.
2026-02-12 04:46:54.227 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-02-12 04:46:54.241 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-12 04:46:54.252 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
