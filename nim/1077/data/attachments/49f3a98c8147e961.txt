2026-02-12 04:50:08.569 DEBUG [tests.conftest] Running fixture setup: test_id
2026-02-12 04:50:08.569 DEBUG [tests.conftest] Running test: test_different_cursor_and_indexes[2-4] with id: 2026-02-12_04-50-08__c12c6245-6f4f-460f-aa1c-5fdbc4c01c22
2026-02-12 04:50:08.569 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-02-12 04:50:08.570 DEBUG [src.steps.store] Running fixture setup: store_setup
2026-02-12 04:50:08.570 DEBUG [src.steps.store] Running fixture setup: node_setup
2026-02-12 04:50:08.576 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-12 04:50:08.576 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/publishing_node1_2026-02-12_04-50-08__c12c6245-6f4f-460f-aa1c-5fdbc4c01c22__wakuorg_nwaku:latest.log
2026-02-12 04:50:08.577 DEBUG [src.node.waku_node] Starting Node...
2026-02-12 04:50:08.577 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-12 04:50:08.578 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-12 04:50:08.578 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.7.39
2026-02-12 04:50:08.578 DEBUG [src.node.docker_mananger] Generated ports ['26743', '26744', '26745', '26746', '26747']
2026-02-12 04:50:08.578 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-12 04:50:08.579 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-12 04:50:08.579 DEBUG [src.node.waku_node] Using volumes []
2026-02-12 04:50:08.579 DEBUG [src.node.docker_mananger] docker run -i -t -p 26743:26743 -p 26744:26744 -p 26745:26745 -p 26746:26746 -p 26747:26747 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=26745 --rest-port=26743 --tcp-port=26744 --discv5-udp-port=26746 --rest-address=0.0.0.0 --nat=extip:172.18.7.39 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=5cdb0c86ddbcc7b2ddc2edd3bd2cc54dd0ce81f9bbacb5773275be3bd67e85b2 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=26747 --metrics-logging=true --store=true --relay=true
2026-02-12 04:50:08.778 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.7.39 waku 4fe6cbd8c7f3d59072072cd584e547f564be63126ef0483b7883c7fbe0a24a56
2026-02-12 04:50:08.808 DEBUG [src.node.docker_mananger] Container started with ID 4fe6cbd8c7f3. Setting up logs at ./log/docker/publishing_node1_2026-02-12_04-50-08__c12c6245-6f4f-460f-aa1c-5fdbc4c01c22__wakuorg_nwaku:latest.log
2026-02-12 04:50:08.809 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 26743
2026-02-12 04:50:08.809 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-12 04:50:08.821 ERROR [src.node.docker_mananger] Max retries reached for container 8493bece9798. Exiting log stream.
2026-02-12 04:50:09.376 ERROR [src.node.docker_mananger] Max retries reached for container 1fdbaa7cffe7. Exiting log stream.
2026-02-12 04:50:09.810 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26743/health" -H "Content-Type: application/json" -d 'None'
2026-02-12 04:50:09.813 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"READY"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"READY"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-12 04:50:09.813 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-12 04:50:09.813 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26743/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-12 04:50:09.816 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.7.39/tcp/26744/p2p/16Uiu2HAmFvtNGniBh9qPjB2tLm9HfE6YFcSSTkfN2GkiuAYeDHXf","/ip4/172.18.7.39/tcp/26745/ws/p2p/16Uiu2HAmFvtNGniBh9qPjB2tLm9HfE6YFcSSTkfN2GkiuAYeDHXf"],"enrUri":"enr:-L24QAU16f0SaI-Ek1ydaaQ_7u3zl6McqgSk-wRqI5EhItVqJ2NxR2NqFuEcdI36FQp09AAQo0hh6Voook3UB76h9LACgmlkgnY0gmlwhKwSByeKbXVsdGlhZGRyc5YACASsEgcnBmh4AAoErBIHJwZoed0DgnJzhQADAQAAiXNlY3AyNTZrMaEDMKWWswMqJgJfRcjb6x45my8I21E-627iWA77gTXb6gKDdGNwgmh4g3VkcIJoeoV3YWt1MgM"}'
2026-02-12 04:50:09.816 INFO [src.node.waku_node] REST service is ready !!
2026-02-12 04:50:09.823 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-12 04:50:09.823 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/store_node1_2026-02-12_04-50-08__c12c6245-6f4f-460f-aa1c-5fdbc4c01c22__wakuorg_nwaku:latest.log
2026-02-12 04:50:09.823 DEBUG [src.node.waku_node] Starting Node...
2026-02-12 04:50:09.824 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-12 04:50:09.825 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-12 04:50:09.825 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.179.253
2026-02-12 04:50:09.825 DEBUG [src.node.docker_mananger] Generated ports ['29585', '29586', '29587', '29588', '29589']
2026-02-12 04:50:09.825 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-12 04:50:09.825 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-12 04:50:09.825 DEBUG [src.node.waku_node] Using volumes []
2026-02-12 04:50:09.826 DEBUG [src.node.docker_mananger] docker run -i -t -p 29585:29585 -p 29586:29586 -p 29587:29587 -p 29588:29588 -p 29589:29589 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=29587 --rest-port=29585 --tcp-port=29586 --discv5-udp-port=29588 --rest-address=0.0.0.0 --nat=extip:172.18.179.253 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=1bde7fbda0bdd91141fc01965d61836e83fa89ad967e0a66f1fbeb9ac9be46aa --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=29589 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QAU16f0SaI-Ek1ydaaQ_7u3zl6McqgSk-wRqI5EhItVqJ2NxR2NqFuEcdI36FQp09AAQo0hh6Voook3UB76h9LACgmlkgnY0gmlwhKwSByeKbXVsdGlhZGRyc5YACASsEgcnBmh4AAoErBIHJwZoed0DgnJzhQADAQAAiXNlY3AyNTZrMaEDMKWWswMqJgJfRcjb6x45my8I21E-627iWA77gTXb6gKDdGNwgmh4g3VkcIJoeoV3YWt1MgM --storenode=/ip4/172.18.7.39/tcp/26744/p2p/16Uiu2HAmFvtNGniBh9qPjB2tLm9HfE6YFcSSTkfN2GkiuAYeDHXf --store=true --relay=true
2026-02-12 04:50:10.027 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.179.253 waku 32d3f3cb17f49bd13e829c37adbdbe7ca84e3490f8e5781432c9f17df00b46be
2026-02-12 04:50:10.059 DEBUG [src.node.docker_mananger] Container started with ID 32d3f3cb17f4. Setting up logs at ./log/docker/store_node1_2026-02-12_04-50-08__c12c6245-6f4f-460f-aa1c-5fdbc4c01c22__wakuorg_nwaku:latest.log
2026-02-12 04:50:10.059 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 29585
2026-02-12 04:50:10.060 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-12 04:50:11.062 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:29585/health" -H "Content-Type: application/json" -d 'None'
2026-02-12 04:50:11.066 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"READY"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"READY"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"READY"},{"Legacy Store Client":"READY"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-12 04:50:11.066 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-12 04:50:11.066 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:29585/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-12 04:50:11.069 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.179.253/tcp/29586/p2p/16Uiu2HAkyDSi5YHEvpndkfbMVmPoAj9mCDeQVXsZDRrj9s2P6PC9","/ip4/172.18.179.253/tcp/29587/ws/p2p/16Uiu2HAkyDSi5YHEvpndkfbMVmPoAj9mCDeQVXsZDRrj9s2P6PC9"],"enrUri":"enr:-L24QOYZ8S_0dMkoPTXa2s3CzkW2B5VxUGxRIjFgudNYkiKWcS9k00XEtdQ7mhkhL_8Sd9mbDFh2BOdx0LmeAbdZ1q0CgmlkgnY0gmlwhKwSs_2KbXVsdGlhZGRyc5YACASsErP9BnOSAAoErBKz_QZzk90DgnJzhQADAQAAiXNlY3AyNTZrMaECOEzFwnUlOLWg_i9iqKYAcqPL2b2q80a3cG15t_pXq-aDdGNwgnOSg3VkcIJzlIV3YWt1MgM"}'
2026-02-12 04:50:11.069 INFO [src.node.waku_node] REST service is ready !!
2026-02-12 04:50:11.069 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:29585/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.7.39/tcp/26744/p2p/16Uiu2HAmFvtNGniBh9qPjB2tLm9HfE6YFcSSTkfN2GkiuAYeDHXf"]'
2026-02-12 04:50:11.072 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-12 04:50:11.072 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:26743/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-12 04:50:11.075 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-12 04:50:11.075 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:29585/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-12 04:50:11.077 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-12 04:50:11.079 DEBUG [src.steps.store] Relaying message
2026-02-12 04:50:11.079 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:26743/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8w", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-12 04:50:11.085 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-12 04:50:11.085 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-12 04:50:11.286 DEBUG [src.steps.store] Relaying message
2026-02-12 04:50:11.286 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:26743/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8x", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-12 04:50:11.292 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-12 04:50:11.293 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-12 04:50:11.494 DEBUG [src.steps.store] Relaying message
2026-02-12 04:50:11.494 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:26743/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8y", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-12 04:50:11.499 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-12 04:50:11.500 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-12 04:50:11.700 DEBUG [src.steps.store] Relaying message
2026-02-12 04:50:11.701 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:26743/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8z", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-12 04:50:11.706 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-12 04:50:11.707 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-12 04:50:11.907 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26743/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=2&ascending=true" -H "Content-Type: application/json" -d 'None'
2026-02-12 04:50:11.910 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xf86ee17c56a597be8f750d32403eed36e5be505670ba5158e5c7856d46ad3b8c"},{"messageHash":"0x247332d22b0b813b77dde3eafa7279acb1916660bcdcdbbc3668144900e3ba47"}],"paginationCursor":"0x247332d22b0b813b77dde3eafa7279acb1916660bcdcdbbc3668144900e3ba47"}'
2026-02-12 04:50:11.911 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:29585/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=2&ascending=true" -H "Content-Type: application/json" -d 'None'
2026-02-12 04:50:11.913 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xf86ee17c56a597be8f750d32403eed36e5be505670ba5158e5c7856d46ad3b8c"},{"messageHash":"0x247332d22b0b813b77dde3eafa7279acb1916660bcdcdbbc3668144900e3ba47"}],"paginationCursor":"0x247332d22b0b813b77dde3eafa7279acb1916660bcdcdbbc3668144900e3ba47"}'
2026-02-12 04:50:11.914 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26743/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&cursor=0x247332d22b0b813b77dde3eafa7279acb1916660bcdcdbbc3668144900e3ba47&pageSize=100&ascending=true" -H "Content-Type: application/json" -d 'None'
2026-02-12 04:50:11.916 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x1a0cc185e83e805e4e40351e1bab8fa73857b221d5a9952aa82c4cf585b22573"},{"messageHash":"0xf2107796e392a1d4b0c02c7dd8d9d014e42d5b7332b2eeeb31063ae6062be191"}]}'
2026-02-12 04:50:11.917 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:29585/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&cursor=0x247332d22b0b813b77dde3eafa7279acb1916660bcdcdbbc3668144900e3ba47&pageSize=100&ascending=true" -H "Content-Type: application/json" -d 'None'
2026-02-12 04:50:11.919 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x1a0cc185e83e805e4e40351e1bab8fa73857b221d5a9952aa82c4cf585b22573"},{"messageHash":"0xf2107796e392a1d4b0c02c7dd8d9d014e42d5b7332b2eeeb31063ae6062be191"}]}'
2026-02-12 04:50:11.921 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-02-12 04:50:11.923 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-02-12 04:50:11.923 DEBUG [src.node.waku_node] Stopping container with id 4fe6cbd8c7f3
2026-02-12 04:50:12.498 DEBUG [src.node.waku_node] Container stopped.
2026-02-12 04:50:12.499 DEBUG [src.node.waku_node] Stopping container with id 32d3f3cb17f4
2026-02-12 04:50:13.037 DEBUG [src.node.waku_node] Container stopped.
2026-02-12 04:50:13.038 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-02-12 04:50:13.045 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-12 04:50:13.052 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
