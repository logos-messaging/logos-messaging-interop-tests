2026-02-12 04:48:02.569 DEBUG [tests.conftest] Running fixture setup: test_id
2026-02-12 04:48:02.569 DEBUG [tests.conftest] Running test: test_time_filter_start_time_after_end_time with id: 2026-02-12_04-48-02__1e0150f1-aa91-4c8e-bae2-57ec2a17adaa
2026-02-12 04:48:02.570 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-02-12 04:48:02.570 DEBUG [src.steps.store] Running fixture setup: store_setup
2026-02-12 04:48:02.571 DEBUG [src.steps.store] Running fixture setup: node_setup
2026-02-12 04:48:02.579 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-12 04:48:02.580 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/publishing_node1_2026-02-12_04-48-02__1e0150f1-aa91-4c8e-bae2-57ec2a17adaa__wakuorg_nwaku:latest.log
2026-02-12 04:48:02.580 DEBUG [src.node.waku_node] Starting Node...
2026-02-12 04:48:02.580 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-12 04:48:02.583 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-12 04:48:02.583 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.126.110
2026-02-12 04:48:02.583 DEBUG [src.node.docker_mananger] Generated ports ['25092', '25093', '25094', '25095', '25096']
2026-02-12 04:48:02.583 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-12 04:48:02.584 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-12 04:48:02.584 DEBUG [src.node.waku_node] Using volumes []
2026-02-12 04:48:02.584 DEBUG [src.node.docker_mananger] docker run -i -t -p 25092:25092 -p 25093:25093 -p 25094:25094 -p 25095:25095 -p 25096:25096 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=25094 --rest-port=25092 --tcp-port=25093 --discv5-udp-port=25095 --rest-address=0.0.0.0 --nat=extip:172.18.126.110 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c92baa1fb2bbbbc262d3e743afdfbc22b5cdaeac946e21fe51aa3cf74d230be3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=25096 --metrics-logging=true --store=true --relay=true
2026-02-12 04:48:02.769 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.126.110 waku 918d69e3fb8226db084588aa90d3eaf5e3abe92bace223a3a2ec3017e7ce06d5
2026-02-12 04:48:02.801 DEBUG [src.node.docker_mananger] Container started with ID 918d69e3fb82. Setting up logs at ./log/docker/publishing_node1_2026-02-12_04-48-02__1e0150f1-aa91-4c8e-bae2-57ec2a17adaa__wakuorg_nwaku:latest.log
2026-02-12 04:48:02.804 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 25092
2026-02-12 04:48:02.805 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-12 04:48:02.807 ERROR [src.node.docker_mananger] Max retries reached for container e6a70d0f77c1. Exiting log stream.
2026-02-12 04:48:03.408 ERROR [src.node.docker_mananger] Max retries reached for container 364a4bdc9dd5. Exiting log stream.
2026-02-12 04:48:03.806 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25092/health" -H "Content-Type: application/json" -d 'None'
2026-02-12 04:48:03.809 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"READY"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"READY"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-12 04:48:03.809 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-12 04:48:03.809 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25092/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-12 04:48:03.812 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.126.110/tcp/25093/p2p/16Uiu2HAm4UmHi4gFKFG4gfDwkyM7k52LfFDZYnfMPjsnPcvhtTnK","/ip4/172.18.126.110/tcp/25094/ws/p2p/16Uiu2HAm4UmHi4gFKFG4gfDwkyM7k52LfFDZYnfMPjsnPcvhtTnK"],"enrUri":"enr:-L24QCst_uyZoQ8xauu6mldLS4jAvPIS5YPJM9vZIh7XI8yuWKnfLkVtASzBdyAoaFst_GNdJu95wJgzO1M25wY2UrYCgmlkgnY0gmlwhKwSfm6KbXVsdGlhZGRyc5YACASsEn5uBmIFAAoErBJ-bgZiBt0DgnJzhQADAQAAiXNlY3AyNTZrMaEChoPtczIsgIvLcOyuPQHVnCsuT2NfL6ZA6VnjQN_GdUSDdGNwgmIFg3VkcIJiB4V3YWt1MgM"}'
2026-02-12 04:48:03.812 INFO [src.node.waku_node] REST service is ready !!
2026-02-12 04:48:03.819 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-12 04:48:03.819 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/store_node1_2026-02-12_04-48-02__1e0150f1-aa91-4c8e-bae2-57ec2a17adaa__wakuorg_nwaku:latest.log
2026-02-12 04:48:03.820 DEBUG [src.node.waku_node] Starting Node...
2026-02-12 04:48:03.820 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-12 04:48:03.821 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-12 04:48:03.821 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.184.51
2026-02-12 04:48:03.821 DEBUG [src.node.docker_mananger] Generated ports ['8412', '8413', '8414', '8415', '8416']
2026-02-12 04:48:03.822 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-12 04:48:03.822 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-12 04:48:03.822 DEBUG [src.node.waku_node] Using volumes []
2026-02-12 04:48:03.822 DEBUG [src.node.docker_mananger] docker run -i -t -p 8412:8412 -p 8413:8413 -p 8414:8414 -p 8415:8415 -p 8416:8416 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=8414 --rest-port=8412 --tcp-port=8413 --discv5-udp-port=8415 --rest-address=0.0.0.0 --nat=extip:172.18.184.51 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=efc6c7ba6fcc1da8c9ff5b32e6ecd6bc8c010a0b41b5db817ecab0dcd6ee16f0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=8416 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QCst_uyZoQ8xauu6mldLS4jAvPIS5YPJM9vZIh7XI8yuWKnfLkVtASzBdyAoaFst_GNdJu95wJgzO1M25wY2UrYCgmlkgnY0gmlwhKwSfm6KbXVsdGlhZGRyc5YACASsEn5uBmIFAAoErBJ-bgZiBt0DgnJzhQADAQAAiXNlY3AyNTZrMaEChoPtczIsgIvLcOyuPQHVnCsuT2NfL6ZA6VnjQN_GdUSDdGNwgmIFg3VkcIJiB4V3YWt1MgM --storenode=/ip4/172.18.126.110/tcp/25093/p2p/16Uiu2HAm4UmHi4gFKFG4gfDwkyM7k52LfFDZYnfMPjsnPcvhtTnK --store=true --relay=true
2026-02-12 04:48:04.009 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.184.51 waku 6cf5f71793d2959ad9ba11b49e4e64868b297db2272151233347422c9e57b34f
2026-02-12 04:48:04.041 DEBUG [src.node.docker_mananger] Container started with ID 6cf5f71793d2. Setting up logs at ./log/docker/store_node1_2026-02-12_04-48-02__1e0150f1-aa91-4c8e-bae2-57ec2a17adaa__wakuorg_nwaku:latest.log
2026-02-12 04:48:04.041 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 8412
2026-02-12 04:48:04.041 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-12 04:48:05.042 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8412/health" -H "Content-Type: application/json" -d 'None'
2026-02-12 04:48:05.046 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"READY"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"READY"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"READY"},{"Legacy Store Client":"READY"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-12 04:48:05.046 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-12 04:48:05.046 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8412/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-12 04:48:05.049 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.184.51/tcp/8413/p2p/16Uiu2HAmRnbRNZMXrLJmHsAFcXdWf7cb688sJZzP8rEFby9MPNXr","/ip4/172.18.184.51/tcp/8414/ws/p2p/16Uiu2HAmRnbRNZMXrLJmHsAFcXdWf7cb688sJZzP8rEFby9MPNXr"],"enrUri":"enr:-L24QPyXPLJaCc0qV5qPZ6pw1TLI1szAJaVPqy6BT9TXCy_MAb9Fm7DRNgbKZyW9CRVNZoEnJbrhvHF-4vmWQ2R1QNQCgmlkgnY0gmlwhKwSuDOKbXVsdGlhZGRyc5YACASsErgzBiDdAAoErBK4MwYg3t0DgnJzhQADAQAAiXNlY3AyNTZrMaEDwxqmYVRzJv9uyM3nXp3m0-wREaEJJVvgZZ7xdLwqy6GDdGNwgiDdg3VkcIIg34V3YWt1MgM"}'
2026-02-12 04:48:05.049 INFO [src.node.waku_node] REST service is ready !!
2026-02-12 04:48:05.049 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:8412/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.126.110/tcp/25093/p2p/16Uiu2HAm4UmHi4gFKFG4gfDwkyM7k52LfFDZYnfMPjsnPcvhtTnK"]'
2026-02-12 04:48:05.052 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-12 04:48:05.053 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:25092/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-12 04:48:05.055 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-12 04:48:05.056 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:8412/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-12 04:48:05.058 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-12 04:48:05.059 DEBUG [src.steps.store] Relaying message
2026-02-12 04:48:05.059 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:25092/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-12 04:48:05.064 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-12 04:48:05.065 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-12 04:48:05.266 DEBUG [src.steps.store] Relaying message
2026-02-12 04:48:05.266 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:25092/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-12 04:48:05.272 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-12 04:48:05.272 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-12 04:48:05.473 DEBUG [src.steps.store] Relaying message
2026-02-12 04:48:05.473 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:25092/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-12 04:48:05.478 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-12 04:48:05.478 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-12 04:48:05.679 DEBUG [src.steps.store] Relaying message
2026-02-12 04:48:05.679 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:25092/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-12 04:48:05.686 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-12 04:48:05.686 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-12 04:48:05.887 DEBUG [src.steps.store] Relaying message
2026-02-12 04:48:05.887 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:25092/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-12 04:48:05.893 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-12 04:48:05.893 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-12 04:48:06.094 DEBUG [src.steps.store] Relaying message
2026-02-12 04:48:06.094 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:25092/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-12 04:48:06.099 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-12 04:48:06.100 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-12 04:48:06.301 DEBUG [tests.store.test_time_filter] inquering stored messages with start time 1770871687058964992 after end time 1770871682058952192
2026-02-12 04:48:06.301 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25092/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=1770871687058964992&endTime=1770871682058952192&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
2026-02-12 04:48:06.304 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[]}'
2026-02-12 04:48:06.304 DEBUG [tests.store.test_time_filter] response for wrong time message is {'requestId': '', 'statusCode': 200, 'statusDesc': 'OK', 'messages': []}
2026-02-12 04:48:06.305 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8412/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=1770871687058964992&endTime=1770871682058952192&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
2026-02-12 04:48:06.307 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[]}'
2026-02-12 04:48:06.307 DEBUG [tests.store.test_time_filter] response for wrong time message is {'requestId': '', 'statusCode': 200, 'statusDesc': 'OK', 'messages': []}
2026-02-12 04:48:06.309 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-02-12 04:48:06.310 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-02-12 04:48:06.310 DEBUG [src.node.waku_node] Stopping container with id 918d69e3fb82
2026-02-12 04:48:06.869 DEBUG [src.node.waku_node] Container stopped.
2026-02-12 04:48:06.870 DEBUG [src.node.waku_node] Stopping container with id 6cf5f71793d2
2026-02-12 04:48:07.384 DEBUG [src.node.waku_node] Container stopped.
2026-02-12 04:48:07.387 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-02-12 04:48:07.394 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-12 04:48:07.401 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
