2026-02-12 04:46:28.238 DEBUG [tests.conftest] Running fixture setup: test_id
2026-02-12 04:46:28.238 DEBUG [tests.conftest] Running test: test_relay_subscribe_with_invalid_pubsub_topic_format with id: 2026-02-12_04-46-28__e6500ed5-697c-416a-b3bc-e8f7f445b89f
2026-02-12 04:46:28.238 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-02-12 04:46:28.239 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2026-02-12 04:46:28.239 DEBUG [src.steps.relay] Running fixture setup: setup_main_relay_nodes
2026-02-12 04:46:28.245 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-12 04:46:28.245 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2026-02-12_04-46-28__e6500ed5-697c-416a-b3bc-e8f7f445b89f__wakuorg_nwaku:latest.log
2026-02-12 04:46:28.246 DEBUG [src.node.waku_node] Starting Node...
2026-02-12 04:46:28.246 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-12 04:46:28.247 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-12 04:46:28.247 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.182.82
2026-02-12 04:46:28.247 DEBUG [src.node.docker_mananger] Generated ports ['8702', '8703', '8704', '8705', '8706']
2026-02-12 04:46:28.248 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-12 04:46:28.248 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-12 04:46:28.248 DEBUG [src.node.waku_node] Using volumes []
2026-02-12 04:46:28.248 DEBUG [src.node.docker_mananger] docker run -i -t -p 8702:8702 -p 8703:8703 -p 8704:8704 -p 8705:8705 -p 8706:8706 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=8704 --rest-port=8702 --tcp-port=8703 --discv5-udp-port=8705 --rest-address=0.0.0.0 --nat=extip:172.18.182.82 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ad12fdbbc0b8b130cdd7d6accabbf91b8b04fecc1afcd825fbcaa89742aee8d7 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=8706 --metrics-logging=true --relay=true
2026-02-12 04:46:28.432 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.182.82 waku 47f06cecd411f29678ea409c6ae47ff9c404908a2f2d89590c4acbeec163a98c
2026-02-12 04:46:28.461 DEBUG [src.node.docker_mananger] Container started with ID 47f06cecd411. Setting up logs at ./log/docker/node1_2026-02-12_04-46-28__e6500ed5-697c-416a-b3bc-e8f7f445b89f__wakuorg_nwaku:latest.log
2026-02-12 04:46:28.461 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 8702
2026-02-12 04:46:28.463 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-12 04:46:28.499 ERROR [src.node.docker_mananger] Max retries reached for container fcc304c1f1c0. Exiting log stream.
2026-02-12 04:46:29.012 ERROR [src.node.docker_mananger] Max retries reached for container 9ff6ae9023f7. Exiting log stream.
2026-02-12 04:46:29.463 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8702/health" -H "Content-Type: application/json" -d 'None'
2026-02-12 04:46:29.466 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-12 04:46:29.467 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-12 04:46:29.467 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8702/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-12 04:46:29.469 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.182.82/tcp/8703/p2p/16Uiu2HAmSyb4ivnosnD5K4FZjESLZ7REWfmYSzB97AXBwbGpPqas","/ip4/172.18.182.82/tcp/8704/ws/p2p/16Uiu2HAmSyb4ivnosnD5K4FZjESLZ7REWfmYSzB97AXBwbGpPqas"],"enrUri":"enr:-L24QLWK9h6pSgx2upasoMKrnAstsFY-pEh38GIEiBX23AXwHQXqn-3lqmwFWpcbLStLPRY43DQ_lLV04xwa6ib3b7ACgmlkgnY0gmlwhKwStlKKbXVsdGlhZGRyc5YACASsErZSBiH_AAoErBK2UgYiAN0DgnJzhQADAQAAiXNlY3AyNTZrMaED1MdSvWn-3WUqrrw0VFRgTFGU-x1wm3evd6xg8f2vvayDdGNwgiH_g3VkcIIiAYV3YWt1MgE"}'
2026-02-12 04:46:29.469 INFO [src.node.waku_node] REST service is ready !!
2026-02-12 04:46:29.476 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-12 04:46:29.476 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2026-02-12_04-46-28__e6500ed5-697c-416a-b3bc-e8f7f445b89f__wakuorg_nwaku:latest.log
2026-02-12 04:46:29.476 DEBUG [src.node.waku_node] Starting Node...
2026-02-12 04:46:29.476 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-12 04:46:29.477 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-12 04:46:29.478 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.230.57
2026-02-12 04:46:29.478 DEBUG [src.node.docker_mananger] Generated ports ['44674', '44675', '44676', '44677', '44678']
2026-02-12 04:46:29.478 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-12 04:46:29.478 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-12 04:46:29.478 DEBUG [src.node.waku_node] Using volumes []
2026-02-12 04:46:29.478 DEBUG [src.node.docker_mananger] docker run -i -t -p 44674:44674 -p 44675:44675 -p 44676:44676 -p 44677:44677 -p 44678:44678 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=44676 --rest-port=44674 --tcp-port=44675 --discv5-udp-port=44677 --rest-address=0.0.0.0 --nat=extip:172.18.230.57 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fca05b1bbeafbd7ac7298e3aadf471ea9de9e2ea8da3dfbcfdd6dbb76cadfddd --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=44678 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QLWK9h6pSgx2upasoMKrnAstsFY-pEh38GIEiBX23AXwHQXqn-3lqmwFWpcbLStLPRY43DQ_lLV04xwa6ib3b7ACgmlkgnY0gmlwhKwStlKKbXVsdGlhZGRyc5YACASsErZSBiH_AAoErBK2UgYiAN0DgnJzhQADAQAAiXNlY3AyNTZrMaED1MdSvWn-3WUqrrw0VFRgTFGU-x1wm3evd6xg8f2vvayDdGNwgiH_g3VkcIIiAYV3YWt1MgE
2026-02-12 04:46:29.657 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.230.57 waku 2db131328284dd8f4697eba19c6f662d7a9eb593eeb35dae039fb22886ab3feb
2026-02-12 04:46:29.692 DEBUG [src.node.docker_mananger] Container started with ID 2db131328284. Setting up logs at ./log/docker/node2_2026-02-12_04-46-28__e6500ed5-697c-416a-b3bc-e8f7f445b89f__wakuorg_nwaku:latest.log
2026-02-12 04:46:29.692 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 44674
2026-02-12 04:46:29.693 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-12 04:46:30.693 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44674/health" -H "Content-Type: application/json" -d 'None'
2026-02-12 04:46:30.699 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-12 04:46:30.702 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-12 04:46:30.702 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44674/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-12 04:46:30.706 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.230.57/tcp/44675/p2p/16Uiu2HAm5hJbZNKU68i6V9HKPSaBiP8Hr1To5yyynTgozrEjHaak","/ip4/172.18.230.57/tcp/44676/ws/p2p/16Uiu2HAm5hJbZNKU68i6V9HKPSaBiP8Hr1To5yyynTgozrEjHaak"],"enrUri":"enr:-L24QETc0fjEPHMqkvkxjW30oQcjiuXzy9-QY2gNpFR5CtYdLRldHCM3NOLW64pmGl2NR8zmAJgC8aWIoE4NGIzbbpUCgmlkgnY0gmlwhKwS5jmKbXVsdGlhZGRyc5YACASsEuY5Bq6DAAoErBLmOQauhN0DgnJzhQADAQAAiXNlY3AyNTZrMaECmJX75YkW50ir5B7sHLXTX3vL3W31E1B-RAgXlzH_dkmDdGNwgq6Dg3VkcIKuhYV3YWt1MgE"}'
2026-02-12 04:46:30.707 INFO [src.node.waku_node] REST service is ready !!
2026-02-12 04:46:30.708 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:44674/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.182.82/tcp/8703/p2p/16Uiu2HAmSyb4ivnosnD5K4FZjESLZ7REWfmYSzB97AXBwbGpPqas"]'
2026-02-12 04:46:30.710 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-12 04:46:30.711 DEBUG [tests.relay.test_subscribe] Running test with payload /test/2/rs/0/1
2026-02-12 04:46:30.711 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:8702/relay/v1/subscriptions" -H "Content-Type: application/json" -d '"/test/2/rs/0/1"'
2026-02-12 04:46:30.714 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:8702/relay/v1/subscriptions. Response content: b'Invalid content body, could not decode: Unable to deserialize data: '
2026-02-12 04:46:30.714 DEBUG [tests.relay.test_subscribe] Running test with payload /waku/3/rs/0/1
2026-02-12 04:46:30.715 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:8702/relay/v1/subscriptions" -H "Content-Type: application/json" -d '"/waku/3/rs/0/1"'
2026-02-12 04:46:30.717 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:8702/relay/v1/subscriptions. Response content: b'Invalid content body, could not decode: Unable to deserialize data: '
2026-02-12 04:46:30.718 DEBUG [tests.relay.test_subscribe] Running test with payload /waku/2/test/0/1
2026-02-12 04:46:30.718 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:8702/relay/v1/subscriptions" -H "Content-Type: application/json" -d '"/waku/2/test/0/1"'
2026-02-12 04:46:30.720 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:8702/relay/v1/subscriptions. Response content: b'Invalid content body, could not decode: Unable to deserialize data: '
2026-02-12 04:46:30.721 DEBUG [tests.relay.test_subscribe] Running test with payload /waku/2/rs/3/b
2026-02-12 04:46:30.721 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:8702/relay/v1/subscriptions" -H "Content-Type: application/json" -d '"/waku/2/rs/3/b"'
2026-02-12 04:46:30.723 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:8702/relay/v1/subscriptions. Response content: b'Invalid content body, could not decode: Unable to deserialize data: '
2026-02-12 04:46:30.723 DEBUG [tests.relay.test_subscribe] Running test with payload /waku/2/rs/0
2026-02-12 04:46:30.724 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:8702/relay/v1/subscriptions" -H "Content-Type: application/json" -d '"/waku/2/rs/0"'
2026-02-12 04:46:30.726 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:8702/relay/v1/subscriptions. Response content: b'Invalid content body, could not decode: Unable to deserialize data: '
2026-02-12 04:46:30.727 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-02-12 04:46:30.728 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-02-12 04:46:30.729 DEBUG [src.node.waku_node] Stopping container with id 47f06cecd411
2026-02-12 04:46:31.270 DEBUG [src.node.waku_node] Container stopped.
2026-02-12 04:46:31.271 DEBUG [src.node.waku_node] Stopping container with id 2db131328284
2026-02-12 04:46:31.820 DEBUG [src.node.waku_node] Container stopped.
2026-02-12 04:46:31.821 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-02-12 04:46:31.826 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-12 04:46:31.831 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
