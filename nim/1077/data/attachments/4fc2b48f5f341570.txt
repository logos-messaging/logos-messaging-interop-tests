2026-02-12 04:41:37.870 DEBUG [tests.conftest] Running fixture setup: test_id
2026-02-12 04:41:37.870 DEBUG [tests.conftest] Running test: test_unsubscribe_from_some_content_topics[content_topic_list1] with id: 2026-02-12_04-41-37__60e1d9f0-eb14-4df5-87e1-838e3078c48f
2026-02-12 04:41:37.870 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-02-12 04:41:37.871 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2026-02-12 04:41:37.871 DEBUG [src.steps.sharding] Running fixture setup: sharding_setup
2026-02-12 04:41:37.877 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-12 04:41:37.877 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2026-02-12_04-41-37__60e1d9f0-eb14-4df5-87e1-838e3078c48f__wakuorg_nwaku:latest.log
2026-02-12 04:41:37.877 DEBUG [src.node.waku_node] Starting Node...
2026-02-12 04:41:37.877 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-12 04:41:37.879 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-12 04:41:37.879 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.233.253
2026-02-12 04:41:37.879 DEBUG [src.node.docker_mananger] Generated ports ['45480', '45481', '45482', '45483', '45484']
2026-02-12 04:41:37.879 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-12 04:41:37.879 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-12 04:41:37.879 DEBUG [src.node.waku_node] Using volumes []
2026-02-12 04:41:37.879 DEBUG [src.node.docker_mananger] docker run -i -t -p 45480:45480 -p 45481:45481 -p 45482:45482 -p 45483:45483 -p 45484:45484 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=45482 --rest-port=45480 --tcp-port=45481 --discv5-udp-port=45483 --rest-address=0.0.0.0 --nat=extip:172.18.233.253 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=eee7d4f279bde5380257f7d4d166cd9a4b98cac89cc22d96157daf8c9ab444be --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=45484 --metrics-logging=true --relay=true --filter=true --content-topic=/myapp/1/latest/proto --num-shards-in-network=8
2026-02-12 04:41:38.024 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.233.253 waku 87d87c027c94b63aa753073bd078062a358d9cada76afe4ad5a8d3cab19b3ac8
2026-02-12 04:41:38.049 DEBUG [src.node.docker_mananger] Container started with ID 87d87c027c94. Setting up logs at ./log/docker/node1_2026-02-12_04-41-37__60e1d9f0-eb14-4df5-87e1-838e3078c48f__wakuorg_nwaku:latest.log
2026-02-12 04:41:38.049 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 45480
2026-02-12 04:41:38.049 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-12 04:41:38.192 ERROR [src.node.docker_mananger] Max retries reached for container ae4234b6414c. Exiting log stream.
2026-02-12 04:41:38.668 ERROR [src.node.docker_mananger] Max retries reached for container e24714e2efa9. Exiting log stream.
2026-02-12 04:41:39.051 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45480/health" -H "Content-Type: application/json" -d 'None'
2026-02-12 04:41:39.054 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_READY","desc":"Relay is not ready, filter will not be able to sort out messages"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-12 04:41:39.054 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-12 04:41:39.054 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45480/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-12 04:41:39.056 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.233.253/tcp/45481/p2p/16Uiu2HAmEKrFUQNArzLHGkLz1B1WKGnrZR3t9JFRniU2XeE2sifX","/ip4/172.18.233.253/tcp/45482/ws/p2p/16Uiu2HAmEKrFUQNArzLHGkLz1B1WKGnrZR3t9JFRniU2XeE2sifX"],"enrUri":"enr:-L24QHh8WkH5WF-T3uNc3y45pG1TOu7yD6ZxhhzAty7Hh5SUVteyRB9bW6a7IQx_Sa0-gSqMHQQmoVzd-L0vjRsW5kQCgmlkgnY0gmlwhKwS6f2KbXVsdGlhZGRyc5YACASsEun9BrGpAAoErBLp_Qaxqt0DgnJzhQACAQAAiXNlY3AyNTZrMaEDGNAt8O203pBxm8AA8MO7yTA0RuExcTO6Vx19DoGZMr6DdGNwgrGpg3VkcIKxq4V3YWt1MgU"}'
2026-02-12 04:41:39.056 INFO [src.node.waku_node] REST service is ready !!
2026-02-12 04:41:39.062 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-12 04:41:39.063 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2026-02-12_04-41-37__60e1d9f0-eb14-4df5-87e1-838e3078c48f__wakuorg_nwaku:latest.log
2026-02-12 04:41:39.063 DEBUG [src.node.waku_node] Starting Node...
2026-02-12 04:41:39.063 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-12 04:41:39.064 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-12 04:41:39.064 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.235.203
2026-02-12 04:41:39.064 DEBUG [src.node.docker_mananger] Generated ports ['46553', '46554', '46555', '46556', '46557']
2026-02-12 04:41:39.064 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-12 04:41:39.064 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-12 04:41:39.064 DEBUG [src.node.waku_node] Using volumes []
2026-02-12 04:41:39.064 DEBUG [src.node.docker_mananger] docker run -i -t -p 46553:46553 -p 46554:46554 -p 46555:46555 -p 46556:46556 -p 46557:46557 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=46555 --rest-port=46553 --tcp-port=46554 --discv5-udp-port=46556 --rest-address=0.0.0.0 --nat=extip:172.18.235.203 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=f0bdc44ac37a6c1bfadeb81df425d2fc199ca7bfa7dd04c4ab8efabb60a9ee81 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=46557 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QHh8WkH5WF-T3uNc3y45pG1TOu7yD6ZxhhzAty7Hh5SUVteyRB9bW6a7IQx_Sa0-gSqMHQQmoVzd-L0vjRsW5kQCgmlkgnY0gmlwhKwS6f2KbXVsdGlhZGRyc5YACASsEun9BrGpAAoErBLp_Qaxqt0DgnJzhQACAQAAiXNlY3AyNTZrMaEDGNAt8O203pBxm8AA8MO7yTA0RuExcTO6Vx19DoGZMr6DdGNwgrGpg3VkcIKxq4V3YWt1MgU --content-topic=/myapp/1/latest/proto --num-shards-in-network=8
2026-02-12 04:41:39.213 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.235.203 waku 141afdbd9592791988de48c31f8fa4ebee553d67ee643a1df87085781ac0af8c
2026-02-12 04:41:39.235 DEBUG [src.node.docker_mananger] Container started with ID 141afdbd9592. Setting up logs at ./log/docker/node2_2026-02-12_04-41-37__60e1d9f0-eb14-4df5-87e1-838e3078c48f__wakuorg_nwaku:latest.log
2026-02-12 04:41:39.236 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 46553
2026-02-12 04:41:39.236 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-12 04:41:40.236 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46553/health" -H "Content-Type: application/json" -d 'None'
2026-02-12 04:41:40.261 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"READY"}]}'
2026-02-12 04:41:40.263 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-12 04:41:40.263 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46553/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-12 04:41:40.266 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.235.203/tcp/46554/p2p/16Uiu2HAmDcQ38x1wFFv247LjDPgNecP4unxd7s9hyeaNtXiSQgE6","/ip4/172.18.235.203/tcp/46555/ws/p2p/16Uiu2HAmDcQ38x1wFFv247LjDPgNecP4unxd7s9hyeaNtXiSQgE6"],"enrUri":"enr:-L24QFPLbgelt21sagBOx2TeCc6yXKyffWIKNWzadK60nCkrMqfkgubS513oMERKNyuLXzcpcrWnb5cb4sRN5hj98y4CgmlkgnY0gmlwhKwS68uKbXVsdGlhZGRyc5YACASsEuvLBrXaAAoErBLrywa1290DgnJzhQACAQAAiXNlY3AyNTZrMaEDDjG6Pl0rbBNbLrouZxBNn8Nf32BIzrPa0ViBMlp40DuDdGNwgrXag3VkcIK13IV3YWt1MgE"}'
2026-02-12 04:41:40.267 INFO [src.node.waku_node] REST service is ready !!
2026-02-12 04:41:40.267 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46553/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.233.253/tcp/45481/p2p/16Uiu2HAmEKrFUQNArzLHGkLz1B1WKGnrZR3t9JFRniU2XeE2sifX"]'
2026-02-12 04:41:40.270 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-12 04:41:40.270 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45480/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2026-02-12 04:41:40.277 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-12 04:41:40.278 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46553/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2026-02-12 04:41:40.288 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-12 04:41:40.289 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45480/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-12 04:41:40.300 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-12 04:41:40.300 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-12 04:41:40.401 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-12 04:41:40.401 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45480/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2026-02-12 04:41:40.404 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770871300289456339,"ephemeral":false,"proof":""}]'
2026-02-12 04:41:40.406 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-12 04:41:40.406 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46553/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2026-02-12 04:41:40.408 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770871300289456339,"ephemeral":false,"proof":""}]'
2026-02-12 04:41:40.410 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45480/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2026-02-12 04:41:40.413 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-12 04:41:40.413 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-12 04:41:40.514 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-12 04:41:40.514 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45480/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2026-02-12 04:41:40.517 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/waku/2/content/test.js","version":0,"timestamp":1770871300409976549,"ephemeral":false,"proof":""}]'
2026-02-12 04:41:40.518 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-12 04:41:40.519 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46553/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2026-02-12 04:41:40.521 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/waku/2/content/test.js","version":0,"timestamp":1770871300409976549,"ephemeral":false,"proof":""}]'
2026-02-12 04:41:40.523 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45480/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-02-12 04:41:40.527 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-12 04:41:40.527 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-12 04:41:40.628 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-12 04:41:40.628 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45480/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-02-12 04:41:40.631 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/22/sometopic/someencoding","version":0,"timestamp":1770871300522905979,"ephemeral":false,"proof":""}]'
2026-02-12 04:41:40.632 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-12 04:41:40.632 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46553/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-02-12 04:41:40.635 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/22/sometopic/someencoding","version":0,"timestamp":1770871300522905979,"ephemeral":false,"proof":""}]'
2026-02-12 04:41:40.636 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45480/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2026-02-12 04:41:40.640 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-12 04:41:40.641 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-12 04:41:40.741 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-12 04:41:40.741 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45480/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2026-02-12 04:41:40.744 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1770871300636678093,"ephemeral":false,"proof":""}]'
2026-02-12 04:41:40.745 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-12 04:41:40.746 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46553/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2026-02-12 04:41:40.748 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1770871300636678093,"ephemeral":false,"proof":""}]'
2026-02-12 04:41:40.750 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45480/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2026-02-12 04:41:40.753 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-12 04:41:40.754 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-12 04:41:40.854 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-12 04:41:40.855 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45480/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2026-02-12 04:41:40.858 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1770871300750034617,"ephemeral":false,"proof":""}]'
2026-02-12 04:41:40.859 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-12 04:41:40.859 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46553/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2026-02-12 04:41:40.861 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1770871300750034617,"ephemeral":false,"proof":""}]'
2026-02-12 04:41:40.863 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45480/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-02-12 04:41:40.867 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-12 04:41:40.867 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-12 04:41:40.968 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-12 04:41:40.968 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45480/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-02-12 04:41:40.971 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1770871300863336424,"ephemeral":false,"proof":""}]'
2026-02-12 04:41:40.972 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-12 04:41:40.972 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46553/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-02-12 04:41:40.974 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1770871300863336424,"ephemeral":false,"proof":""}]'
2026-02-12 04:41:40.976 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45480/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-02-12 04:41:40.980 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-12 04:41:40.980 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-12 04:41:41.081 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-12 04:41:41.081 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45480/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-02-12 04:41:41.084 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1770871300976387782,"ephemeral":false,"proof":""}]'
2026-02-12 04:41:41.086 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-12 04:41:41.086 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46553/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-02-12 04:41:41.088 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1770871300976387782,"ephemeral":false,"proof":""}]'
2026-02-12 04:41:41.090 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45480/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-02-12 04:41:41.094 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-12 04:41:41.095 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-12 04:41:41.196 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-12 04:41:41.196 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45480/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-02-12 04:41:41.199 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1770871301090030130,"ephemeral":false,"proof":""}]'
2026-02-12 04:41:41.200 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-12 04:41:41.201 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46553/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-02-12 04:41:41.203 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1770871301090030130,"ephemeral":false,"proof":""}]'
2026-02-12 04:41:41.204 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:45480/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding"]'
2026-02-12 04:41:41.210 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-12 04:41:41.211 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:46553/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding"]'
2026-02-12 04:41:41.216 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-12 04:41:41.217 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45480/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-12 04:41:41.222 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-12 04:41:41.222 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-12 04:41:41.323 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-12 04:41:41.323 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45480/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2026-02-12 04:41:41.326 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:45480/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto. Response content: b'/myapp/1/latest/proto'
2026-02-12 04:41:41.327 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45480/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2026-02-12 04:41:41.351 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-12 04:41:41.351 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-12 04:41:41.451 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-12 04:41:41.451 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45480/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2026-02-12 04:41:41.454 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:45480/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js. Response content: b'/waku/2/content/test.js'
2026-02-12 04:41:41.455 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45480/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-02-12 04:41:41.458 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-12 04:41:41.458 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-12 04:41:41.558 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-12 04:41:41.559 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45480/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-02-12 04:41:41.561 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:45480/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding. Response content: b'/app/22/sometopic/someencoding'
2026-02-12 04:41:41.563 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45480/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2026-02-12 04:41:41.567 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-12 04:41:41.567 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-12 04:41:41.667 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-12 04:41:41.668 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45480/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2026-02-12 04:41:41.670 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1770871301562963904,"ephemeral":false,"proof":""}]'
2026-02-12 04:41:41.672 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-12 04:41:41.672 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46553/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2026-02-12 04:41:41.674 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1770871301562963904,"ephemeral":false,"proof":""}]'
2026-02-12 04:41:41.675 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45480/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2026-02-12 04:41:41.680 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-12 04:41:41.680 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-12 04:41:41.780 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-12 04:41:41.781 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45480/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2026-02-12 04:41:41.784 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1770871301675884053,"ephemeral":false,"proof":""}]'
2026-02-12 04:41:41.785 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-12 04:41:41.785 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46553/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2026-02-12 04:41:41.787 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1770871301675884053,"ephemeral":false,"proof":""}]'
2026-02-12 04:41:41.789 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45480/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-02-12 04:41:41.793 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-12 04:41:41.793 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-12 04:41:41.893 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-12 04:41:41.894 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45480/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-02-12 04:41:41.897 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1770871301788934491,"ephemeral":false,"proof":""}]'
2026-02-12 04:41:41.898 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-12 04:41:41.899 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46553/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-02-12 04:41:41.901 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1770871301788934491,"ephemeral":false,"proof":""}]'
2026-02-12 04:41:41.903 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45480/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-02-12 04:41:41.906 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-12 04:41:41.907 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-12 04:41:42.007 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-12 04:41:42.008 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45480/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-02-12 04:41:42.010 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1770871301902940752,"ephemeral":false,"proof":""}]'
2026-02-12 04:41:42.011 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-12 04:41:42.012 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46553/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-02-12 04:41:42.014 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1770871301902940752,"ephemeral":false,"proof":""}]'
2026-02-12 04:41:42.015 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45480/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-02-12 04:41:42.020 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-12 04:41:42.020 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-12 04:41:42.120 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-12 04:41:42.121 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45480/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-02-12 04:41:42.123 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1770871302015752388,"ephemeral":false,"proof":""}]'
2026-02-12 04:41:42.125 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-12 04:41:42.125 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46553/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-02-12 04:41:42.127 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1770871302015752388,"ephemeral":false,"proof":""}]'
2026-02-12 04:41:42.130 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-02-12 04:41:42.131 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-02-12 04:41:42.131 DEBUG [src.node.waku_node] Stopping container with id 87d87c027c94
2026-02-12 04:41:42.602 DEBUG [src.node.waku_node] Container stopped.
2026-02-12 04:41:42.602 DEBUG [src.node.waku_node] Stopping container with id 141afdbd9592
2026-02-12 04:41:43.047 DEBUG [src.node.waku_node] Container stopped.
2026-02-12 04:41:43.048 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-02-12 04:41:43.060 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-12 04:41:43.070 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
