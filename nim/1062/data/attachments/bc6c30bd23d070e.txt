2026-01-30 04:33:40.478 DEBUG [tests.conftest] Running fixture setup: test_id
2026-01-30 04:33:40.478 DEBUG [tests.conftest] Running test: test_unsubscribe_from_some_content_topics[content_topic_list1] with id: 2026-01-30_04-33-40__3090d0cd-0b4b-4b3d-9b3d-ec8afe8dfb28
2026-01-30 04:33:40.479 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-01-30 04:33:40.479 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2026-01-30 04:33:40.479 DEBUG [src.steps.sharding] Running fixture setup: sharding_setup
2026-01-30 04:33:40.486 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-01-30 04:33:40.487 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2026-01-30_04-33-40__3090d0cd-0b4b-4b3d-9b3d-ec8afe8dfb28__wakuorg_nwaku:latest.log
2026-01-30 04:33:40.487 DEBUG [src.node.waku_node] Starting Node...
2026-01-30 04:33:40.487 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-01-30 04:33:40.488 DEBUG [src.node.docker_mananger] Network waku already exists
2026-01-30 04:33:40.489 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.165.207
2026-01-30 04:33:40.489 DEBUG [src.node.docker_mananger] Generated ports ['2144', '2145', '2146', '2147', '2148']
2026-01-30 04:33:40.489 DEBUG [src.node.waku_node] RLN credentials were not set
2026-01-30 04:33:40.489 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-01-30 04:33:40.489 DEBUG [src.node.waku_node] Using volumes []
2026-01-30 04:33:40.489 DEBUG [src.node.docker_mananger] docker run -i -t -p 2144:2144 -p 2145:2145 -p 2146:2146 -p 2147:2147 -p 2148:2148 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=2146 --rest-port=2144 --tcp-port=2145 --discv5-udp-port=2147 --rest-address=0.0.0.0 --nat=extip:172.18.165.207 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=7a866af992f8c33b23a5ca2fc07a8befcfac2ba635feb0ee23dcddc535ef8a5d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=2148 --metrics-logging=true --relay=true --filter=true --content-topic=/myapp/1/latest/proto --num-shards-in-network=8
2026-01-30 04:33:40.667 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.165.207 waku d86acaecd23f8d5eb28500b439055f00d47c4abdf45ce3ebb6a9192f9fa44521
2026-01-30 04:33:40.698 DEBUG [src.node.docker_mananger] Container started with ID d86acaecd23f. Setting up logs at ./log/docker/node1_2026-01-30_04-33-40__3090d0cd-0b4b-4b3d-9b3d-ec8afe8dfb28__wakuorg_nwaku:latest.log
2026-01-30 04:33:40.699 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 2144
2026-01-30 04:33:40.700 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-01-30 04:33:40.770 ERROR [src.node.docker_mananger] Max retries reached for container 1652243ff2d9. Exiting log stream.
2026-01-30 04:33:41.278 ERROR [src.node.docker_mananger] Max retries reached for container 8bf62d938d6d. Exiting log stream.
2026-01-30 04:33:41.700 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2144/health" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:33:41.703 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_READY","desc":"Relay is not ready, filter will not be able to sort out messages"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-01-30 04:33:41.703 INFO [src.node.waku_node] Node protocols are initialized !!
2026-01-30 04:33:41.704 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2144/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:33:41.706 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.165.207/tcp/2145/p2p/16Uiu2HAm5XQj1mr7NcgFMFZSyyezF2ohWDgd6KTGzqiRSF8sPeot","/ip4/172.18.165.207/tcp/2146/ws/p2p/16Uiu2HAm5XQj1mr7NcgFMFZSyyezF2ohWDgd6KTGzqiRSF8sPeot"],"enrUri":"enr:-L24QBJGBIaLqfvUS0nCaesEfqvCDkDKGW4-bfZY2_nQT5W9MLJmkalBhRT9UPzB3JeHP4gooykTpTzZ0Q29O8tVeHMCgmlkgnY0gmlwhKwSpc-KbXVsdGlhZGRyc5YACASsEqXPBghhAAoErBKlzwYIYt0DgnJzhQACAQAAiXNlY3AyNTZrMaEClg0a_jqouPf4rH-hh3gWOk9zy2YJAHPH_mMwlgIS7MODdGNwgghhg3VkcIIIY4V3YWt1MgU"}'
2026-01-30 04:33:41.706 INFO [src.node.waku_node] REST service is ready !!
2026-01-30 04:33:41.713 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-01-30 04:33:41.713 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2026-01-30_04-33-40__3090d0cd-0b4b-4b3d-9b3d-ec8afe8dfb28__wakuorg_nwaku:latest.log
2026-01-30 04:33:41.713 DEBUG [src.node.waku_node] Starting Node...
2026-01-30 04:33:41.713 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-01-30 04:33:41.714 DEBUG [src.node.docker_mananger] Network waku already exists
2026-01-30 04:33:41.715 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.215.15
2026-01-30 04:33:41.715 DEBUG [src.node.docker_mananger] Generated ports ['18742', '18743', '18744', '18745', '18746']
2026-01-30 04:33:41.715 DEBUG [src.node.waku_node] RLN credentials were not set
2026-01-30 04:33:41.715 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-01-30 04:33:41.715 DEBUG [src.node.waku_node] Using volumes []
2026-01-30 04:33:41.715 DEBUG [src.node.docker_mananger] docker run -i -t -p 18742:18742 -p 18743:18743 -p 18744:18744 -p 18745:18745 -p 18746:18746 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=18744 --rest-port=18742 --tcp-port=18743 --discv5-udp-port=18745 --rest-address=0.0.0.0 --nat=extip:172.18.215.15 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=e67cd4b8e4e5ac96cd0baafaa2dbbd8bfcaf8391dbccad0b185a71c45dda77db --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=18746 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QBJGBIaLqfvUS0nCaesEfqvCDkDKGW4-bfZY2_nQT5W9MLJmkalBhRT9UPzB3JeHP4gooykTpTzZ0Q29O8tVeHMCgmlkgnY0gmlwhKwSpc-KbXVsdGlhZGRyc5YACASsEqXPBghhAAoErBKlzwYIYt0DgnJzhQACAQAAiXNlY3AyNTZrMaEClg0a_jqouPf4rH-hh3gWOk9zy2YJAHPH_mMwlgIS7MODdGNwgghhg3VkcIIIY4V3YWt1MgU --content-topic=/myapp/1/latest/proto --num-shards-in-network=8
2026-01-30 04:33:41.907 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.215.15 waku 2fcc31c9092f2f29344d8d9b9418af4f2847921ab93e982a1352fb27d7a74d81
2026-01-30 04:33:41.936 DEBUG [src.node.docker_mananger] Container started with ID 2fcc31c9092f. Setting up logs at ./log/docker/node2_2026-01-30_04-33-40__3090d0cd-0b4b-4b3d-9b3d-ec8afe8dfb28__wakuorg_nwaku:latest.log
2026-01-30 04:33:41.937 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 18742
2026-01-30 04:33:41.937 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-01-30 04:33:42.937 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18742/health" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:33:42.950 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"READY"}]}'
2026-01-30 04:33:42.951 INFO [src.node.waku_node] Node protocols are initialized !!
2026-01-30 04:33:42.951 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18742/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:33:42.957 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.215.15/tcp/18743/p2p/16Uiu2HAm3GqhfhpfrARmR3MhiQRqS1ToyjmkWuHPBVgThtM8xACD","/ip4/172.18.215.15/tcp/18744/ws/p2p/16Uiu2HAm3GqhfhpfrARmR3MhiQRqS1ToyjmkWuHPBVgThtM8xACD"],"enrUri":"enr:-L24QC2n_5Y2TUYe15fvli4qmf6yFlirQzL1GSnGTqvGuKUgT4DKIeVgMEL02Ku9nPyRAXWGJozqZnTv2MXcjLaiq6QCgmlkgnY0gmlwhKwS1w-KbXVsdGlhZGRyc5YACASsEtcPBkk3AAoErBLXDwZJON0DgnJzhQACAQAAiXNlY3AyNTZrMaECdJpCw_KmgKx7wnI_AIc6ekgsDDNS3ryBR9y_7ndPthaDdGNwgkk3g3VkcIJJOYV3YWt1MgE"}'
2026-01-30 04:33:42.958 INFO [src.node.waku_node] REST service is ready !!
2026-01-30 04:33:42.959 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:18742/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.165.207/tcp/2145/p2p/16Uiu2HAm5XQj1mr7NcgFMFZSyyezF2ohWDgd6KTGzqiRSF8sPeot"]'
2026-01-30 04:33:42.961 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-30 04:33:42.962 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2144/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2026-01-30 04:33:42.971 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-30 04:33:42.971 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:18742/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2026-01-30 04:33:42.984 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-30 04:33:42.984 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2144/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-01-30 04:33:42.996 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-30 04:33:42.997 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-01-30 04:33:43.099 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-01-30 04:33:43.100 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2144/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:33:43.102 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1769747622984706305,"ephemeral":false,"proof":""}]'
2026-01-30 04:33:43.104 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-01-30 04:33:43.104 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18742/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:33:43.106 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1769747622984706305,"ephemeral":false,"proof":""}]'
2026-01-30 04:33:43.108 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2144/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2026-01-30 04:33:43.113 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-30 04:33:43.113 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-01-30 04:33:43.213 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-01-30 04:33:43.214 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2144/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:33:43.216 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/waku/2/content/test.js","version":0,"timestamp":1769747623108534796,"ephemeral":false,"proof":""}]'
2026-01-30 04:33:43.218 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-01-30 04:33:43.218 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18742/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:33:43.220 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/waku/2/content/test.js","version":0,"timestamp":1769747623108534796,"ephemeral":false,"proof":""}]'
2026-01-30 04:33:43.222 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2144/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-01-30 04:33:43.226 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-30 04:33:43.227 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-01-30 04:33:43.327 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-01-30 04:33:43.328 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2144/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:33:43.330 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/22/sometopic/someencoding","version":0,"timestamp":1769747623222561205,"ephemeral":false,"proof":""}]'
2026-01-30 04:33:43.332 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-01-30 04:33:43.332 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18742/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:33:43.334 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/22/sometopic/someencoding","version":0,"timestamp":1769747623222561205,"ephemeral":false,"proof":""}]'
2026-01-30 04:33:43.336 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2144/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2026-01-30 04:33:43.340 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-30 04:33:43.340 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-01-30 04:33:43.441 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-01-30 04:33:43.442 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2144/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:33:43.444 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1769747623336233180,"ephemeral":false,"proof":""}]'
2026-01-30 04:33:43.446 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-01-30 04:33:43.446 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18742/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:33:43.449 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1769747623336233180,"ephemeral":false,"proof":""}]'
2026-01-30 04:33:43.450 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2144/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2026-01-30 04:33:43.454 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-30 04:33:43.455 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-01-30 04:33:43.555 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-01-30 04:33:43.556 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2144/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:33:43.558 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1769747623450710190,"ephemeral":false,"proof":""}]'
2026-01-30 04:33:43.560 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-01-30 04:33:43.560 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18742/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:33:43.563 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1769747623450710190,"ephemeral":false,"proof":""}]'
2026-01-30 04:33:43.564 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2144/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-01-30 04:33:43.569 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-30 04:33:43.569 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-01-30 04:33:43.669 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-01-30 04:33:43.670 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2144/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:33:43.673 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1769747623564737901,"ephemeral":false,"proof":""}]'
2026-01-30 04:33:43.675 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-01-30 04:33:43.676 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18742/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:33:43.679 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1769747623564737901,"ephemeral":false,"proof":""}]'
2026-01-30 04:33:43.680 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2144/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-01-30 04:33:43.685 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-30 04:33:43.685 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-01-30 04:33:43.786 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-01-30 04:33:43.786 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2144/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:33:43.789 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1769747623680784704,"ephemeral":false,"proof":""}]'
2026-01-30 04:33:43.790 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-01-30 04:33:43.791 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18742/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:33:43.793 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1769747623680784704,"ephemeral":false,"proof":""}]'
2026-01-30 04:33:43.794 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2144/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-01-30 04:33:43.799 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-30 04:33:43.799 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-01-30 04:33:43.900 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-01-30 04:33:43.900 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2144/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:33:43.903 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1769747623794752420,"ephemeral":false,"proof":""}]'
2026-01-30 04:33:43.904 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-01-30 04:33:43.905 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18742/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:33:43.907 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1769747623794752420,"ephemeral":false,"proof":""}]'
2026-01-30 04:33:43.908 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:2144/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding"]'
2026-01-30 04:33:43.914 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-30 04:33:43.915 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:18742/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding"]'
2026-01-30 04:33:43.923 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-30 04:33:43.924 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2144/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-01-30 04:33:43.929 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-30 04:33:43.929 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-01-30 04:33:44.029 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-01-30 04:33:44.030 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2144/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:33:44.033 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:2144/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto. Response content: b'/myapp/1/latest/proto'
2026-01-30 04:33:44.034 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2144/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2026-01-30 04:33:44.037 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-30 04:33:44.037 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-01-30 04:33:44.137 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-01-30 04:33:44.138 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2144/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:33:44.141 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:2144/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js. Response content: b'/waku/2/content/test.js'
2026-01-30 04:33:44.143 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2144/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-01-30 04:33:44.145 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-30 04:33:44.145 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-01-30 04:33:44.246 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-01-30 04:33:44.246 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2144/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:33:44.249 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:2144/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding. Response content: b'/app/22/sometopic/someencoding'
2026-01-30 04:33:44.250 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2144/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2026-01-30 04:33:44.255 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-30 04:33:44.255 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-01-30 04:33:44.356 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-01-30 04:33:44.356 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2144/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:33:44.359 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1769747624250814600,"ephemeral":false,"proof":""}]'
2026-01-30 04:33:44.360 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-01-30 04:33:44.361 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18742/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:33:44.363 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1769747624250814600,"ephemeral":false,"proof":""}]'
2026-01-30 04:33:44.365 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2144/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2026-01-30 04:33:44.369 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-30 04:33:44.369 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-01-30 04:33:44.470 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-01-30 04:33:44.470 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2144/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:33:44.473 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1769747624364922714,"ephemeral":false,"proof":""}]'
2026-01-30 04:33:44.475 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-01-30 04:33:44.475 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18742/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:33:44.477 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1769747624364922714,"ephemeral":false,"proof":""}]'
2026-01-30 04:33:44.479 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2144/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-01-30 04:33:44.483 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-30 04:33:44.484 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-01-30 04:33:44.584 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-01-30 04:33:44.584 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2144/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:33:44.587 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1769747624479108335,"ephemeral":false,"proof":""}]'
2026-01-30 04:33:44.589 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-01-30 04:33:44.589 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18742/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:33:44.592 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1769747624479108335,"ephemeral":false,"proof":""}]'
2026-01-30 04:33:44.594 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2144/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-01-30 04:33:44.598 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-30 04:33:44.598 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-01-30 04:33:44.698 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-01-30 04:33:44.699 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2144/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:33:44.702 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1769747624594091340,"ephemeral":false,"proof":""}]'
2026-01-30 04:33:44.703 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-01-30 04:33:44.703 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18742/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:33:44.705 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1769747624594091340,"ephemeral":false,"proof":""}]'
2026-01-30 04:33:44.730 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2144/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-01-30 04:33:44.734 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-30 04:33:44.735 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-01-30 04:33:44.835 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-01-30 04:33:44.836 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2144/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:33:44.838 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1769747624730129287,"ephemeral":false,"proof":""}]'
2026-01-30 04:33:44.840 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-01-30 04:33:44.840 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18742/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:33:44.842 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1769747624730129287,"ephemeral":false,"proof":""}]'
2026-01-30 04:33:44.845 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-01-30 04:33:44.846 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-01-30 04:33:44.846 DEBUG [src.node.waku_node] Stopping container with id d86acaecd23f
2026-01-30 04:33:45.396 DEBUG [src.node.waku_node] Container stopped.
2026-01-30 04:33:45.397 DEBUG [src.node.waku_node] Stopping container with id 2fcc31c9092f
2026-01-30 04:33:45.907 DEBUG [src.node.waku_node] Container stopped.
2026-01-30 04:33:45.910 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-01-30 04:33:45.921 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-01-30 04:33:45.931 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
