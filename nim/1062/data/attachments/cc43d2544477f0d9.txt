2026-01-30 04:33:58.192 DEBUG [tests.conftest] Running fixture setup: test_id
2026-01-30 04:33:58.192 DEBUG [tests.conftest] Running test: test_time_filter_invalid_start_time with id: 2026-01-30_04-33-58__4ca32d62-175f-4889-ba2c-11edf6cae04f
2026-01-30 04:33:58.192 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-01-30 04:33:58.193 DEBUG [src.steps.store] Running fixture setup: store_setup
2026-01-30 04:33:58.193 DEBUG [src.steps.store] Running fixture setup: node_setup
2026-01-30 04:33:58.199 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-01-30 04:33:58.200 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/publishing_node1_2026-01-30_04-33-58__4ca32d62-175f-4889-ba2c-11edf6cae04f__wakuorg_nwaku:latest.log
2026-01-30 04:33:58.200 DEBUG [src.node.waku_node] Starting Node...
2026-01-30 04:33:58.200 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-01-30 04:33:58.201 DEBUG [src.node.docker_mananger] Network waku already exists
2026-01-30 04:33:58.201 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.182.223
2026-01-30 04:33:58.201 DEBUG [src.node.docker_mananger] Generated ports ['31456', '31457', '31458', '31459', '31460']
2026-01-30 04:33:58.201 DEBUG [src.node.waku_node] RLN credentials were not set
2026-01-30 04:33:58.202 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-01-30 04:33:58.202 DEBUG [src.node.waku_node] Using volumes []
2026-01-30 04:33:58.202 DEBUG [src.node.docker_mananger] docker run -i -t -p 31456:31456 -p 31457:31457 -p 31458:31458 -p 31459:31459 -p 31460:31460 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=31458 --rest-port=31456 --tcp-port=31457 --discv5-udp-port=31459 --rest-address=0.0.0.0 --nat=extip:172.18.182.223 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=56fd57e69d5af3defeddbcc20bef4845d817bdccb0c0ca6fde3e4cdf9a44af72 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=31460 --metrics-logging=true --store=true --relay=true
2026-01-30 04:33:58.352 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.182.223 waku b15bbadebea142836b3d83e8f4a2f28d686a4ad7ff20f7e1a7eaf136b1900dfb
2026-01-30 04:33:58.379 DEBUG [src.node.docker_mananger] Container started with ID b15bbadebea1. Setting up logs at ./log/docker/publishing_node1_2026-01-30_04-33-58__4ca32d62-175f-4889-ba2c-11edf6cae04f__wakuorg_nwaku:latest.log
2026-01-30 04:33:58.380 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 31456
2026-01-30 04:33:58.380 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-01-30 04:33:58.486 ERROR [src.node.docker_mananger] Max retries reached for container f0dd234e7eb9. Exiting log stream.
2026-01-30 04:33:58.983 ERROR [src.node.docker_mananger] Max retries reached for container c904893fecf0. Exiting log stream.
2026-01-30 04:33:59.381 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31456/health" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:33:59.384 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"READY"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"READY"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-01-30 04:33:59.384 INFO [src.node.waku_node] Node protocols are initialized !!
2026-01-30 04:33:59.385 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31456/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:33:59.387 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.182.223/tcp/31457/p2p/16Uiu2HAmMkg4xCsdiqfUvnt1vWoXdFZivbtdEZtjFjqHx8Ck31mu","/ip4/172.18.182.223/tcp/31458/ws/p2p/16Uiu2HAmMkg4xCsdiqfUvnt1vWoXdFZivbtdEZtjFjqHx8Ck31mu"],"enrUri":"enr:-L24QOOdO_ay9mME4ETWAVh__3ZzAUbSdA0veu9GGRs7QvlnNd5etEx3ppB0IoILDG5c71bhPnMCbmddkUtVOR9K6i0CgmlkgnY0gmlwhKwStt-KbXVsdGlhZGRyc5YACASsErbfBnrhAAoErBK23wZ64t0DgnJzhQADAQAAiXNlY3AyNTZrMaEDhy3-_BGaMlFiq6NVpIzm1b6Ohc5MMABHiNNn94_SE0yDdGNwgnrhg3VkcIJ644V3YWt1MgM"}'
2026-01-30 04:33:59.387 INFO [src.node.waku_node] REST service is ready !!
2026-01-30 04:33:59.394 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-01-30 04:33:59.394 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/store_node1_2026-01-30_04-33-58__4ca32d62-175f-4889-ba2c-11edf6cae04f__wakuorg_nwaku:latest.log
2026-01-30 04:33:59.394 DEBUG [src.node.waku_node] Starting Node...
2026-01-30 04:33:59.394 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-01-30 04:33:59.396 DEBUG [src.node.docker_mananger] Network waku already exists
2026-01-30 04:33:59.396 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.152.198
2026-01-30 04:33:59.396 DEBUG [src.node.docker_mananger] Generated ports ['46567', '46568', '46569', '46570', '46571']
2026-01-30 04:33:59.396 DEBUG [src.node.waku_node] RLN credentials were not set
2026-01-30 04:33:59.396 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-01-30 04:33:59.396 DEBUG [src.node.waku_node] Using volumes []
2026-01-30 04:33:59.396 DEBUG [src.node.docker_mananger] docker run -i -t -p 46567:46567 -p 46568:46568 -p 46569:46569 -p 46570:46570 -p 46571:46571 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=46569 --rest-port=46567 --tcp-port=46568 --discv5-udp-port=46570 --rest-address=0.0.0.0 --nat=extip:172.18.152.198 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=01cbf4fcde140c69bd11c3eb21b1fccbfb8ecf702fcb6bbcbbabce56cea0a112 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=46571 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QOOdO_ay9mME4ETWAVh__3ZzAUbSdA0veu9GGRs7QvlnNd5etEx3ppB0IoILDG5c71bhPnMCbmddkUtVOR9K6i0CgmlkgnY0gmlwhKwStt-KbXVsdGlhZGRyc5YACASsErbfBnrhAAoErBK23wZ64t0DgnJzhQADAQAAiXNlY3AyNTZrMaEDhy3-_BGaMlFiq6NVpIzm1b6Ohc5MMABHiNNn94_SE0yDdGNwgnrhg3VkcIJ644V3YWt1MgM --storenode=/ip4/172.18.182.223/tcp/31457/p2p/16Uiu2HAmMkg4xCsdiqfUvnt1vWoXdFZivbtdEZtjFjqHx8Ck31mu --store=true --relay=true
2026-01-30 04:33:59.558 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.152.198 waku dd22d9eb06671b4f19e44d2b905f97c4c96b085d9bb3c387413bac5e8c3e3931
2026-01-30 04:33:59.582 DEBUG [src.node.docker_mananger] Container started with ID dd22d9eb0667. Setting up logs at ./log/docker/store_node1_2026-01-30_04-33-58__4ca32d62-175f-4889-ba2c-11edf6cae04f__wakuorg_nwaku:latest.log
2026-01-30 04:33:59.582 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 46567
2026-01-30 04:33:59.582 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-01-30 04:34:00.584 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46567/health" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:34:00.587 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"READY"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"READY"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"READY"},{"Legacy Store Client":"READY"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-01-30 04:34:00.588 INFO [src.node.waku_node] Node protocols are initialized !!
2026-01-30 04:34:00.588 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46567/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:34:00.590 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.152.198/tcp/46568/p2p/16Uiu2HAmNkBWdvUTDSAHFNnRaKAnSwbJGn4zPrACddPZmoFdkuVd","/ip4/172.18.152.198/tcp/46569/ws/p2p/16Uiu2HAmNkBWdvUTDSAHFNnRaKAnSwbJGn4zPrACddPZmoFdkuVd"],"enrUri":"enr:-L24QGYrRI8dQIniG3agCdAkPqLEQmF29K0kQQEUxgM_3tRefLFKG-Jje9uxPlq3SNr5JLLAKUWO1swUdGeacfCpXxYCgmlkgnY0gmlwhKwSmMaKbXVsdGlhZGRyc5YACASsEpjGBrXoAAoErBKYxga16d0DgnJzhQADAQAAiXNlY3AyNTZrMaEDlelkrdYoH5mNf0yrLe6p5k3XZsYFwDbV9IE1Y2KMBQSDdGNwgrXog3VkcIK16oV3YWt1MgM"}'
2026-01-30 04:34:00.590 INFO [src.node.waku_node] REST service is ready !!
2026-01-30 04:34:00.591 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46567/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.182.223/tcp/31457/p2p/16Uiu2HAmMkg4xCsdiqfUvnt1vWoXdFZivbtdEZtjFjqHx8Ck31mu"]'
2026-01-30 04:34:00.593 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-30 04:34:00.593 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:31456/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-01-30 04:34:00.596 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-30 04:34:00.596 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46567/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-01-30 04:34:00.598 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-30 04:34:00.599 DEBUG [src.steps.store] Relaying message
2026-01-30 04:34:00.599 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:31456/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-01-30 04:34:00.603 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-30 04:34:00.603 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-01-30 04:34:00.804 DEBUG [src.steps.store] Relaying message
2026-01-30 04:34:00.804 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:31456/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-01-30 04:34:00.808 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-30 04:34:00.809 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-01-30 04:34:01.009 DEBUG [src.steps.store] Relaying message
2026-01-30 04:34:01.010 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:31456/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-01-30 04:34:01.014 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-30 04:34:01.015 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-01-30 04:34:01.215 DEBUG [src.steps.store] Relaying message
2026-01-30 04:34:01.216 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:31456/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-01-30 04:34:01.220 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-30 04:34:01.222 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-01-30 04:34:01.422 DEBUG [src.steps.store] Relaying message
2026-01-30 04:34:01.422 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:31456/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-01-30 04:34:01.427 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-30 04:34:01.428 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-01-30 04:34:01.629 DEBUG [src.steps.store] Relaying message
2026-01-30 04:34:01.629 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:31456/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-01-30 04:34:01.634 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-30 04:34:01.635 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-01-30 04:34:01.835 DEBUG [tests.store.test_time_filter] inquering stored messages with start time abc
2026-01-30 04:34:01.836 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31456/store/v3/messages?includeData=True&pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=abc&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:34:01.839 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:31456/store/v3/messages?includeData=True&pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=abc&pageSize=20&ascending=true. Response content: b'time parsing error: invalid integer: abc'
2026-01-30 04:34:01.839 DEBUG [tests.store.test_time_filter] invalid start_time cause error Error: 400 Client Error: Bad Request for url: http://127.0.0.1:31456/store/v3/messages?includeData=True&pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=abc&pageSize=20&ascending=true with response: b'time parsing error: invalid integer: abc'
2026-01-30 04:34:01.841 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-01-30 04:34:01.842 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-01-30 04:34:01.842 DEBUG [src.node.waku_node] Stopping container with id b15bbadebea1
2026-01-30 04:34:02.334 DEBUG [src.node.waku_node] Container stopped.
2026-01-30 04:34:02.336 DEBUG [src.node.waku_node] Stopping container with id dd22d9eb0667
2026-01-30 04:34:02.816 DEBUG [src.node.waku_node] Container stopped.
2026-01-30 04:34:02.825 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-01-30 04:34:02.830 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-01-30 04:34:02.836 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
