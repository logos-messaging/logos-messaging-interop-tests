2026-01-30 04:37:34.032 DEBUG [tests.conftest] Running fixture setup: test_id
2026-01-30 04:37:34.032 DEBUG [tests.conftest] Running test: test_light_push_with_valid_timestamps with id: 2026-01-30_04-37-34__6ffb8010-1b29-4479-985c-61b9d80123b5
2026-01-30 04:37:34.032 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-01-30 04:37:34.033 DEBUG [src.steps.light_push] Running fixture setup: light_push_setup
2026-01-30 04:37:34.039 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-01-30 04:37:34.039 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node1_2026-01-30_04-37-34__6ffb8010-1b29-4479-985c-61b9d80123b5__wakuorg_nwaku:latest.log
2026-01-30 04:37:34.039 DEBUG [src.node.waku_node] Starting Node...
2026-01-30 04:37:34.040 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-01-30 04:37:34.041 DEBUG [src.node.docker_mananger] Network waku already exists
2026-01-30 04:37:34.041 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.21.64
2026-01-30 04:37:34.041 DEBUG [src.node.docker_mananger] Generated ports ['53447', '53448', '53449', '53450', '53451']
2026-01-30 04:37:34.041 DEBUG [src.node.waku_node] RLN credentials were not set
2026-01-30 04:37:34.041 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-01-30 04:37:34.042 DEBUG [src.node.waku_node] Using volumes []
2026-01-30 04:37:34.042 DEBUG [src.node.docker_mananger] docker run -i -t -p 53447:53447 -p 53448:53448 -p 53449:53449 -p 53450:53450 -p 53451:53451 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=53449 --rest-port=53447 --tcp-port=53448 --discv5-udp-port=53450 --rest-address=0.0.0.0 --nat=extip:172.18.21.64 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=dbff45438b3b7118fa73a2ff9d1e4f59143b29c234d6c4868ab1a26bfb1e1cbd --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=53451 --metrics-logging=true --lightpush=true --relay=true
2026-01-30 04:37:34.229 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.21.64 waku 868258a433eba74d45fabb9313eefb66235b52c5b6cf1aaca4bf13fc57b1eb0d
2026-01-30 04:37:34.260 DEBUG [src.node.docker_mananger] Container started with ID 868258a433eb. Setting up logs at ./log/docker/receiving_node1_2026-01-30_04-37-34__6ffb8010-1b29-4479-985c-61b9d80123b5__wakuorg_nwaku:latest.log
2026-01-30 04:37:34.260 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 53447
2026-01-30 04:37:34.261 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-01-30 04:37:34.287 ERROR [src.node.docker_mananger] Max retries reached for container d4bb1569ff27. Exiting log stream.
2026-01-30 04:37:34.812 ERROR [src.node.docker_mananger] Max retries reached for container 10c49fb5a1fe. Exiting log stream.
2026-01-30 04:37:35.262 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:53447/health" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:37:35.265 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_READY","desc":"Node has no relay peers to fullfill push requests"},{"Legacy Lightpush":"NOT_READY","desc":"Node has no relay peers to fullfill push requests"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-01-30 04:37:35.265 INFO [src.node.waku_node] Node protocols are initialized !!
2026-01-30 04:37:35.265 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:53447/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:37:35.267 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.21.64/tcp/53448/p2p/16Uiu2HAmLiDNYt4DgX1H4G3jTNVDtgbvhnCTXTVeVHSXCXvYGZ6m","/ip4/172.18.21.64/tcp/53449/ws/p2p/16Uiu2HAmLiDNYt4DgX1H4G3jTNVDtgbvhnCTXTVeVHSXCXvYGZ6m"],"enrUri":"enr:-L24QGDRo74KWrneKlbw8m8wOT8NUfon_jH0p57ynyxqhLyOTaIWsIQ9ZHwsWgiec3FB0aFY73w-P4t88A8Lye0MxvgCgmlkgnY0gmlwhKwSFUCKbXVsdGlhZGRyc5YACASsEhVABtDIAAoErBIVQAbQyd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDd7D2KM6cBUnoxjsijyBYhAMsXw5_3NUKMeEQOhka5DaDdGNwgtDIg3VkcILQyoV3YWt1Mgk"}'
2026-01-30 04:37:35.268 INFO [src.node.waku_node] REST service is ready !!
2026-01-30 04:37:35.274 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-01-30 04:37:35.274 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node2_2026-01-30_04-37-34__6ffb8010-1b29-4479-985c-61b9d80123b5__wakuorg_nwaku:latest.log
2026-01-30 04:37:35.275 DEBUG [src.node.waku_node] Starting Node...
2026-01-30 04:37:35.275 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-01-30 04:37:35.276 DEBUG [src.node.docker_mananger] Network waku already exists
2026-01-30 04:37:35.276 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.142.133
2026-01-30 04:37:35.276 DEBUG [src.node.docker_mananger] Generated ports ['31979', '31980', '31981', '31982', '31983']
2026-01-30 04:37:35.276 DEBUG [src.node.waku_node] RLN credentials were not set
2026-01-30 04:37:35.277 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-01-30 04:37:35.277 DEBUG [src.node.waku_node] Using volumes []
2026-01-30 04:37:35.277 DEBUG [src.node.docker_mananger] docker run -i -t -p 31979:31979 -p 31980:31980 -p 31981:31981 -p 31982:31982 -p 31983:31983 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=31981 --rest-port=31979 --tcp-port=31980 --discv5-udp-port=31982 --rest-address=0.0.0.0 --nat=extip:172.18.142.133 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=140cfea8aa85dc33ebe5a1a1ed811bd9e65b93dd6aabdfad23ecda38dba6ec76 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=31983 --metrics-logging=true --lightpush=false --relay=true
2026-01-30 04:37:35.460 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.142.133 waku b06708da02bb8de5d1a46b9cd58427a4bdd251f76b8d0681a8f5e11e2f6e6f85
2026-01-30 04:37:35.489 DEBUG [src.node.docker_mananger] Container started with ID b06708da02bb. Setting up logs at ./log/docker/receiving_node2_2026-01-30_04-37-34__6ffb8010-1b29-4479-985c-61b9d80123b5__wakuorg_nwaku:latest.log
2026-01-30 04:37:35.490 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 31979
2026-01-30 04:37:35.490 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-01-30 04:37:36.490 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31979/health" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:37:36.494 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-01-30 04:37:36.494 INFO [src.node.waku_node] Node protocols are initialized !!
2026-01-30 04:37:36.494 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31979/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:37:36.496 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.142.133/tcp/31980/p2p/16Uiu2HAm9uFvJLrPSquDZDGXbjq5pXaUnY1x996RR1KD5DPL2jX6","/ip4/172.18.142.133/tcp/31981/ws/p2p/16Uiu2HAm9uFvJLrPSquDZDGXbjq5pXaUnY1x996RR1KD5DPL2jX6"],"enrUri":"enr:-L24QPoPeSyXbiFKgQdzFV86-fpEYWFmr_1hZTHZOTbELF52I7ma_RU8TtMw17ZTosDXqgxjZiUA0i9NFu0QwqWZPSACgmlkgnY0gmlwhKwSjoWKbXVsdGlhZGRyc5YACASsEo6FBnzsAAoErBKOhQZ87d0DgnJzhQADAQAAiXNlY3AyNTZrMaEC1xSstF_2tUNE89BwevogPqD8whqA56v19kHH7jHvkdGDdGNwgnzsg3VkcIJ87oV3YWt1MgE"}'
2026-01-30 04:37:36.496 INFO [src.node.waku_node] REST service is ready !!
2026-01-30 04:37:36.497 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:31979/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.21.64/tcp/53448/p2p/16Uiu2HAmLiDNYt4DgX1H4G3jTNVDtgbvhnCTXTVeVHSXCXvYGZ6m"]'
2026-01-30 04:37:36.528 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-30 04:37:36.540 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-01-30 04:37:36.540 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/lightpush_node1_2026-01-30_04-37-34__6ffb8010-1b29-4479-985c-61b9d80123b5__wakuorg_nwaku:latest.log
2026-01-30 04:37:36.540 DEBUG [src.node.waku_node] Starting Node...
2026-01-30 04:37:36.542 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-01-30 04:37:36.545 DEBUG [src.node.docker_mananger] Network waku already exists
2026-01-30 04:37:36.546 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.210.2
2026-01-30 04:37:36.546 DEBUG [src.node.docker_mananger] Generated ports ['38954', '38955', '38956', '38957', '38958']
2026-01-30 04:37:36.547 DEBUG [src.node.waku_node] RLN credentials were not set
2026-01-30 04:37:36.547 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-01-30 04:37:36.549 DEBUG [src.node.waku_node] Using volumes []
2026-01-30 04:37:36.549 DEBUG [src.node.docker_mananger] docker run -i -t -p 38954:38954 -p 38955:38955 -p 38956:38956 -p 38957:38957 -p 38958:38958 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=38956 --rest-port=38954 --tcp-port=38955 --discv5-udp-port=38957 --rest-address=0.0.0.0 --nat=extip:172.18.210.2 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=5fc12e01a0dec4f50554c34e95aabed4a9f6ee22d07bbbde76ba89cfad9050af --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=38958 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QGDRo74KWrneKlbw8m8wOT8NUfon_jH0p57ynyxqhLyOTaIWsIQ9ZHwsWgiec3FB0aFY73w-P4t88A8Lye0MxvgCgmlkgnY0gmlwhKwSFUCKbXVsdGlhZGRyc5YACASsEhVABtDIAAoErBIVQAbQyd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDd7D2KM6cBUnoxjsijyBYhAMsXw5_3NUKMeEQOhka5DaDdGNwgtDIg3VkcILQyoV3YWt1Mgk --lightpushnode=/ip4/172.18.21.64/tcp/53448/p2p/16Uiu2HAmLiDNYt4DgX1H4G3jTNVDtgbvhnCTXTVeVHSXCXvYGZ6m --lightpush=true --relay=true
2026-01-30 04:37:36.731 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.210.2 waku 0d7c9eb6ff536c8de649f09ef6bd20a89f683d8a50a3f1fe0e38224903859794
2026-01-30 04:37:36.761 DEBUG [src.node.docker_mananger] Container started with ID 0d7c9eb6ff53. Setting up logs at ./log/docker/lightpush_node1_2026-01-30_04-37-34__6ffb8010-1b29-4479-985c-61b9d80123b5__wakuorg_nwaku:latest.log
2026-01-30 04:37:36.762 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 38954
2026-01-30 04:37:36.763 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-01-30 04:37:37.765 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38954/health" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:37:37.780 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_READY","desc":"Node has no relay peers to fullfill push requests"},{"Legacy Lightpush":"NOT_READY","desc":"Node has no relay peers to fullfill push requests"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"READY"},{"Legacy Lightpush Client":"READY"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-01-30 04:37:37.780 INFO [src.node.waku_node] Node protocols are initialized !!
2026-01-30 04:37:37.781 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38954/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:37:37.785 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.210.2/tcp/38955/p2p/16Uiu2HAmM6SwjNGeG8YR6ozjArN1CWz14dZvZNsMhCEz2534WXmf","/ip4/172.18.210.2/tcp/38956/ws/p2p/16Uiu2HAmM6SwjNGeG8YR6ozjArN1CWz14dZvZNsMhCEz2534WXmf"],"enrUri":"enr:-L24QCP10NRzW1QolUvtndyh9_SoaV_AejvYNvvpTN6wermjX2Ck2wc7IWoVSW-MZOkjr5Zp50VaGxMZunyi-AILZ2oCgmlkgnY0gmlwhKwS0gKKbXVsdGlhZGRyc5YACASsEtICBpgrAAoErBLSAgaYLN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDfWMV2lUF4ysRfUBwVeYZkh9rHXGjj7gUeKVJxOket86DdGNwgpgrg3VkcIKYLYV3YWt1Mgk"}'
2026-01-30 04:37:37.786 INFO [src.node.waku_node] REST service is ready !!
2026-01-30 04:37:37.786 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:38954/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.21.64/tcp/53448/p2p/16Uiu2HAmLiDNYt4DgX1H4G3jTNVDtgbvhnCTXTVeVHSXCXvYGZ6m"]'
2026-01-30 04:37:37.789 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-30 04:37:37.789 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:38954/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.142.133/tcp/31980/p2p/16Uiu2HAm9uFvJLrPSquDZDGXbjq5pXaUnY1x996RR1KD5DPL2jX6"]'
2026-01-30 04:37:37.813 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-30 04:37:37.813 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:53447/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-01-30 04:37:37.822 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-30 04:37:37.822 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:31979/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-01-30 04:37:37.825 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-30 04:37:37.826 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:38954/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-01-30 04:37:37.828 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-30 04:37:37.829 DEBUG [tests.light_push.test_publish] Running test with timestamp Now
2026-01-30 04:37:37.829 DEBUG [src.steps.light_push] Lightpushing message
2026-01-30 04:37:37.829 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:38954/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1769747461410881280}}'
2026-01-30 04:37:37.842 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-30 04:37:37.843 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-01-30 04:37:37.945 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2026-01-30 04:37:37.945 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:53447/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:37:37.947 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1769747461410881280,"ephemeral":false,"proof":""}]'
2026-01-30 04:37:37.949 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2026-01-30 04:37:37.949 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31979/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:37:37.951 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1769747461410881280,"ephemeral":false,"proof":""}]'
2026-01-30 04:37:37.952 DEBUG [src.steps.light_push] Checking that peer NODE_3:wakuorg/nwaku:latest can find the lightpushed message
2026-01-30 04:37:37.953 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38954/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:37:37.955 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1769747461410881280,"ephemeral":false,"proof":""}]'
2026-01-30 04:37:37.956 DEBUG [tests.light_push.test_publish] Running test with timestamp Far future
2026-01-30 04:37:37.957 DEBUG [src.steps.light_push] Lightpushing message
2026-01-30 04:37:37.957 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:38954/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 2085107461410866944}}'
2026-01-30 04:37:37.966 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-30 04:37:37.967 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-01-30 04:37:38.068 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2026-01-30 04:37:38.068 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:53447/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:37:38.070 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":2085107461410866944,"ephemeral":false,"proof":""}]'
2026-01-30 04:37:38.071 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2026-01-30 04:37:38.071 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31979/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:37:38.074 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":2085107461410866944,"ephemeral":false,"proof":""}]'
2026-01-30 04:37:38.075 DEBUG [src.steps.light_push] Checking that peer NODE_3:wakuorg/nwaku:latest can find the lightpushed message
2026-01-30 04:37:38.075 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38954/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:37:38.077 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":2085107461410866944,"ephemeral":false,"proof":""}]'
2026-01-30 04:37:38.078 DEBUG [tests.light_push.test_publish] Running test with timestamp Recent past
2026-01-30 04:37:38.079 DEBUG [src.steps.light_push] Lightpushing message
2026-01-30 04:37:38.079 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:38954/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1769743861410866944}}'
2026-01-30 04:37:38.088 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-30 04:37:38.089 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-01-30 04:37:38.189 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2026-01-30 04:37:38.189 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:53447/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:37:38.192 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1769743861410866944,"ephemeral":false,"proof":""}]'
2026-01-30 04:37:38.193 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2026-01-30 04:37:38.193 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31979/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:37:38.195 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1769743861410866944,"ephemeral":false,"proof":""}]'
2026-01-30 04:37:38.196 DEBUG [src.steps.light_push] Checking that peer NODE_3:wakuorg/nwaku:latest can find the lightpushed message
2026-01-30 04:37:38.197 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38954/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:37:38.199 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1769743861410866944,"ephemeral":false,"proof":""}]'
2026-01-30 04:37:38.200 DEBUG [tests.light_push.test_publish] Running test with timestamp Near future
2026-01-30 04:37:38.201 DEBUG [src.steps.light_push] Lightpushing message
2026-01-30 04:37:38.201 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:38954/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1769751061410866944}}'
2026-01-30 04:37:38.214 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-30 04:37:38.214 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-01-30 04:37:38.314 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2026-01-30 04:37:38.315 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:53447/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:37:38.317 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1769751061410866944,"ephemeral":false,"proof":""}]'
2026-01-30 04:37:38.319 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2026-01-30 04:37:38.319 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31979/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:37:38.321 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1769751061410866944,"ephemeral":false,"proof":""}]'
2026-01-30 04:37:38.323 DEBUG [src.steps.light_push] Checking that peer NODE_3:wakuorg/nwaku:latest can find the lightpushed message
2026-01-30 04:37:38.323 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38954/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:37:38.325 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1769751061410866944,"ephemeral":false,"proof":""}]'
2026-01-30 04:37:38.326 DEBUG [tests.light_push.test_publish] Running test with timestamp Positive number
2026-01-30 04:37:38.327 DEBUG [src.steps.light_push] Lightpushing message
2026-01-30 04:37:38.327 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:38954/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1}}'
2026-01-30 04:37:38.338 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-30 04:37:38.339 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-01-30 04:37:38.440 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2026-01-30 04:37:38.440 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:53447/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:37:38.442 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1,"ephemeral":false,"proof":""}]'
2026-01-30 04:37:38.443 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2026-01-30 04:37:38.444 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31979/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:37:38.446 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1,"ephemeral":false,"proof":""}]'
2026-01-30 04:37:38.447 DEBUG [src.steps.light_push] Checking that peer NODE_3:wakuorg/nwaku:latest can find the lightpushed message
2026-01-30 04:37:38.447 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38954/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:37:38.449 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1,"ephemeral":false,"proof":""}]'
2026-01-30 04:37:38.451 DEBUG [tests.light_push.test_publish] Running test with timestamp Negative number
2026-01-30 04:37:38.451 DEBUG [src.steps.light_push] Lightpushing message
2026-01-30 04:37:38.451 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:38954/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": -1}}'
2026-01-30 04:37:38.464 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-30 04:37:38.464 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-01-30 04:37:38.565 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2026-01-30 04:37:38.565 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:53447/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:37:38.567 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":-1,"ephemeral":false,"proof":""}]'
2026-01-30 04:37:38.568 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2026-01-30 04:37:38.568 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31979/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:37:38.570 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":-1,"ephemeral":false,"proof":""}]'
2026-01-30 04:37:38.572 DEBUG [src.steps.light_push] Checking that peer NODE_3:wakuorg/nwaku:latest can find the lightpushed message
2026-01-30 04:37:38.572 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38954/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:37:38.574 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":-1,"ephemeral":false,"proof":""}]'
2026-01-30 04:37:38.576 DEBUG [tests.light_push.test_publish] Running test with timestamp DST change
2026-01-30 04:37:38.576 DEBUG [src.steps.light_push] Lightpushing message
2026-01-30 04:37:38.576 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:38954/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1583632800000000000}}'
2026-01-30 04:37:38.588 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-30 04:37:38.589 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-01-30 04:37:38.689 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2026-01-30 04:37:38.689 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:53447/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:37:38.692 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1583632800000000000,"ephemeral":false,"proof":""}]'
2026-01-30 04:37:38.693 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2026-01-30 04:37:38.693 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31979/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:37:38.696 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1583632800000000000,"ephemeral":false,"proof":""}]'
2026-01-30 04:37:38.697 DEBUG [src.steps.light_push] Checking that peer NODE_3:wakuorg/nwaku:latest can find the lightpushed message
2026-01-30 04:37:38.697 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38954/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:37:38.700 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1583632800000000000,"ephemeral":false,"proof":""}]'
2026-01-30 04:37:38.702 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-01-30 04:37:38.703 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-01-30 04:37:38.703 DEBUG [src.node.waku_node] Stopping container with id 868258a433eb
2026-01-30 04:37:39.229 DEBUG [src.node.waku_node] Container stopped.
2026-01-30 04:37:39.232 DEBUG [src.node.waku_node] Stopping container with id b06708da02bb
2026-01-30 04:37:39.748 DEBUG [src.node.waku_node] Container stopped.
2026-01-30 04:37:39.749 DEBUG [src.node.waku_node] Stopping container with id 0d7c9eb6ff53
2026-01-30 04:37:40.042 ERROR [src.node.docker_mananger] Max retries reached for container 868258a433eb. Exiting log stream.
2026-01-30 04:37:40.299 DEBUG [src.node.waku_node] Container stopped.
2026-01-30 04:37:40.301 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-01-30 04:37:40.312 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-01-30 04:37:40.321 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-01-30 04:37:40.334 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
