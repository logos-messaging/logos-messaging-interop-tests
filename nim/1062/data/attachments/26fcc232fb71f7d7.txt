2026-01-30 04:35:40.333 DEBUG [tests.conftest] Running fixture setup: test_id
2026-01-30 04:35:40.333 DEBUG [tests.conftest] Running test: test_unsubscribe_from_all_content_topics with id: 2026-01-30_04-35-40__775d489d-2c2b-4cc0-a19d-2f0e70c2a88e
2026-01-30 04:35:40.333 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-01-30 04:35:40.334 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2026-01-30 04:35:40.334 DEBUG [src.steps.sharding] Running fixture setup: sharding_setup
2026-01-30 04:35:40.341 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-01-30 04:35:40.341 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2026-01-30_04-35-40__775d489d-2c2b-4cc0-a19d-2f0e70c2a88e__wakuorg_nwaku:latest.log
2026-01-30 04:35:40.342 DEBUG [src.node.waku_node] Starting Node...
2026-01-30 04:35:40.342 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-01-30 04:35:40.343 DEBUG [src.node.docker_mananger] Network waku already exists
2026-01-30 04:35:40.344 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.150.239
2026-01-30 04:35:40.344 DEBUG [src.node.docker_mananger] Generated ports ['21770', '21771', '21772', '21773', '21774']
2026-01-30 04:35:40.344 DEBUG [src.node.waku_node] RLN credentials were not set
2026-01-30 04:35:40.344 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-01-30 04:35:40.344 DEBUG [src.node.waku_node] Using volumes []
2026-01-30 04:35:40.344 DEBUG [src.node.docker_mananger] docker run -i -t -p 21770:21770 -p 21771:21771 -p 21772:21772 -p 21773:21773 -p 21774:21774 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=21772 --rest-port=21770 --tcp-port=21771 --discv5-udp-port=21773 --rest-address=0.0.0.0 --nat=extip:172.18.150.239 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=e18812c27deaeecac5fc6bf509c0c5bfaadede2cdda3affc70a315b1d90b873c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=21774 --metrics-logging=true --relay=true --filter=true --content-topic=/myapp/1/latest/proto --num-shards-in-network=8
2026-01-30 04:35:40.507 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.150.239 waku d552859a48662e55081d4c2f21bc36f4ba662d4152145ec6398c98864e032096
2026-01-30 04:35:40.532 DEBUG [src.node.docker_mananger] Container started with ID d552859a4866. Setting up logs at ./log/docker/node1_2026-01-30_04-35-40__775d489d-2c2b-4cc0-a19d-2f0e70c2a88e__wakuorg_nwaku:latest.log
2026-01-30 04:35:40.533 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 21770
2026-01-30 04:35:40.533 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-01-30 04:35:40.609 ERROR [src.node.docker_mananger] Max retries reached for container 9fdc3d5d2163. Exiting log stream.
2026-01-30 04:35:41.131 ERROR [src.node.docker_mananger] Max retries reached for container 479a0ecbeec5. Exiting log stream.
2026-01-30 04:35:41.533 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21770/health" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:35:41.536 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_READY","desc":"Relay is not ready, filter will not be able to sort out messages"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-01-30 04:35:41.537 INFO [src.node.waku_node] Node protocols are initialized !!
2026-01-30 04:35:41.537 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21770/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:35:41.539 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.150.239/tcp/21771/p2p/16Uiu2HAkx833KdW4R4mC8yYsToDN9Jy1E3sWLDhFdaBwuzqG2xQT","/ip4/172.18.150.239/tcp/21772/ws/p2p/16Uiu2HAkx833KdW4R4mC8yYsToDN9Jy1E3sWLDhFdaBwuzqG2xQT"],"enrUri":"enr:-L24QNxMfTZ7LS_nkNA-XfS__b2NRgbl1BaENp0LBsJ96hm-BuEQq8a9BUAwR7ImaEC8fxuVsyfFWrdUalD8r1aE3qECgmlkgnY0gmlwhKwSlu-KbXVsdGlhZGRyc5YACASsEpbvBlULAAoErBKW7wZVDN0DgnJzhQACAQAAiXNlY3AyNTZrMaECKA5rdqNNcrpZ5uju7COlagA_3FbJdDilqaHBFEefCGSDdGNwglULg3VkcIJVDYV3YWt1MgU"}'
2026-01-30 04:35:41.540 INFO [src.node.waku_node] REST service is ready !!
2026-01-30 04:35:41.547 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-01-30 04:35:41.547 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2026-01-30_04-35-40__775d489d-2c2b-4cc0-a19d-2f0e70c2a88e__wakuorg_nwaku:latest.log
2026-01-30 04:35:41.547 DEBUG [src.node.waku_node] Starting Node...
2026-01-30 04:35:41.547 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-01-30 04:35:41.549 DEBUG [src.node.docker_mananger] Network waku already exists
2026-01-30 04:35:41.549 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.7.57
2026-01-30 04:35:41.549 DEBUG [src.node.docker_mananger] Generated ports ['50955', '50956', '50957', '50958', '50959']
2026-01-30 04:35:41.549 DEBUG [src.node.waku_node] RLN credentials were not set
2026-01-30 04:35:41.549 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-01-30 04:35:41.549 DEBUG [src.node.waku_node] Using volumes []
2026-01-30 04:35:41.549 DEBUG [src.node.docker_mananger] docker run -i -t -p 50955:50955 -p 50956:50956 -p 50957:50957 -p 50958:50958 -p 50959:50959 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=50957 --rest-port=50955 --tcp-port=50956 --discv5-udp-port=50958 --rest-address=0.0.0.0 --nat=extip:172.18.7.57 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=2aea2bf3192ebbf452b910164eb2094cc6cb3c209ef4e19c77f22383cdcfa5c8 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=50959 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QNxMfTZ7LS_nkNA-XfS__b2NRgbl1BaENp0LBsJ96hm-BuEQq8a9BUAwR7ImaEC8fxuVsyfFWrdUalD8r1aE3qECgmlkgnY0gmlwhKwSlu-KbXVsdGlhZGRyc5YACASsEpbvBlULAAoErBKW7wZVDN0DgnJzhQACAQAAiXNlY3AyNTZrMaECKA5rdqNNcrpZ5uju7COlagA_3FbJdDilqaHBFEefCGSDdGNwglULg3VkcIJVDYV3YWt1MgU --content-topic=/myapp/1/latest/proto --num-shards-in-network=8
2026-01-30 04:35:41.726 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.7.57 waku d0be093b5c60e0200b6e03e6fe47d7b6058120762efc805756f48c232470682e
2026-01-30 04:35:41.757 DEBUG [src.node.docker_mananger] Container started with ID d0be093b5c60. Setting up logs at ./log/docker/node2_2026-01-30_04-35-40__775d489d-2c2b-4cc0-a19d-2f0e70c2a88e__wakuorg_nwaku:latest.log
2026-01-30 04:35:41.757 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 50955
2026-01-30 04:35:41.757 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-01-30 04:35:42.758 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50955/health" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:35:42.772 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"READY"}]}'
2026-01-30 04:35:42.774 INFO [src.node.waku_node] Node protocols are initialized !!
2026-01-30 04:35:42.775 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50955/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:35:42.779 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.7.57/tcp/50956/p2p/16Uiu2HAmQ5LomjvK7ix9jxFFJPDyomteDqfEU8eH2qYLCgrakaGX","/ip4/172.18.7.57/tcp/50957/ws/p2p/16Uiu2HAmQ5LomjvK7ix9jxFFJPDyomteDqfEU8eH2qYLCgrakaGX"],"enrUri":"enr:-L24QDey9ohF5TX-ikyMEpFZi6W8DQ0LHRuFhGxeue5R5teDF7xP-4UpVmAR5PSM69YlK8UVnuldxqP6AxT4hKrOXb4CgmlkgnY0gmlwhKwSBzmKbXVsdGlhZGRyc5YACASsEgc5BscMAAoErBIHOQbHDd0DgnJzhQACAQAAiXNlY3AyNTZrMaEDqa2gPjzN0eeE_QTg-xcc9MuxjAmYSyb3cD8ljNGAdNCDdGNwgscMg3VkcILHDoV3YWt1MgE"}'
2026-01-30 04:35:42.779 INFO [src.node.waku_node] REST service is ready !!
2026-01-30 04:35:42.780 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:50955/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.150.239/tcp/21771/p2p/16Uiu2HAkx833KdW4R4mC8yYsToDN9Jy1E3sWLDhFdaBwuzqG2xQT"]'
2026-01-30 04:35:42.783 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-30 04:35:42.783 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21770/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2026-01-30 04:35:42.793 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-30 04:35:42.794 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:50955/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2026-01-30 04:35:42.804 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-30 04:35:42.805 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21770/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-01-30 04:35:42.811 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-30 04:35:42.812 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-01-30 04:35:42.912 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-01-30 04:35:42.913 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21770/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:35:42.915 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1769747742805526295,"ephemeral":false,"proof":""}]'
2026-01-30 04:35:42.917 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-01-30 04:35:42.917 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50955/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:35:42.920 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1769747742805526295,"ephemeral":false,"proof":""}]'
2026-01-30 04:35:42.922 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21770/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2026-01-30 04:35:42.926 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-30 04:35:42.926 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-01-30 04:35:43.027 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-01-30 04:35:43.027 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21770/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:35:43.030 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/waku/2/content/test.js","version":0,"timestamp":1769747742921907647,"ephemeral":false,"proof":""}]'
2026-01-30 04:35:43.031 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-01-30 04:35:43.032 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50955/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:35:43.034 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/waku/2/content/test.js","version":0,"timestamp":1769747742921907647,"ephemeral":false,"proof":""}]'
2026-01-30 04:35:43.035 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21770/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-01-30 04:35:43.040 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-30 04:35:43.040 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-01-30 04:35:43.141 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-01-30 04:35:43.141 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21770/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:35:43.144 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/22/sometopic/someencoding","version":0,"timestamp":1769747743035845338,"ephemeral":false,"proof":""}]'
2026-01-30 04:35:43.145 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-01-30 04:35:43.146 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50955/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:35:43.148 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/22/sometopic/someencoding","version":0,"timestamp":1769747743035845338,"ephemeral":false,"proof":""}]'
2026-01-30 04:35:43.150 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21770/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2026-01-30 04:35:43.154 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-30 04:35:43.154 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-01-30 04:35:43.255 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-01-30 04:35:43.256 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21770/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:35:43.258 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1769747743150173017,"ephemeral":false,"proof":""}]'
2026-01-30 04:35:43.260 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-01-30 04:35:43.260 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50955/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:35:43.262 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1769747743150173017,"ephemeral":false,"proof":""}]'
2026-01-30 04:35:43.264 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21770/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2026-01-30 04:35:43.268 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-30 04:35:43.269 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-01-30 04:35:43.369 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-01-30 04:35:43.370 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21770/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:35:43.372 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1769747743264484699,"ephemeral":false,"proof":""}]'
2026-01-30 04:35:43.373 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-01-30 04:35:43.374 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50955/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:35:43.376 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1769747743264484699,"ephemeral":false,"proof":""}]'
2026-01-30 04:35:43.377 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21770/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-01-30 04:35:43.381 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-30 04:35:43.382 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-01-30 04:35:43.483 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-01-30 04:35:43.483 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21770/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:35:43.486 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1769747743377649165,"ephemeral":false,"proof":""}]'
2026-01-30 04:35:43.487 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-01-30 04:35:43.487 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50955/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:35:43.490 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1769747743377649165,"ephemeral":false,"proof":""}]'
2026-01-30 04:35:43.492 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21770/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-01-30 04:35:43.495 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-30 04:35:43.496 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-01-30 04:35:43.596 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-01-30 04:35:43.597 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21770/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:35:43.599 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1769747743491872555,"ephemeral":false,"proof":""}]'
2026-01-30 04:35:43.601 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-01-30 04:35:43.601 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50955/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:35:43.603 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1769747743491872555,"ephemeral":false,"proof":""}]'
2026-01-30 04:35:43.605 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21770/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-01-30 04:35:43.609 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-30 04:35:43.609 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-01-30 04:35:43.709 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-01-30 04:35:43.710 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21770/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:35:43.713 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1769747743605017211,"ephemeral":false,"proof":""}]'
2026-01-30 04:35:43.714 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-01-30 04:35:43.714 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50955/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:35:43.717 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1769747743605017211,"ephemeral":false,"proof":""}]'
2026-01-30 04:35:43.718 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:21770/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2026-01-30 04:35:43.727 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-30 04:35:43.728 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:50955/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2026-01-30 04:35:43.742 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-30 04:35:43.743 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21770/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-01-30 04:35:43.746 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-30 04:35:43.746 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-01-30 04:35:43.847 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-01-30 04:35:43.847 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21770/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:35:43.850 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:21770/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto. Response content: b'/myapp/1/latest/proto'
2026-01-30 04:35:43.851 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21770/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2026-01-30 04:35:43.855 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-30 04:35:43.855 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-01-30 04:35:43.955 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-01-30 04:35:43.956 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21770/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:35:43.958 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:21770/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js. Response content: b'/waku/2/content/test.js'
2026-01-30 04:35:43.960 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21770/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-01-30 04:35:43.963 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-30 04:35:43.963 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-01-30 04:35:44.063 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-01-30 04:35:44.064 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21770/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:35:44.066 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:21770/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding. Response content: b'/app/22/sometopic/someencoding'
2026-01-30 04:35:44.068 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21770/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2026-01-30 04:35:44.070 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-30 04:35:44.070 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-01-30 04:35:44.171 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-01-30 04:35:44.171 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21770/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:35:44.174 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:21770/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto. Response content: b'/toychat/2/huilong/proto'
2026-01-30 04:35:44.175 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21770/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2026-01-30 04:35:44.178 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-30 04:35:44.178 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-01-30 04:35:44.278 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-01-30 04:35:44.279 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21770/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:35:44.281 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:21770/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor. Response content: b'/statusim/1/community/cbor'
2026-01-30 04:35:44.283 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21770/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-01-30 04:35:44.285 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-30 04:35:44.285 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-01-30 04:35:44.386 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-01-30 04:35:44.386 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21770/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:35:44.389 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:21770/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding. Response content: b'/app/27/sometopic/someencoding'
2026-01-30 04:35:44.390 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21770/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-01-30 04:35:44.393 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-30 04:35:44.393 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-01-30 04:35:44.493 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-01-30 04:35:44.494 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21770/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:35:44.496 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:21770/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding. Response content: b'/app/29/sometopic/someencoding'
2026-01-30 04:35:44.498 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21770/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-01-30 04:35:44.501 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-30 04:35:44.501 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-01-30 04:35:44.601 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-01-30 04:35:44.602 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21770/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:35:44.605 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:21770/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding. Response content: b'/app/20/sometopic/someencoding'
2026-01-30 04:35:44.607 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-01-30 04:35:44.608 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-01-30 04:35:44.608 DEBUG [src.node.waku_node] Stopping container with id d552859a4866
2026-01-30 04:35:45.093 DEBUG [src.node.waku_node] Container stopped.
2026-01-30 04:35:45.095 DEBUG [src.node.waku_node] Stopping container with id d0be093b5c60
2026-01-30 04:35:45.599 DEBUG [src.node.waku_node] Container stopped.
2026-01-30 04:35:45.600 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-01-30 04:35:45.616 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-01-30 04:35:45.629 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
