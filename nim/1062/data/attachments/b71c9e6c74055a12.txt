2026-01-30 04:39:06.572 DEBUG [tests.conftest] Running fixture setup: test_id
2026-01-30 04:39:06.572 DEBUG [tests.conftest] Running test: test_filter_ping_on_subscribed_peer with id: 2026-01-30_04-39-06__712ab3b9-e017-49b7-8b7f-79df1dc5fb1f
2026-01-30 04:39:06.572 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-01-30 04:39:06.573 DEBUG [src.steps.filter] Running fixture setup: filter_setup
2026-01-30 04:39:06.573 DEBUG [src.steps.filter] Running fixture setup: setup_main_relay_node
2026-01-30 04:39:06.579 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-01-30 04:39:06.579 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2026-01-30_04-39-06__712ab3b9-e017-49b7-8b7f-79df1dc5fb1f__wakuorg_nwaku:latest.log
2026-01-30 04:39:06.579 DEBUG [src.node.waku_node] Starting Node...
2026-01-30 04:39:06.579 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-01-30 04:39:06.580 DEBUG [src.node.docker_mananger] Network waku already exists
2026-01-30 04:39:06.581 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.115.182
2026-01-30 04:39:06.581 DEBUG [src.node.docker_mananger] Generated ports ['54503', '54504', '54505', '54506', '54507']
2026-01-30 04:39:06.581 DEBUG [src.node.waku_node] RLN credentials were not set
2026-01-30 04:39:06.581 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-01-30 04:39:06.581 DEBUG [src.node.waku_node] Using volumes []
2026-01-30 04:39:06.581 DEBUG [src.node.docker_mananger] docker run -i -t -p 54503:54503 -p 54504:54504 -p 54505:54505 -p 54506:54506 -p 54507:54507 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=54505 --rest-port=54503 --tcp-port=54504 --discv5-udp-port=54506 --rest-address=0.0.0.0 --nat=extip:172.18.115.182 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=73fcaeef81bbc63cfeee45f40a63cb0a253bdae3a2d418276af007b00bffecfd --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=54507 --metrics-logging=true --relay=true --filter=true
2026-01-30 04:39:06.750 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.115.182 waku 4faa46a4b3cbe03602df7a27f9530a4eaf1ed7785beb2e17281a98cb312b5ec0
2026-01-30 04:39:06.784 DEBUG [src.node.docker_mananger] Container started with ID 4faa46a4b3cb. Setting up logs at ./log/docker/node1_2026-01-30_04-39-06__712ab3b9-e017-49b7-8b7f-79df1dc5fb1f__wakuorg_nwaku:latest.log
2026-01-30 04:39:06.784 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 54503
2026-01-30 04:39:06.784 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-01-30 04:39:06.845 ERROR [src.node.docker_mananger] Max retries reached for container 00f852fb2d8e. Exiting log stream.
2026-01-30 04:39:07.356 ERROR [src.node.docker_mananger] Max retries reached for container effc83bd697d. Exiting log stream.
2026-01-30 04:39:07.784 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:54503/health" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:39:07.787 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_READY","desc":"Relay is not ready, filter will not be able to sort out messages"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-01-30 04:39:07.787 INFO [src.node.waku_node] Node protocols are initialized !!
2026-01-30 04:39:07.788 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:54503/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:39:07.790 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.115.182/tcp/54504/p2p/16Uiu2HAmQDsXNRA4whuTmEir1T6sd5mQh3y5yPCFg58km4W3VWvq","/ip4/172.18.115.182/tcp/54505/ws/p2p/16Uiu2HAmQDsXNRA4whuTmEir1T6sd5mQh3y5yPCFg58km4W3VWvq"],"enrUri":"enr:-L24QBV2TOUszMg2UpUCgQWd6yjOyjoHHBED1UcijRAAraw8YY9JNi9JqK6n31hMjwlHbVgBNW7ZHdOGEMdhASYvRgACgmlkgnY0gmlwhKwSc7aKbXVsdGlhZGRyc5YACASsEnO2BtToAAoErBJztgbU6d0DgnJzhQADAQAAiXNlY3AyNTZrMaEDq90BJVway7USF4F8dM9mqj9CUPFnD4hnZOORIvZLXKaDdGNwgtTog3VkcILU6oV3YWt1MgU"}'
2026-01-30 04:39:07.790 INFO [src.node.waku_node] REST service is ready !!
2026-01-30 04:39:07.790 DEBUG [src.steps.filter] Running fixture setup: setup_main_filter_node
2026-01-30 04:39:07.796 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-01-30 04:39:07.796 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2026-01-30_04-39-06__712ab3b9-e017-49b7-8b7f-79df1dc5fb1f__wakuorg_nwaku:latest.log
2026-01-30 04:39:07.796 DEBUG [src.node.waku_node] Starting Node...
2026-01-30 04:39:07.796 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-01-30 04:39:07.797 DEBUG [src.node.docker_mananger] Network waku already exists
2026-01-30 04:39:07.798 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.97.237
2026-01-30 04:39:07.798 DEBUG [src.node.docker_mananger] Generated ports ['24137', '24138', '24139', '24140', '24141']
2026-01-30 04:39:07.798 DEBUG [src.node.waku_node] RLN credentials were not set
2026-01-30 04:39:07.798 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-01-30 04:39:07.798 DEBUG [src.node.waku_node] Using volumes []
2026-01-30 04:39:07.798 DEBUG [src.node.docker_mananger] docker run -i -t -p 24137:24137 -p 24138:24138 -p 24139:24139 -p 24140:24140 -p 24141:24141 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=24139 --rest-port=24137 --tcp-port=24138 --discv5-udp-port=24140 --rest-address=0.0.0.0 --nat=extip:172.18.97.237 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e0bd3b64cccb543fab5f8137d5df4ba0af400c8b486c5fd061dce36eecf3ce7b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=24141 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QBV2TOUszMg2UpUCgQWd6yjOyjoHHBED1UcijRAAraw8YY9JNi9JqK6n31hMjwlHbVgBNW7ZHdOGEMdhASYvRgACgmlkgnY0gmlwhKwSc7aKbXVsdGlhZGRyc5YACASsEnO2BtToAAoErBJztgbU6d0DgnJzhQADAQAAiXNlY3AyNTZrMaEDq90BJVway7USF4F8dM9mqj9CUPFnD4hnZOORIvZLXKaDdGNwgtTog3VkcILU6oV3YWt1MgU --filternode=/ip4/172.18.115.182/tcp/54504/p2p/16Uiu2HAmQDsXNRA4whuTmEir1T6sd5mQh3y5yPCFg58km4W3VWvq
2026-01-30 04:39:07.972 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.97.237 waku 5e70381eb5c49f7454b9e70ca13d5995a6457b94bad705d79f6c9f882d6c2b4c
2026-01-30 04:39:08.005 DEBUG [src.node.docker_mananger] Container started with ID 5e70381eb5c4. Setting up logs at ./log/docker/node2_2026-01-30_04-39-06__712ab3b9-e017-49b7-8b7f-79df1dc5fb1f__wakuorg_nwaku:latest.log
2026-01-30 04:39:08.005 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 24137
2026-01-30 04:39:08.006 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-01-30 04:39:09.006 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:24137/health" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:39:09.010 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_MOUNTED"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"READY"}]}'
2026-01-30 04:39:09.010 INFO [src.node.waku_node] Node protocols are initialized !!
2026-01-30 04:39:09.010 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:24137/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:39:09.012 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.97.237/tcp/24138/p2p/16Uiu2HAmLjzQ2bdQSJkDUQFewYoHDxcunaMddaZUpuVLkNPA1B85","/ip4/172.18.97.237/tcp/24139/ws/p2p/16Uiu2HAmLjzQ2bdQSJkDUQFewYoHDxcunaMddaZUpuVLkNPA1B85"],"enrUri":"enr:-L24QApdUi2J4S1CuskLQzfBxgg0OnBNh8B9eCdxAqjtOweSHi9AlVkjTAuEb-PrTba8cy7L0SnJDDuZZUNXVgnN9B4CgmlkgnY0gmlwhKwSYe2KbXVsdGlhZGRyc5YACASsEmHtBl5KAAoErBJh7QZeS90DgnJzhQADAQAAiXNlY3AyNTZrMaEDeCVz7XvqH7sVCbeTH3XSeku8NosVN_kMzr4nymK-4BKDdGNwgl5Kg3VkcIJeTIV3YWt1MgA"}'
2026-01-30 04:39:09.013 INFO [src.node.waku_node] REST service is ready !!
2026-01-30 04:39:09.013 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:24137/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.115.182/tcp/54504/p2p/16Uiu2HAmQDsXNRA4whuTmEir1T6sd5mQh3y5yPCFg58km4W3VWvq"]'
2026-01-30 04:39:09.042 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-30 04:39:09.043 DEBUG [src.steps.filter] Running fixture setup: subscribe_main_nodes
2026-01-30 04:39:09.043 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:54503/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2026-01-30 04:39:09.059 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-30 04:39:09.061 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:24137/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "49a05ca3-bb35-465e-9286-58bef0949f0d", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
2026-01-30 04:39:09.074 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"49a05ca3-bb35-465e-9286-58bef0949f0d","statusDesc":"OK"}'
2026-01-30 04:39:09.075 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:24137/filter/v2/subscriptions/6af1d4a8-9a5a-426c-b73d-5e5d27ac54f2" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:39:09.082 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"6af1d4a8-9a5a-426c-b73d-5e5d27ac54f2","statusDesc":"OK"}'
2026-01-30 04:39:09.084 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-01-30 04:39:09.085 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-01-30 04:39:09.085 DEBUG [src.node.waku_node] Stopping container with id 4faa46a4b3cb
2026-01-30 04:39:09.576 DEBUG [src.node.waku_node] Container stopped.
2026-01-30 04:39:09.576 DEBUG [src.node.waku_node] Stopping container with id 5e70381eb5c4
2026-01-30 04:39:10.063 DEBUG [src.node.waku_node] Container stopped.
2026-01-30 04:39:10.064 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-01-30 04:39:10.069 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-01-30 04:39:10.075 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
