2026-01-30 04:34:32.292 DEBUG [tests.conftest] Running fixture setup: test_id
2026-01-30 04:34:32.292 DEBUG [tests.conftest] Running test: test_light_push_with_missing_pubsub_topics with id: 2026-01-30_04-34-32__9f37ecbd-2ff6-4fed-9250-b7c683b25e3b
2026-01-30 04:34:32.293 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-01-30 04:34:32.293 DEBUG [src.steps.light_push] Running fixture setup: light_push_setup
2026-01-30 04:34:32.300 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-01-30 04:34:32.300 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node1_2026-01-30_04-34-32__9f37ecbd-2ff6-4fed-9250-b7c683b25e3b__wakuorg_nwaku:latest.log
2026-01-30 04:34:32.300 DEBUG [src.node.waku_node] Starting Node...
2026-01-30 04:34:32.300 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-01-30 04:34:32.302 DEBUG [src.node.docker_mananger] Network waku already exists
2026-01-30 04:34:32.302 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.81.26
2026-01-30 04:34:32.302 DEBUG [src.node.docker_mananger] Generated ports ['20167', '20168', '20169', '20170', '20171']
2026-01-30 04:34:32.302 DEBUG [src.node.waku_node] RLN credentials were not set
2026-01-30 04:34:32.302 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-01-30 04:34:32.302 DEBUG [src.node.waku_node] Using volumes []
2026-01-30 04:34:32.303 DEBUG [src.node.docker_mananger] docker run -i -t -p 20167:20167 -p 20168:20168 -p 20169:20169 -p 20170:20170 -p 20171:20171 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=20169 --rest-port=20167 --tcp-port=20168 --discv5-udp-port=20170 --rest-address=0.0.0.0 --nat=extip:172.18.81.26 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e37cf9f47b01d0551d8bcc5c5adbbdb1aa202dc4ac50dfbfd36cccdb410587f8 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=20171 --metrics-logging=true --lightpush=true --relay=true
2026-01-30 04:34:32.474 ERROR [src.node.docker_mananger] Max retries reached for container a09abb245d3c. Exiting log stream.
2026-01-30 04:34:32.489 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.81.26 waku 0a08d07ccedf5d6ed674a0942ad22b78663473a57ed8c9d9d87d3b7f7a0f711c
2026-01-30 04:34:32.522 DEBUG [src.node.docker_mananger] Container started with ID 0a08d07ccedf. Setting up logs at ./log/docker/receiving_node1_2026-01-30_04-34-32__9f37ecbd-2ff6-4fed-9250-b7c683b25e3b__wakuorg_nwaku:latest.log
2026-01-30 04:34:32.523 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 20167
2026-01-30 04:34:32.524 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-01-30 04:34:32.943 ERROR [src.node.docker_mananger] Max retries reached for container ac1b8a6b264f. Exiting log stream.
2026-01-30 04:34:33.524 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:20167/health" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:34:33.527 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_READY","desc":"Node has no relay peers to fullfill push requests"},{"Legacy Lightpush":"NOT_READY","desc":"Node has no relay peers to fullfill push requests"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-01-30 04:34:33.528 INFO [src.node.waku_node] Node protocols are initialized !!
2026-01-30 04:34:33.528 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:20167/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:34:33.530 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.81.26/tcp/20168/p2p/16Uiu2HAkvhAZ7ZEsnaMPkuKdJPUP1riM1KYLe4qE3GSEMaHQLUAY","/ip4/172.18.81.26/tcp/20169/ws/p2p/16Uiu2HAkvhAZ7ZEsnaMPkuKdJPUP1riM1KYLe4qE3GSEMaHQLUAY"],"enrUri":"enr:-L24QPlXcuCKQoECwxXNWh40Ic_4nYLwJcAHAM1PPAGzxJareMLLydx0VwbhwBXliYIG8bELYycHRXcMemGlPJS4KUgCgmlkgnY0gmlwhKwSURqKbXVsdGlhZGRyc5YACASsElEaBk7IAAoErBJRGgZOyd0DgnJzhQADAQAAiXNlY3AyNTZrMaECEtO1Vb5gu_l2iJnQjQ8HGkLoD6_UHscgfQlAmjLuL52DdGNwgk7Ig3VkcIJOyoV3YWt1Mgk"}'
2026-01-30 04:34:33.530 INFO [src.node.waku_node] REST service is ready !!
2026-01-30 04:34:33.537 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-01-30 04:34:33.537 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node2_2026-01-30_04-34-32__9f37ecbd-2ff6-4fed-9250-b7c683b25e3b__wakuorg_nwaku:latest.log
2026-01-30 04:34:33.537 DEBUG [src.node.waku_node] Starting Node...
2026-01-30 04:34:33.537 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-01-30 04:34:33.539 DEBUG [src.node.docker_mananger] Network waku already exists
2026-01-30 04:34:33.539 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.132.142
2026-01-30 04:34:33.539 DEBUG [src.node.docker_mananger] Generated ports ['17442', '17443', '17444', '17445', '17446']
2026-01-30 04:34:33.539 DEBUG [src.node.waku_node] RLN credentials were not set
2026-01-30 04:34:33.539 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-01-30 04:34:33.539 DEBUG [src.node.waku_node] Using volumes []
2026-01-30 04:34:33.539 DEBUG [src.node.docker_mananger] docker run -i -t -p 17442:17442 -p 17443:17443 -p 17444:17444 -p 17445:17445 -p 17446:17446 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=17444 --rest-port=17442 --tcp-port=17443 --discv5-udp-port=17445 --rest-address=0.0.0.0 --nat=extip:172.18.132.142 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=1cdac46adbafcd9ff313b9dce10eafb12a1c0fbc660dd3fc3e99b49bad4361d8 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=17446 --metrics-logging=true --lightpush=false --relay=true
2026-01-30 04:34:33.723 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.132.142 waku c79c055cbdd2fe447a7c69262e2536e610d540d08772eea934c1f18dfabdc005
2026-01-30 04:34:33.756 DEBUG [src.node.docker_mananger] Container started with ID c79c055cbdd2. Setting up logs at ./log/docker/receiving_node2_2026-01-30_04-34-32__9f37ecbd-2ff6-4fed-9250-b7c683b25e3b__wakuorg_nwaku:latest.log
2026-01-30 04:34:33.757 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 17442
2026-01-30 04:34:33.757 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-01-30 04:34:34.758 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17442/health" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:34:34.762 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-01-30 04:34:34.762 INFO [src.node.waku_node] Node protocols are initialized !!
2026-01-30 04:34:34.762 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17442/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:34:34.764 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.132.142/tcp/17443/p2p/16Uiu2HAm9pxg3VuD1fqRfXS2ZWKS911qHTpFKZDaQjiQnfr1y1g6","/ip4/172.18.132.142/tcp/17444/ws/p2p/16Uiu2HAm9pxg3VuD1fqRfXS2ZWKS911qHTpFKZDaQjiQnfr1y1g6"],"enrUri":"enr:-L24QBC-JQw8fJzlZUY-nqcAGHjqUZW5tY3m2fGwjujVLA8VWhOZiE09p0AUdZE8ZBXJkK-exSP4MgQwIsjTWzKHkYMCgmlkgnY0gmlwhKwShI6KbXVsdGlhZGRyc5YACASsEoSOBkQjAAoErBKEjgZEJN0DgnJzhQADAQAAiXNlY3AyNTZrMaEC1frZ_K9tZSPaNBSyUd0JFfMbo0rLmIzI4yyXHiaevDuDdGNwgkQjg3VkcIJEJYV3YWt1MgE"}'
2026-01-30 04:34:34.764 INFO [src.node.waku_node] REST service is ready !!
2026-01-30 04:34:34.765 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17442/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.81.26/tcp/20168/p2p/16Uiu2HAkvhAZ7ZEsnaMPkuKdJPUP1riM1KYLe4qE3GSEMaHQLUAY"]'
2026-01-30 04:34:34.795 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-30 04:34:34.804 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-01-30 04:34:34.805 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/lightpush_node1_2026-01-30_04-34-32__9f37ecbd-2ff6-4fed-9250-b7c683b25e3b__wakuorg_nwaku:latest.log
2026-01-30 04:34:34.806 DEBUG [src.node.waku_node] Starting Node...
2026-01-30 04:34:34.806 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-01-30 04:34:34.808 DEBUG [src.node.docker_mananger] Network waku already exists
2026-01-30 04:34:34.808 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.200.56
2026-01-30 04:34:34.809 DEBUG [src.node.docker_mananger] Generated ports ['2398', '2399', '2400', '2401', '2402']
2026-01-30 04:34:34.809 DEBUG [src.node.waku_node] RLN credentials were not set
2026-01-30 04:34:34.809 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-01-30 04:34:34.809 DEBUG [src.node.waku_node] Using volumes []
2026-01-30 04:34:34.810 DEBUG [src.node.docker_mananger] docker run -i -t -p 2398:2398 -p 2399:2399 -p 2400:2400 -p 2401:2401 -p 2402:2402 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=2400 --rest-port=2398 --tcp-port=2399 --discv5-udp-port=2401 --rest-address=0.0.0.0 --nat=extip:172.18.200.56 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a0ead79fe0cfd7d9de06ca86c3aff238e79dea5ec96d3ba009ccded82cb28a7d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=2402 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QPlXcuCKQoECwxXNWh40Ic_4nYLwJcAHAM1PPAGzxJareMLLydx0VwbhwBXliYIG8bELYycHRXcMemGlPJS4KUgCgmlkgnY0gmlwhKwSURqKbXVsdGlhZGRyc5YACASsElEaBk7IAAoErBJRGgZOyd0DgnJzhQADAQAAiXNlY3AyNTZrMaECEtO1Vb5gu_l2iJnQjQ8HGkLoD6_UHscgfQlAmjLuL52DdGNwgk7Ig3VkcIJOyoV3YWt1Mgk --lightpushnode=/ip4/172.18.81.26/tcp/20168/p2p/16Uiu2HAkvhAZ7ZEsnaMPkuKdJPUP1riM1KYLe4qE3GSEMaHQLUAY --lightpush=true --relay=true
2026-01-30 04:34:34.992 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.200.56 waku bf82728627d7fb45f203649307425cdebcb0ba183229cb4367e9f1a674aea717
2026-01-30 04:34:35.026 DEBUG [src.node.docker_mananger] Container started with ID bf82728627d7. Setting up logs at ./log/docker/lightpush_node1_2026-01-30_04-34-32__9f37ecbd-2ff6-4fed-9250-b7c683b25e3b__wakuorg_nwaku:latest.log
2026-01-30 04:34:35.026 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 2398
2026-01-30 04:34:35.026 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-01-30 04:34:36.027 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2398/health" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:34:36.030 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_READY","desc":"Node has no relay peers to fullfill push requests"},{"Legacy Lightpush":"NOT_READY","desc":"Node has no relay peers to fullfill push requests"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"READY"},{"Legacy Lightpush Client":"READY"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-01-30 04:34:36.031 INFO [src.node.waku_node] Node protocols are initialized !!
2026-01-30 04:34:36.031 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2398/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:34:36.033 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.200.56/tcp/2399/p2p/16Uiu2HAmV1bsjgkPSnZe3RcBVG3LwmsmGgxuL29c4U7ZD857PNFq","/ip4/172.18.200.56/tcp/2400/ws/p2p/16Uiu2HAmV1bsjgkPSnZe3RcBVG3LwmsmGgxuL29c4U7ZD857PNFq"],"enrUri":"enr:-L24QLTGFf0_8Xs92lm1ZR7HNTgPErfNT6t-o_-g7D6CQiUYBDFpzyhlIG1IWcX7zDPfGh03YuYIBJDj7pmpty_X6wcCgmlkgnY0gmlwhKwSyDiKbXVsdGlhZGRyc5YACASsEsg4BglfAAoErBLIOAYJYN0DgnJzhQADAQAAiXNlY3AyNTZrMaED8wLGcrr4FJgTB9tUwW61mK0l0QqCPK70DxRcZRTlNWCDdGNwgglfg3VkcIIJYYV3YWt1Mgk"}'
2026-01-30 04:34:36.033 INFO [src.node.waku_node] REST service is ready !!
2026-01-30 04:34:36.033 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2398/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.81.26/tcp/20168/p2p/16Uiu2HAkvhAZ7ZEsnaMPkuKdJPUP1riM1KYLe4qE3GSEMaHQLUAY"]'
2026-01-30 04:34:36.072 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-30 04:34:36.072 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2398/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.132.142/tcp/17443/p2p/16Uiu2HAm9pxg3VuD1fqRfXS2ZWKS911qHTpFKZDaQjiQnfr1y1g6"]'
2026-01-30 04:34:36.095 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-30 04:34:36.098 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:20167/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-01-30 04:34:36.107 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-30 04:34:36.108 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17442/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-01-30 04:34:36.118 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-30 04:34:36.119 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2398/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-01-30 04:34:36.123 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-30 04:34:36.126 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2398/lightpush/v1/message" -H "Content-Type: application/json" -d '{"message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1769747676125956246}}'
2026-01-30 04:34:36.141 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-30 04:34:36.144 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-01-30 04:34:36.145 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-01-30 04:34:36.145 DEBUG [src.node.waku_node] Stopping container with id 0a08d07ccedf
2026-01-30 04:34:36.705 DEBUG [src.node.waku_node] Container stopped.
2026-01-30 04:34:36.705 DEBUG [src.node.waku_node] Stopping container with id c79c055cbdd2
2026-01-30 04:34:37.236 DEBUG [src.node.waku_node] Container stopped.
2026-01-30 04:34:37.236 DEBUG [src.node.waku_node] Stopping container with id bf82728627d7
2026-01-30 04:34:37.517 ERROR [src.node.docker_mananger] Max retries reached for container 0a08d07ccedf. Exiting log stream.
2026-01-30 04:34:37.780 DEBUG [src.node.waku_node] Container stopped.
2026-01-30 04:34:37.782 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-01-30 04:34:37.790 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-01-30 04:34:37.797 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-01-30 04:34:37.805 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
