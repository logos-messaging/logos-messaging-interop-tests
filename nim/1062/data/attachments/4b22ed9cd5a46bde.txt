2026-01-30 04:38:21.547 DEBUG [tests.conftest] Running fixture setup: test_id
2026-01-30 04:38:21.547 DEBUG [tests.conftest] Running test: test_relay_subscribe_with_multiple_overlapping_pubsub_topics with id: 2026-01-30_04-38-21__fa4a6a8e-b8d7-4a5d-99a6-b6c3b7019f63
2026-01-30 04:38:21.548 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-01-30 04:38:21.548 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2026-01-30 04:38:21.548 DEBUG [src.steps.relay] Running fixture setup: setup_main_relay_nodes
2026-01-30 04:38:21.555 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-01-30 04:38:21.555 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2026-01-30_04-38-21__fa4a6a8e-b8d7-4a5d-99a6-b6c3b7019f63__wakuorg_nwaku:latest.log
2026-01-30 04:38:21.555 DEBUG [src.node.waku_node] Starting Node...
2026-01-30 04:38:21.555 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-01-30 04:38:21.556 DEBUG [src.node.docker_mananger] Network waku already exists
2026-01-30 04:38:21.557 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.254.184
2026-01-30 04:38:21.557 DEBUG [src.node.docker_mananger] Generated ports ['53199', '53200', '53201', '53202', '53203']
2026-01-30 04:38:21.557 DEBUG [src.node.waku_node] RLN credentials were not set
2026-01-30 04:38:21.557 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-01-30 04:38:21.557 DEBUG [src.node.waku_node] Using volumes []
2026-01-30 04:38:21.557 DEBUG [src.node.docker_mananger] docker run -i -t -p 53199:53199 -p 53200:53200 -p 53201:53201 -p 53202:53202 -p 53203:53203 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=53201 --rest-port=53199 --tcp-port=53200 --discv5-udp-port=53202 --rest-address=0.0.0.0 --nat=extip:172.18.254.184 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=9da1ff36c92c80f5feabac444a3df2adb9036a7bd427f2b8684dd53fbbcfdedf --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=53203 --metrics-logging=true --relay=true
2026-01-30 04:38:21.739 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.254.184 waku 9fc2592be5d1ea1e1e21d6427e120fc6d39028ce64df3ad0ed252f9eda66cbb0
2026-01-30 04:38:21.768 DEBUG [src.node.docker_mananger] Container started with ID 9fc2592be5d1. Setting up logs at ./log/docker/node1_2026-01-30_04-38-21__fa4a6a8e-b8d7-4a5d-99a6-b6c3b7019f63__wakuorg_nwaku:latest.log
2026-01-30 04:38:21.769 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 53199
2026-01-30 04:38:21.769 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-01-30 04:38:21.830 ERROR [src.node.docker_mananger] Max retries reached for container cb4564a71cb0. Exiting log stream.
2026-01-30 04:38:22.343 ERROR [src.node.docker_mananger] Max retries reached for container 32a95cb39196. Exiting log stream.
2026-01-30 04:38:22.769 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:53199/health" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:38:22.773 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-01-30 04:38:22.773 INFO [src.node.waku_node] Node protocols are initialized !!
2026-01-30 04:38:22.773 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:53199/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:38:22.776 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.254.184/tcp/53200/p2p/16Uiu2HAmLdfde7WBN81uD3GamejRJof7dTTAmCH4x5HmNnQtSRsZ","/ip4/172.18.254.184/tcp/53201/ws/p2p/16Uiu2HAmLdfde7WBN81uD3GamejRJof7dTTAmCH4x5HmNnQtSRsZ"],"enrUri":"enr:-L24QIh6GXUUCOOWQqFO71B4Gwc5XNDgQyrLxjc7kqbJEPP_F9du3iGRW2KjMRW--kI7DceS-NUpgPsdkvn0pJIYt4sCgmlkgnY0gmlwhKwS_riKbXVsdGlhZGRyc5YACASsEv64Bs_QAAoErBL-uAbP0d0DgnJzhQADAQAAiXNlY3AyNTZrMaEDdoa__16xVbw_qC7WnvW4f0ZPwg7Rz3H-rcx0uqHxGgyDdGNwgs_Qg3VkcILP0oV3YWt1MgE"}'
2026-01-30 04:38:22.776 INFO [src.node.waku_node] REST service is ready !!
2026-01-30 04:38:22.783 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-01-30 04:38:22.783 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2026-01-30_04-38-21__fa4a6a8e-b8d7-4a5d-99a6-b6c3b7019f63__wakuorg_nwaku:latest.log
2026-01-30 04:38:22.783 DEBUG [src.node.waku_node] Starting Node...
2026-01-30 04:38:22.783 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-01-30 04:38:22.784 DEBUG [src.node.docker_mananger] Network waku already exists
2026-01-30 04:38:22.784 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.171.58
2026-01-30 04:38:22.785 DEBUG [src.node.docker_mananger] Generated ports ['18801', '18802', '18803', '18804', '18805']
2026-01-30 04:38:22.785 DEBUG [src.node.waku_node] RLN credentials were not set
2026-01-30 04:38:22.785 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-01-30 04:38:22.785 DEBUG [src.node.waku_node] Using volumes []
2026-01-30 04:38:22.785 DEBUG [src.node.docker_mananger] docker run -i -t -p 18801:18801 -p 18802:18802 -p 18803:18803 -p 18804:18804 -p 18805:18805 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=18803 --rest-port=18801 --tcp-port=18802 --discv5-udp-port=18804 --rest-address=0.0.0.0 --nat=extip:172.18.171.58 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=cb2241baf62ec2bbdf62c9cc9dd022abaf3dae4422faf0b4cef5eadcf5b4d880 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=18805 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QIh6GXUUCOOWQqFO71B4Gwc5XNDgQyrLxjc7kqbJEPP_F9du3iGRW2KjMRW--kI7DceS-NUpgPsdkvn0pJIYt4sCgmlkgnY0gmlwhKwS_riKbXVsdGlhZGRyc5YACASsEv64Bs_QAAoErBL-uAbP0d0DgnJzhQADAQAAiXNlY3AyNTZrMaEDdoa__16xVbw_qC7WnvW4f0ZPwg7Rz3H-rcx0uqHxGgyDdGNwgs_Qg3VkcILP0oV3YWt1MgE
2026-01-30 04:38:22.977 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.171.58 waku 87421d352c62afbe88db3b3c55d73ada0c2eb035d4269119e11d30f1a373d7f1
2026-01-30 04:38:23.006 DEBUG [src.node.docker_mananger] Container started with ID 87421d352c62. Setting up logs at ./log/docker/node2_2026-01-30_04-38-21__fa4a6a8e-b8d7-4a5d-99a6-b6c3b7019f63__wakuorg_nwaku:latest.log
2026-01-30 04:38:23.006 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 18801
2026-01-30 04:38:23.006 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-01-30 04:38:24.007 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18801/health" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:38:24.023 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-01-30 04:38:24.024 INFO [src.node.waku_node] Node protocols are initialized !!
2026-01-30 04:38:24.024 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18801/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:38:24.030 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.171.58/tcp/18802/p2p/16Uiu2HAmD3DC87AyhqiHjQw2mtn9QLRsJPWbLb2ujdhLn5er3fML","/ip4/172.18.171.58/tcp/18803/ws/p2p/16Uiu2HAmD3DC87AyhqiHjQw2mtn9QLRsJPWbLb2ujdhLn5er3fML"],"enrUri":"enr:-L24QGbs93df0OyPwanIodRQa4mA5kMCl_LeJ9_9mcdDOSNDbu8sA--2w4WKo598haJdMoORcbph2wV0FXJxbyQHIY0CgmlkgnY0gmlwhKwSqzqKbXVsdGlhZGRyc5YACASsEqs6BklyAAoErBKrOgZJc90DgnJzhQADAQAAiXNlY3AyNTZrMaEDBbFMWdgx3K81AvgZJJR6O8nw-ETjLR8VUMG5v6qD4PODdGNwgklyg3VkcIJJdIV3YWt1MgE"}'
2026-01-30 04:38:24.031 INFO [src.node.waku_node] REST service is ready !!
2026-01-30 04:38:24.031 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:18801/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.254.184/tcp/53200/p2p/16Uiu2HAmLdfde7WBN81uD3GamejRJof7dTTAmCH4x5HmNnQtSRsZ"]'
2026-01-30 04:38:24.037 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-30 04:38:24.038 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:53199/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0", "/waku/2/rs/3/1", "/waku/2/rs/3/9"]'
2026-01-30 04:38:24.042 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-30 04:38:24.042 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:18801/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0", "/waku/2/rs/3/1", "/waku/2/rs/3/9"]'
2026-01-30 04:38:24.049 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-30 04:38:24.050 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:53199/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1", "/waku/2/rs/3/9", "/waku/2/rs/3/25"]'
2026-01-30 04:38:24.056 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-30 04:38:24.056 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:18801/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1", "/waku/2/rs/3/9", "/waku/2/rs/3/25"]'
2026-01-30 04:38:24.061 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-30 04:38:24.063 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:53199/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2026-01-30 04:38:24.069 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-30 04:38:24.069 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-01-30 04:38:24.170 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-01-30 04:38:24.170 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:53199/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:38:24.172 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1769747904063599360,"ephemeral":false,"proof":""}]'
2026-01-30 04:38:24.174 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-01-30 04:38:24.174 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18801/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:38:24.177 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1769747904063599360,"ephemeral":false,"proof":""}]'
2026-01-30 04:38:24.178 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:53199/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2026-01-30 04:38:24.183 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-30 04:38:24.183 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-01-30 04:38:24.284 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-01-30 04:38:24.284 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:53199/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:38:24.286 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1769747904178620672,"ephemeral":false,"proof":""}]'
2026-01-30 04:38:24.287 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-01-30 04:38:24.288 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18801/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:38:24.290 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1769747904178620672,"ephemeral":false,"proof":""}]'
2026-01-30 04:38:24.292 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:53199/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F9" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2026-01-30 04:38:24.296 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-30 04:38:24.296 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-01-30 04:38:24.396 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-01-30 04:38:24.397 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:53199/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F9" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:38:24.399 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1769747904291990272,"ephemeral":false,"proof":""}]'
2026-01-30 04:38:24.400 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-01-30 04:38:24.400 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18801/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F9" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:38:24.403 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1769747904291990272,"ephemeral":false,"proof":""}]'
2026-01-30 04:38:24.404 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:53199/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F25" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2026-01-30 04:38:24.408 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-30 04:38:24.409 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-01-30 04:38:24.509 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-01-30 04:38:24.509 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:53199/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F25" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:38:24.512 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1769747904404501504,"ephemeral":false,"proof":""}]'
2026-01-30 04:38:24.513 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-01-30 04:38:24.513 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18801/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F25" -H "Content-Type: application/json" -d 'None'
2026-01-30 04:38:24.515 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1769747904404501504,"ephemeral":false,"proof":""}]'
2026-01-30 04:38:24.519 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-01-30 04:38:24.520 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-01-30 04:38:24.520 DEBUG [src.node.waku_node] Stopping container with id 9fc2592be5d1
2026-01-30 04:38:25.069 DEBUG [src.node.waku_node] Container stopped.
2026-01-30 04:38:25.071 DEBUG [src.node.waku_node] Stopping container with id 87421d352c62
2026-01-30 04:38:25.591 DEBUG [src.node.waku_node] Container stopped.
2026-01-30 04:38:25.593 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-01-30 04:38:25.601 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-01-30 04:38:25.607 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
