2026-02-13 04:40:32.620 DEBUG [tests.conftest] Running fixture setup: test_id
2026-02-13 04:40:32.621 DEBUG [tests.conftest] Running test: test_publish_with_valid_timestamps with id: 2026-02-13_04-40-32__1950dc69-bfb9-47f2-859c-1841e4cd3612
2026-02-13 04:40:32.622 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-02-13 04:40:32.623 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2026-02-13 04:40:32.623 DEBUG [src.steps.relay] Running fixture setup: setup_main_relay_nodes
2026-02-13 04:40:32.633 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-13 04:40:32.634 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2026-02-13_04-40-32__1950dc69-bfb9-47f2-859c-1841e4cd3612__wakuorg_nwaku:latest.log
2026-02-13 04:40:32.634 DEBUG [src.node.waku_node] Starting Node...
2026-02-13 04:40:32.635 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-13 04:40:32.638 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-13 04:40:32.639 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.94.181
2026-02-13 04:40:32.640 DEBUG [src.node.docker_mananger] Generated ports ['19531', '19532', '19533', '19534', '19535']
2026-02-13 04:40:32.640 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-13 04:40:32.640 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-13 04:40:32.640 DEBUG [src.node.waku_node] Using volumes []
2026-02-13 04:40:32.640 DEBUG [src.node.docker_mananger] docker run -i -t -p 19531:19531 -p 19532:19532 -p 19533:19533 -p 19534:19534 -p 19535:19535 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=19533 --rest-port=19531 --tcp-port=19532 --discv5-udp-port=19534 --rest-address=0.0.0.0 --nat=extip:172.18.94.181 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=eafe56fcdabd596bffee72dfeec19f3d6bfc5cb6bbbcbd38d2ac49f5a2cf837f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=19535 --metrics-logging=true --relay=true
2026-02-13 04:40:32.805 ERROR [src.node.docker_mananger] Max retries reached for container 9fee80a3d880. Exiting log stream.
2026-02-13 04:40:32.858 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.94.181 waku b079f7940b7ba29f00b13517ab141946233a250d31b4f05f19453557fa676fcf
2026-02-13 04:40:32.908 DEBUG [src.node.docker_mananger] Container started with ID b079f7940b7b. Setting up logs at ./log/docker/node1_2026-02-13_04-40-32__1950dc69-bfb9-47f2-859c-1841e4cd3612__wakuorg_nwaku:latest.log
2026-02-13 04:40:32.908 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 19531
2026-02-13 04:40:32.909 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-13 04:40:33.101 ERROR [src.node.docker_mananger] Max retries reached for container b4b8e2260bc6. Exiting log stream.
2026-02-13 04:40:33.523 ERROR [src.node.docker_mananger] Max retries reached for container 06138a4caf70. Exiting log stream.
2026-02-13 04:40:33.909 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19531/health" -H "Content-Type: application/json" -d 'None'
2026-02-13 04:40:33.912 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-13 04:40:33.913 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-13 04:40:33.913 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19531/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-13 04:40:33.915 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.94.181/tcp/19532/p2p/16Uiu2HAmTf1xWLq2ptQpfag45eaqSkzU2tMfx2Fg9wu6KYx1YGya","/ip4/172.18.94.181/tcp/19533/ws/p2p/16Uiu2HAmTf1xWLq2ptQpfag45eaqSkzU2tMfx2Fg9wu6KYx1YGya"],"enrUri":"enr:-L24QGjKlD4xCH1xYpw-kiVOyuKEQe0X7GDVGUzrBhm1hXqoAxc-jFdxB5vnBbqi72DGV35jx_h-V7Ca2VEgJdWZpuYCgmlkgnY0gmlwhKwSXrWKbXVsdGlhZGRyc5YACASsEl61BkxMAAoErBJetQZMTd0DgnJzhQADAQAAiXNlY3AyNTZrMaED3uEfA4CyC7RiV9Ja8JvEE-nmwwor7H2QnirqCrOD9eWDdGNwgkxMg3VkcIJMToV3YWt1MgE"}'
2026-02-13 04:40:33.915 INFO [src.node.waku_node] REST service is ready !!
2026-02-13 04:40:33.922 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-13 04:40:33.922 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2026-02-13_04-40-32__1950dc69-bfb9-47f2-859c-1841e4cd3612__wakuorg_nwaku:latest.log
2026-02-13 04:40:33.922 DEBUG [src.node.waku_node] Starting Node...
2026-02-13 04:40:33.922 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-13 04:40:33.924 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-13 04:40:33.924 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.190.106
2026-02-13 04:40:33.924 DEBUG [src.node.docker_mananger] Generated ports ['49509', '49510', '49511', '49512', '49513']
2026-02-13 04:40:33.924 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-13 04:40:33.924 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-13 04:40:33.925 DEBUG [src.node.waku_node] Using volumes []
2026-02-13 04:40:33.925 DEBUG [src.node.docker_mananger] docker run -i -t -p 49509:49509 -p 49510:49510 -p 49511:49511 -p 49512:49512 -p 49513:49513 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=49511 --rest-port=49509 --tcp-port=49510 --discv5-udp-port=49512 --rest-address=0.0.0.0 --nat=extip:172.18.190.106 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=6d8ab1afba348ade8faa5adffd4aff8ea4ccf2591fad90d7d19c4283ac1bbc82 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=49513 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QGjKlD4xCH1xYpw-kiVOyuKEQe0X7GDVGUzrBhm1hXqoAxc-jFdxB5vnBbqi72DGV35jx_h-V7Ca2VEgJdWZpuYCgmlkgnY0gmlwhKwSXrWKbXVsdGlhZGRyc5YACASsEl61BkxMAAoErBJetQZMTd0DgnJzhQADAQAAiXNlY3AyNTZrMaED3uEfA4CyC7RiV9Ja8JvEE-nmwwor7H2QnirqCrOD9eWDdGNwgkxMg3VkcIJMToV3YWt1MgE
2026-02-13 04:40:34.136 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.190.106 waku f9840baf1f2a0d96e7b4181b93f1f36dc8ea6ab5e68a7fc4097dca272d88c4ba
2026-02-13 04:40:34.183 DEBUG [src.node.docker_mananger] Container started with ID f9840baf1f2a. Setting up logs at ./log/docker/node2_2026-02-13_04-40-32__1950dc69-bfb9-47f2-859c-1841e4cd3612__wakuorg_nwaku:latest.log
2026-02-13 04:40:34.184 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 49509
2026-02-13 04:40:34.184 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-13 04:40:35.186 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49509/health" -H "Content-Type: application/json" -d 'None'
2026-02-13 04:40:35.192 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"READY"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-13 04:40:35.192 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-13 04:40:35.193 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49509/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-13 04:40:35.195 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.190.106/tcp/49510/p2p/16Uiu2HAmDRwH2S1Mb339ZmVYM8k52qLiAP62s973pWdiyE3Re5FS","/ip4/172.18.190.106/tcp/49511/ws/p2p/16Uiu2HAmDRwH2S1Mb339ZmVYM8k52qLiAP62s973pWdiyE3Re5FS"],"enrUri":"enr:-L24QFswIdEgrQaV2tij3CJtQKAAZk4L6nT7TZisqAoLga-ocNSjKwHyc6KrQ7lFK5puFfwSa8duuV22adKhNckuWicCgmlkgnY0gmlwhKwSvmqKbXVsdGlhZGRyc5YACASsEr5qBsFmAAoErBK-agbBZ90DgnJzhQADAQAAiXNlY3AyNTZrMaEDC4OpQgi8zI4jstoY0iHWAHmn8r5IRX9Ev9G1LN22_p2DdGNwgsFmg3VkcILBaIV3YWt1MgE"}'
2026-02-13 04:40:35.195 INFO [src.node.waku_node] REST service is ready !!
2026-02-13 04:40:35.196 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:49509/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.94.181/tcp/19532/p2p/16Uiu2HAmTf1xWLq2ptQpfag45eaqSkzU2tMfx2Fg9wu6KYx1YGya"]'
2026-02-13 04:40:35.198 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-13 04:40:35.199 DEBUG [src.steps.relay] Running fixture setup: subscribe_main_relay_nodes
2026-02-13 04:40:35.199 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:19531/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2026-02-13 04:40:35.204 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-13 04:40:35.204 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:49509/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2026-02-13 04:40:35.209 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-13 04:40:35.210 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:19531/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2026-02-13 04:40:35.215 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-13 04:40:35.216 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-13 04:40:35.316 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-13 04:40:35.316 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19531/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2026-02-13 04:40:35.319 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1770957635210179072,"ephemeral":false,"proof":""}]'
2026-02-13 04:40:35.321 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-13 04:40:35.321 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2026-02-13 04:40:35.323 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1770957635210179072,"ephemeral":false,"proof":""}]'
2026-02-13 04:40:35.325 INFO [src.steps.relay] WARM UP successful!!
2026-02-13 04:40:35.326 DEBUG [tests.relay.test_publish] Running test with timestamp Now
2026-02-13 04:40:35.326 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:19531/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2026-02-13 04:40:35.330 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-13 04:40:35.331 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-13 04:40:35.431 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-13 04:40:35.431 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19531/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2026-02-13 04:40:35.434 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1770957450465850112,"ephemeral":false,"proof":""}]'
2026-02-13 04:40:35.435 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-13 04:40:35.436 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2026-02-13 04:40:35.438 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1770957450465850112,"ephemeral":false,"proof":""}]'
2026-02-13 04:40:35.439 DEBUG [tests.relay.test_publish] Running test with timestamp Far future
2026-02-13 04:40:35.440 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:19531/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2026-02-13 04:40:35.444 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-13 04:40:35.444 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-13 04:40:35.544 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-13 04:40:35.545 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19531/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2026-02-13 04:40:35.548 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":2086317450465835008,"ephemeral":false,"proof":""}]'
2026-02-13 04:40:35.549 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-13 04:40:35.549 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2026-02-13 04:40:35.551 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":2086317450465835008,"ephemeral":false,"proof":""}]'
2026-02-13 04:40:35.553 DEBUG [tests.relay.test_publish] Running test with timestamp Recent past
2026-02-13 04:40:35.553 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:19531/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2026-02-13 04:40:35.557 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-13 04:40:35.557 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-13 04:40:35.658 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-13 04:40:35.658 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19531/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2026-02-13 04:40:35.661 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1770953850465835008,"ephemeral":false,"proof":""}]'
2026-02-13 04:40:35.662 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-13 04:40:35.663 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2026-02-13 04:40:35.665 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1770953850465835008,"ephemeral":false,"proof":""}]'
2026-02-13 04:40:35.666 DEBUG [tests.relay.test_publish] Running test with timestamp Near future
2026-02-13 04:40:35.667 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:19531/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2026-02-13 04:40:35.671 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-13 04:40:35.671 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-13 04:40:35.772 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-13 04:40:35.772 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19531/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2026-02-13 04:40:35.775 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1770961050465835008,"ephemeral":false,"proof":""}]'
2026-02-13 04:40:35.776 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-13 04:40:35.776 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2026-02-13 04:40:35.779 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1770961050465835008,"ephemeral":false,"proof":""}]'
2026-02-13 04:40:35.780 DEBUG [tests.relay.test_publish] Running test with timestamp Positive number
2026-02-13 04:40:35.781 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:19531/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2026-02-13 04:40:35.785 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-13 04:40:35.786 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-13 04:40:35.886 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-13 04:40:35.886 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19531/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2026-02-13 04:40:35.889 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1,"ephemeral":false,"proof":""}]'
2026-02-13 04:40:35.890 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-13 04:40:35.890 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2026-02-13 04:40:35.893 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1,"ephemeral":false,"proof":""}]'
2026-02-13 04:40:35.894 DEBUG [tests.relay.test_publish] Running test with timestamp Negative number
2026-02-13 04:40:35.895 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:19531/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2026-02-13 04:40:35.899 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-13 04:40:35.899 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-13 04:40:35.999 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-13 04:40:36.000 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19531/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2026-02-13 04:40:36.003 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":-1,"ephemeral":false,"proof":""}]'
2026-02-13 04:40:36.004 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-13 04:40:36.005 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2026-02-13 04:40:36.007 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":-1,"ephemeral":false,"proof":""}]'
2026-02-13 04:40:36.008 DEBUG [tests.relay.test_publish] Running test with timestamp DST change
2026-02-13 04:40:36.009 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:19531/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2026-02-13 04:40:36.014 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-13 04:40:36.014 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-13 04:40:36.114 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-13 04:40:36.115 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19531/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2026-02-13 04:40:36.117 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1583632800000000000,"ephemeral":false,"proof":""}]'
2026-02-13 04:40:36.119 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-13 04:40:36.119 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2026-02-13 04:40:36.122 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1583632800000000000,"ephemeral":false,"proof":""}]'
2026-02-13 04:40:36.125 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-02-13 04:40:36.126 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-02-13 04:40:36.126 DEBUG [src.node.waku_node] Stopping container with id b079f7940b7b
2026-02-13 04:40:36.402 DEBUG [src.node.waku_node] Container stopped.
2026-02-13 04:40:36.404 DEBUG [src.node.waku_node] Stopping container with id f9840baf1f2a
2026-02-13 04:40:36.646 DEBUG [src.node.waku_node] Container stopped.
2026-02-13 04:40:36.647 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-02-13 04:40:36.662 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-13 04:40:36.671 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
