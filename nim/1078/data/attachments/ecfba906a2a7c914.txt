2026-02-13 04:40:21.128 DEBUG [tests.conftest] Running fixture setup: test_id
2026-02-13 04:40:21.129 DEBUG [tests.conftest] Running test: test_store_sort_ascending[true] with id: 2026-02-13_04-40-21__5ebf18f2-c8b0-4546-800f-6bc9e64d77f2
2026-02-13 04:40:21.130 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-02-13 04:40:21.130 DEBUG [src.steps.store] Running fixture setup: store_setup
2026-02-13 04:40:21.130 DEBUG [src.steps.store] Running fixture setup: node_setup
2026-02-13 04:40:21.140 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-13 04:40:21.140 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/publishing_node1_2026-02-13_04-40-21__5ebf18f2-c8b0-4546-800f-6bc9e64d77f2__wakuorg_nwaku:latest.log
2026-02-13 04:40:21.141 DEBUG [src.node.waku_node] Starting Node...
2026-02-13 04:40:21.141 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-13 04:40:21.144 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-13 04:40:21.145 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.151.48
2026-02-13 04:40:21.146 DEBUG [src.node.docker_mananger] Generated ports ['59020', '59021', '59022', '59023', '59024']
2026-02-13 04:40:21.146 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-13 04:40:21.146 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-13 04:40:21.146 DEBUG [src.node.waku_node] Using volumes []
2026-02-13 04:40:21.147 DEBUG [src.node.docker_mananger] docker run -i -t -p 59020:59020 -p 59021:59021 -p 59022:59022 -p 59023:59023 -p 59024:59024 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=59022 --rest-port=59020 --tcp-port=59021 --discv5-udp-port=59023 --rest-address=0.0.0.0 --nat=extip:172.18.151.48 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=0fb8f6db3c38fdbadcc5b89b804079bbec5b9caeac753be76d0913aadbada1ee --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=59024 --metrics-logging=true --store=true --relay=true
2026-02-13 04:40:21.346 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.151.48 waku 73a1a061345ed060204ca9398bc9fdf9a6da820b5fb777471861648a1b441b0a
2026-02-13 04:40:21.403 DEBUG [src.node.docker_mananger] Container started with ID 73a1a061345e. Setting up logs at ./log/docker/publishing_node1_2026-02-13_04-40-21__5ebf18f2-c8b0-4546-800f-6bc9e64d77f2__wakuorg_nwaku:latest.log
2026-02-13 04:40:21.404 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 59020
2026-02-13 04:40:21.405 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-13 04:40:21.668 ERROR [src.node.docker_mananger] Max retries reached for container ea0dcbba37a4. Exiting log stream.
2026-02-13 04:40:21.958 ERROR [src.node.docker_mananger] Max retries reached for container 16c57a1f7848. Exiting log stream.
2026-02-13 04:40:22.405 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:59020/health" -H "Content-Type: application/json" -d 'None'
2026-02-13 04:40:22.409 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"READY"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"READY"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-13 04:40:22.409 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-13 04:40:22.409 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:59020/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-13 04:40:22.411 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.151.48/tcp/59021/p2p/16Uiu2HAmU1tb7nhgRyF3mMDTWbub5Rre9f9Veyp5v562DPGcm1ZR","/ip4/172.18.151.48/tcp/59022/ws/p2p/16Uiu2HAmU1tb7nhgRyF3mMDTWbub5Rre9f9Veyp5v562DPGcm1ZR"],"enrUri":"enr:-L24QPnsvQRnbz8ajN1HZK5dZziywHviJE_1wNe0IrzgaBq9M50FG5sJppiqGUrxtSThHbpL6kC3k8lH_Klejn4-FwYCgmlkgnY0gmlwhKwSlzCKbXVsdGlhZGRyc5YACASsEpcwBuaNAAoErBKXMAbmjt0DgnJzhQADAQAAiXNlY3AyNTZrMaED5Dn8einIKQTuxWg3ZClTsmdnljvzUtG6HNEtQkuYFkiDdGNwguaNg3VkcILmj4V3YWt1MgM"}'
2026-02-13 04:40:22.411 INFO [src.node.waku_node] REST service is ready !!
2026-02-13 04:40:22.419 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-13 04:40:22.419 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/store_node1_2026-02-13_04-40-21__5ebf18f2-c8b0-4546-800f-6bc9e64d77f2__wakuorg_nwaku:latest.log
2026-02-13 04:40:22.419 DEBUG [src.node.waku_node] Starting Node...
2026-02-13 04:40:22.419 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-13 04:40:22.420 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-13 04:40:22.421 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.172.80
2026-02-13 04:40:22.421 DEBUG [src.node.docker_mananger] Generated ports ['64477', '64478', '64479', '64480', '64481']
2026-02-13 04:40:22.421 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-13 04:40:22.421 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-13 04:40:22.421 DEBUG [src.node.waku_node] Using volumes []
2026-02-13 04:40:22.421 DEBUG [src.node.docker_mananger] docker run -i -t -p 64477:64477 -p 64478:64478 -p 64479:64479 -p 64480:64480 -p 64481:64481 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=64479 --rest-port=64477 --tcp-port=64478 --discv5-udp-port=64480 --rest-address=0.0.0.0 --nat=extip:172.18.172.80 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bfb6a7ceb84ffbe3cbcb094444ccda91afbd9bbff465b96a9d7c0ef33cef357d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=64481 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QPnsvQRnbz8ajN1HZK5dZziywHviJE_1wNe0IrzgaBq9M50FG5sJppiqGUrxtSThHbpL6kC3k8lH_Klejn4-FwYCgmlkgnY0gmlwhKwSlzCKbXVsdGlhZGRyc5YACASsEpcwBuaNAAoErBKXMAbmjt0DgnJzhQADAQAAiXNlY3AyNTZrMaED5Dn8einIKQTuxWg3ZClTsmdnljvzUtG6HNEtQkuYFkiDdGNwguaNg3VkcILmj4V3YWt1MgM --storenode=/ip4/172.18.151.48/tcp/59021/p2p/16Uiu2HAmU1tb7nhgRyF3mMDTWbub5Rre9f9Veyp5v562DPGcm1ZR --store=true --relay=true
2026-02-13 04:40:22.627 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.172.80 waku 21ae49ba91689e22fa6427bf44cc985386966bda21a350327fcfc0c552a318d8
2026-02-13 04:40:22.684 DEBUG [src.node.docker_mananger] Container started with ID 21ae49ba9168. Setting up logs at ./log/docker/store_node1_2026-02-13_04-40-21__5ebf18f2-c8b0-4546-800f-6bc9e64d77f2__wakuorg_nwaku:latest.log
2026-02-13 04:40:22.686 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 64477
2026-02-13 04:40:22.686 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-13 04:40:23.690 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64477/health" -H "Content-Type: application/json" -d 'None'
2026-02-13 04:40:23.695 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"READY"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"READY"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"READY"},{"Legacy Store Client":"READY"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-13 04:40:23.695 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-13 04:40:23.695 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64477/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-13 04:40:23.698 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.172.80/tcp/64478/p2p/16Uiu2HAmBsgE8UjhunMn31HMA8AU44HZ62H7D8DNnCkTvJPWaZXq","/ip4/172.18.172.80/tcp/64479/ws/p2p/16Uiu2HAmBsgE8UjhunMn31HMA8AU44HZ62H7D8DNnCkTvJPWaZXq"],"enrUri":"enr:-L24QMy3c1DCOa0_UJMxlZ5LtssUaoyJlUaO4c6m9eB7Z5x2Rs9K5giTlbFc7QCdm3yODrVS9cqOhZ1H7Ja_fz7Z1jQCgmlkgnY0gmlwhKwSrFCKbXVsdGlhZGRyc5YACASsEqxQBvveAAoErBKsUAb7390DgnJzhQADAQAAiXNlY3AyNTZrMaEC9GRfEDJYI8CwPgGm_WhNfYyWwbEY_I9E60qxJ4ZQc_SDdGNwgvveg3VkcIL74IV3YWt1MgM"}'
2026-02-13 04:40:23.698 INFO [src.node.waku_node] REST service is ready !!
2026-02-13 04:40:23.698 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:64477/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.151.48/tcp/59021/p2p/16Uiu2HAmU1tb7nhgRyF3mMDTWbub5Rre9f9Veyp5v562DPGcm1ZR"]'
2026-02-13 04:40:23.701 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-13 04:40:23.701 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:59020/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-13 04:40:23.704 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-13 04:40:23.704 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:64477/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-13 04:40:23.706 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-13 04:40:23.707 DEBUG [src.steps.store] Relaying message
2026-02-13 04:40:23.708 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:59020/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8w", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-13 04:40:23.714 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-13 04:40:23.714 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-13 04:40:23.915 DEBUG [src.steps.store] Relaying message
2026-02-13 04:40:23.915 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:59020/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8x", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-13 04:40:23.920 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-13 04:40:23.921 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-13 04:40:24.122 DEBUG [src.steps.store] Relaying message
2026-02-13 04:40:24.122 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:59020/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8y", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-13 04:40:24.128 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-13 04:40:24.128 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-13 04:40:24.329 DEBUG [src.steps.store] Relaying message
2026-02-13 04:40:24.329 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:59020/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8z", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-13 04:40:24.335 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-13 04:40:24.336 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-13 04:40:24.536 DEBUG [src.steps.store] Relaying message
2026-02-13 04:40:24.537 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:59020/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV80", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-13 04:40:24.542 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-13 04:40:24.543 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-13 04:40:24.743 DEBUG [src.steps.store] Relaying message
2026-02-13 04:40:24.744 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:59020/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV81", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-13 04:40:24.750 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-13 04:40:24.750 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-13 04:40:24.951 DEBUG [src.steps.store] Relaying message
2026-02-13 04:40:24.951 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:59020/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV82", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-13 04:40:24.958 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-13 04:40:24.958 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-13 04:40:25.159 DEBUG [src.steps.store] Relaying message
2026-02-13 04:40:25.159 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:59020/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV83", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-13 04:40:25.165 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-13 04:40:25.165 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-13 04:40:25.366 DEBUG [src.steps.store] Relaying message
2026-02-13 04:40:25.366 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:59020/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV84", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-13 04:40:25.372 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-13 04:40:25.372 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-13 04:40:25.573 DEBUG [src.steps.store] Relaying message
2026-02-13 04:40:25.573 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:59020/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV85", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-13 04:40:25.580 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-13 04:40:25.581 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-13 04:40:25.782 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:59020/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=5&ascending=true" -H "Content-Type: application/json" -d 'None'
2026-02-13 04:40:25.786 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xbafee02e20d699362617750e225d922e8e742da3bf7677665e81e49ba64daf64"},{"messageHash":"0x212136495557eb41831c429506711c1165c2380e53bf0862015c71c3e137a540"},{"messageHash":"0xc091c9862110678c2b4cfe7014fa1ad68f22070f146e9fcd0449dce98a3b67cb"},{"messageHash":"0x8af8ee20801b4e419e1fe1a48bc5d6239af178e80a956f940b3b7174b373787f"},{"messageHash":"0x122e5f12143472a7a705fa78d390f622355df26c95d5ada69b9b23a710c89fea"}],"paginationCursor":"0x122e5f12143472a7a705fa78d390f622355df26c95d5ada69b9b23a710c89fea"}'
2026-02-13 04:40:25.786 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64477/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=5&ascending=true" -H "Content-Type: application/json" -d 'None'
2026-02-13 04:40:25.789 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xbafee02e20d699362617750e225d922e8e742da3bf7677665e81e49ba64daf64"},{"messageHash":"0x212136495557eb41831c429506711c1165c2380e53bf0862015c71c3e137a540"},{"messageHash":"0xc091c9862110678c2b4cfe7014fa1ad68f22070f146e9fcd0449dce98a3b67cb"},{"messageHash":"0x8af8ee20801b4e419e1fe1a48bc5d6239af178e80a956f940b3b7174b373787f"},{"messageHash":"0x122e5f12143472a7a705fa78d390f622355df26c95d5ada69b9b23a710c89fea"}],"paginationCursor":"0x122e5f12143472a7a705fa78d390f622355df26c95d5ada69b9b23a710c89fea"}'
2026-02-13 04:40:25.791 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-02-13 04:40:25.792 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-02-13 04:40:25.792 DEBUG [src.node.waku_node] Stopping container with id 73a1a061345e
2026-02-13 04:40:26.065 DEBUG [src.node.waku_node] Container stopped.
2026-02-13 04:40:26.067 DEBUG [src.node.waku_node] Stopping container with id 21ae49ba9168
2026-02-13 04:40:26.321 DEBUG [src.node.waku_node] Container stopped.
2026-02-13 04:40:26.322 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-02-13 04:40:26.336 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-13 04:40:26.343 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
