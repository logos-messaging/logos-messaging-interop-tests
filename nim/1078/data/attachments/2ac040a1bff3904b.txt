2026-02-13 04:39:14.852 DEBUG [tests.conftest] Running fixture setup: test_id
2026-02-13 04:39:14.852 DEBUG [tests.conftest] Running test: test_relay_subscribe_with_empty_pubsub_topic_list with id: 2026-02-13_04-39-14__0bcb4c98-5e5f-4bd7-a1e1-55d4eb575d41
2026-02-13 04:39:14.853 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-02-13 04:39:14.853 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2026-02-13 04:39:14.854 DEBUG [src.steps.relay] Running fixture setup: setup_main_relay_nodes
2026-02-13 04:39:14.863 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-13 04:39:14.863 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2026-02-13_04-39-14__0bcb4c98-5e5f-4bd7-a1e1-55d4eb575d41__wakuorg_nwaku:latest.log
2026-02-13 04:39:14.863 DEBUG [src.node.waku_node] Starting Node...
2026-02-13 04:39:14.864 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-13 04:39:14.865 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-13 04:39:14.865 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.201.195
2026-02-13 04:39:14.865 DEBUG [src.node.docker_mananger] Generated ports ['24381', '24382', '24383', '24384', '24385']
2026-02-13 04:39:14.865 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-13 04:39:14.865 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-13 04:39:14.866 DEBUG [src.node.waku_node] Using volumes []
2026-02-13 04:39:14.866 DEBUG [src.node.docker_mananger] docker run -i -t -p 24381:24381 -p 24382:24382 -p 24383:24383 -p 24384:24384 -p 24385:24385 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=24383 --rest-port=24381 --tcp-port=24382 --discv5-udp-port=24384 --rest-address=0.0.0.0 --nat=extip:172.18.201.195 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=abba1ffa01a23c6f98a02c90174d9ab740bbc8f494ee5cbb1eaa2eeea452aad4 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=24385 --metrics-logging=true --relay=true
2026-02-13 04:39:15.076 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.201.195 waku a4757d829f07b7c6d0f186afd56c28ff3d76c869a164e954be286bb525e4485d
2026-02-13 04:39:15.126 DEBUG [src.node.docker_mananger] Container started with ID a4757d829f07. Setting up logs at ./log/docker/node1_2026-02-13_04-39-14__0bcb4c98-5e5f-4bd7-a1e1-55d4eb575d41__wakuorg_nwaku:latest.log
2026-02-13 04:39:15.126 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 24381
2026-02-13 04:39:15.127 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-13 04:39:15.359 ERROR [src.node.docker_mananger] Max retries reached for container d469e91d5d67. Exiting log stream.
2026-02-13 04:39:15.674 ERROR [src.node.docker_mananger] Max retries reached for container dbe12a10d1dd. Exiting log stream.
2026-02-13 04:39:16.128 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:24381/health" -H "Content-Type: application/json" -d 'None'
2026-02-13 04:39:16.131 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-13 04:39:16.131 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-13 04:39:16.131 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:24381/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-13 04:39:16.133 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.201.195/tcp/24382/p2p/16Uiu2HAmM7EGxHF6QT4juxNZNA7VjxvF4D6QK5FEHE4d6DW8mB47","/ip4/172.18.201.195/tcp/24383/ws/p2p/16Uiu2HAmM7EGxHF6QT4juxNZNA7VjxvF4D6QK5FEHE4d6DW8mB47"],"enrUri":"enr:-L24QA-Jnit3R-RnBD5jbKHwnUJx-QcKAZgCo6te2LMeiWk7C91NBYCC0HrWgcVROPWCSJMsMiM4X2l8pXSHeruYtEgCgmlkgnY0gmlwhKwSycOKbXVsdGlhZGRyc5YACASsEsnDBl8-AAoErBLJwwZfP90DgnJzhQADAQAAiXNlY3AyNTZrMaEDfZZXfiAEvk0qcFZzefb_dzMk84AJkWB1F188vmGx5wyDdGNwgl8-g3VkcIJfQIV3YWt1MgE"}'
2026-02-13 04:39:16.134 INFO [src.node.waku_node] REST service is ready !!
2026-02-13 04:39:16.141 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-13 04:39:16.141 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2026-02-13_04-39-14__0bcb4c98-5e5f-4bd7-a1e1-55d4eb575d41__wakuorg_nwaku:latest.log
2026-02-13 04:39:16.141 DEBUG [src.node.waku_node] Starting Node...
2026-02-13 04:39:16.141 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-13 04:39:16.143 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-13 04:39:16.143 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.50.105
2026-02-13 04:39:16.143 DEBUG [src.node.docker_mananger] Generated ports ['27580', '27581', '27582', '27583', '27584']
2026-02-13 04:39:16.143 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-13 04:39:16.143 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-13 04:39:16.143 DEBUG [src.node.waku_node] Using volumes []
2026-02-13 04:39:16.143 DEBUG [src.node.docker_mananger] docker run -i -t -p 27580:27580 -p 27581:27581 -p 27582:27582 -p 27583:27583 -p 27584:27584 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=27582 --rest-port=27580 --tcp-port=27581 --discv5-udp-port=27583 --rest-address=0.0.0.0 --nat=extip:172.18.50.105 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=3deede7007e68b38ec341bfe76ebeeb5bc362bbff01cb7bcddf45edf53e4298a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=27584 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QA-Jnit3R-RnBD5jbKHwnUJx-QcKAZgCo6te2LMeiWk7C91NBYCC0HrWgcVROPWCSJMsMiM4X2l8pXSHeruYtEgCgmlkgnY0gmlwhKwSycOKbXVsdGlhZGRyc5YACASsEsnDBl8-AAoErBLJwwZfP90DgnJzhQADAQAAiXNlY3AyNTZrMaEDfZZXfiAEvk0qcFZzefb_dzMk84AJkWB1F188vmGx5wyDdGNwgl8-g3VkcIJfQIV3YWt1MgE
2026-02-13 04:39:16.350 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.50.105 waku a80459a67860626e347392c9ae6e91670e271626d5a258b72fc571d7fc6450ac
2026-02-13 04:39:16.396 DEBUG [src.node.docker_mananger] Container started with ID a80459a67860. Setting up logs at ./log/docker/node2_2026-02-13_04-39-14__0bcb4c98-5e5f-4bd7-a1e1-55d4eb575d41__wakuorg_nwaku:latest.log
2026-02-13 04:39:16.397 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 27580
2026-02-13 04:39:16.397 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-13 04:39:17.398 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27580/health" -H "Content-Type: application/json" -d 'None'
2026-02-13 04:39:17.402 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"READY"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-13 04:39:17.403 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-13 04:39:17.403 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27580/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-13 04:39:17.405 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.50.105/tcp/27581/p2p/16Uiu2HAmFhH3vD7TM5bj6pcfghYYyyqtzMpGsoeDJGtSRqL2BqVE","/ip4/172.18.50.105/tcp/27582/ws/p2p/16Uiu2HAmFhH3vD7TM5bj6pcfghYYyyqtzMpGsoeDJGtSRqL2BqVE"],"enrUri":"enr:-L24QGBhSE11ZjeqeZYjzaixOeym14RGbP8G2BwN8bhEiXjpNbKn9vJgm5ZKjBiJJtthooQ_0bB97FwiyibM-JAezr0CgmlkgnY0gmlwhKwSMmmKbXVsdGlhZGRyc5YACASsEjJpBmu9AAoErBIyaQZrvt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDLSkbDyPb_unpkqskCWzSZ4u1w17kMuKfVAcfegixvaWDdGNwgmu9g3VkcIJrv4V3YWt1MgE"}'
2026-02-13 04:39:17.405 INFO [src.node.waku_node] REST service is ready !!
2026-02-13 04:39:17.406 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27580/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.201.195/tcp/24382/p2p/16Uiu2HAmM7EGxHF6QT4juxNZNA7VjxvF4D6QK5FEHE4d6DW8mB47"]'
2026-02-13 04:39:17.408 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-13 04:39:17.409 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:24381/relay/v1/subscriptions" -H "Content-Type: application/json" -d '[]'
2026-02-13 04:39:17.412 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-13 04:39:17.412 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27580/relay/v1/subscriptions" -H "Content-Type: application/json" -d '[]'
2026-02-13 04:39:17.414 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-13 04:39:17.416 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-02-13 04:39:17.417 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-02-13 04:39:17.417 DEBUG [src.node.waku_node] Stopping container with id a4757d829f07
2026-02-13 04:39:17.680 DEBUG [src.node.waku_node] Container stopped.
2026-02-13 04:39:17.680 DEBUG [src.node.waku_node] Stopping container with id a80459a67860
2026-02-13 04:39:17.934 DEBUG [src.node.waku_node] Container stopped.
2026-02-13 04:39:17.935 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-02-13 04:39:17.945 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-13 04:39:17.951 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
