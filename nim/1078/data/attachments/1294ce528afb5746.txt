2026-02-13 04:39:24.215 DEBUG [tests.conftest] Running fixture setup: test_id
2026-02-13 04:39:24.216 DEBUG [tests.conftest] Running test: test_unsubscribe_from_some_content_topics[content_topic_list1] with id: 2026-02-13_04-39-24__5bd19178-50d7-4341-97fd-feb683436140
2026-02-13 04:39:24.217 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-02-13 04:39:24.218 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2026-02-13 04:39:24.218 DEBUG [src.steps.sharding] Running fixture setup: sharding_setup
2026-02-13 04:39:24.227 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-13 04:39:24.228 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2026-02-13_04-39-24__5bd19178-50d7-4341-97fd-feb683436140__wakuorg_nwaku:latest.log
2026-02-13 04:39:24.228 DEBUG [src.node.waku_node] Starting Node...
2026-02-13 04:39:24.228 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-13 04:39:24.229 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-13 04:39:24.229 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.231.91
2026-02-13 04:39:24.229 DEBUG [src.node.docker_mananger] Generated ports ['10491', '10492', '10493', '10494', '10495']
2026-02-13 04:39:24.229 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-13 04:39:24.229 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-13 04:39:24.230 DEBUG [src.node.waku_node] Using volumes []
2026-02-13 04:39:24.230 DEBUG [src.node.docker_mananger] docker run -i -t -p 10491:10491 -p 10492:10492 -p 10493:10493 -p 10494:10494 -p 10495:10495 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=10493 --rest-port=10491 --tcp-port=10492 --discv5-udp-port=10494 --rest-address=0.0.0.0 --nat=extip:172.18.231.91 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=7bc32ec3561e02906b2bce0f5fff538d19ddb2d97f75dbf39cdc8ca1cfcc7df3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=10495 --metrics-logging=true --relay=true --filter=true --content-topic=/myapp/1/latest/proto --num-shards-in-network=8
2026-02-13 04:39:24.433 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.231.91 waku 45d5767be3c789fda9c7452dd045fea67ba710c2512033f1759b952e72ddb8ad
2026-02-13 04:39:24.488 DEBUG [src.node.docker_mananger] Container started with ID 45d5767be3c7. Setting up logs at ./log/docker/node1_2026-02-13_04-39-24__5bd19178-50d7-4341-97fd-feb683436140__wakuorg_nwaku:latest.log
2026-02-13 04:39:24.488 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 10491
2026-02-13 04:39:24.489 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-13 04:39:24.743 ERROR [src.node.docker_mananger] Max retries reached for container 5de2bd9cc2f6. Exiting log stream.
2026-02-13 04:39:25.038 ERROR [src.node.docker_mananger] Max retries reached for container 916097d6f893. Exiting log stream.
2026-02-13 04:39:25.489 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10491/health" -H "Content-Type: application/json" -d 'None'
2026-02-13 04:39:25.492 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_READY","desc":"Relay is not ready, filter will not be able to sort out messages"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-13 04:39:25.493 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-13 04:39:25.493 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10491/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-13 04:39:25.495 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.231.91/tcp/10492/p2p/16Uiu2HAmAmMkSZJooFnA3obM6JUitUAKkEvjW94cMb85G68MpTNt","/ip4/172.18.231.91/tcp/10493/ws/p2p/16Uiu2HAmAmMkSZJooFnA3obM6JUitUAKkEvjW94cMb85G68MpTNt"],"enrUri":"enr:-L24QOUWrM8Bja9LpYkmB9LO9Remo4Dpgjx7cPL05poQ1yvvBDQh9L-yHU_J06XHK9K62keuvd_fBvChdtnW7RfhtoUCgmlkgnY0gmlwhKwS51uKbXVsdGlhZGRyc5YACASsEudbBij8AAoErBLnWwYo_d0DgnJzhQACAQAAiXNlY3AyNTZrMaEC4-pOnxVMaXB6Mz7UTKNSaoReGFAr3cr538tjETKlU1WDdGNwgij8g3VkcIIo_oV3YWt1MgU"}'
2026-02-13 04:39:25.495 INFO [src.node.waku_node] REST service is ready !!
2026-02-13 04:39:25.502 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-13 04:39:25.502 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2026-02-13_04-39-24__5bd19178-50d7-4341-97fd-feb683436140__wakuorg_nwaku:latest.log
2026-02-13 04:39:25.502 DEBUG [src.node.waku_node] Starting Node...
2026-02-13 04:39:25.502 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-13 04:39:25.504 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-13 04:39:25.504 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.187.173
2026-02-13 04:39:25.504 DEBUG [src.node.docker_mananger] Generated ports ['44612', '44613', '44614', '44615', '44616']
2026-02-13 04:39:25.504 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-13 04:39:25.504 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-13 04:39:25.504 DEBUG [src.node.waku_node] Using volumes []
2026-02-13 04:39:25.504 DEBUG [src.node.docker_mananger] docker run -i -t -p 44612:44612 -p 44613:44613 -p 44614:44614 -p 44615:44615 -p 44616:44616 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=44614 --rest-port=44612 --tcp-port=44613 --discv5-udp-port=44615 --rest-address=0.0.0.0 --nat=extip:172.18.187.173 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=fa4f974b8630dfdc6bc866dccacfbd9f3bbab01e340575f22cce4a4ab45ed509 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=44616 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QOUWrM8Bja9LpYkmB9LO9Remo4Dpgjx7cPL05poQ1yvvBDQh9L-yHU_J06XHK9K62keuvd_fBvChdtnW7RfhtoUCgmlkgnY0gmlwhKwS51uKbXVsdGlhZGRyc5YACASsEudbBij8AAoErBLnWwYo_d0DgnJzhQACAQAAiXNlY3AyNTZrMaEC4-pOnxVMaXB6Mz7UTKNSaoReGFAr3cr538tjETKlU1WDdGNwgij8g3VkcIIo_oV3YWt1MgU --content-topic=/myapp/1/latest/proto --num-shards-in-network=8
2026-02-13 04:39:25.714 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.187.173 waku 24f5081fb40b2fd5ae7331d72a22dce2c0018ff4519d88abdb08f4cbba9f73d0
2026-02-13 04:39:25.765 DEBUG [src.node.docker_mananger] Container started with ID 24f5081fb40b. Setting up logs at ./log/docker/node2_2026-02-13_04-39-24__5bd19178-50d7-4341-97fd-feb683436140__wakuorg_nwaku:latest.log
2026-02-13 04:39:25.765 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 44612
2026-02-13 04:39:25.765 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-13 04:39:26.766 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44612/health" -H "Content-Type: application/json" -d 'None'
2026-02-13 04:39:26.774 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"READY"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"READY"}]}'
2026-02-13 04:39:26.775 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-13 04:39:26.775 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44612/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-13 04:39:26.777 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.187.173/tcp/44613/p2p/16Uiu2HAm9LCeYk3ZA4SZM5CtjsqrpC7H4x6HYTgfvUmoi8YHDWpr","/ip4/172.18.187.173/tcp/44614/ws/p2p/16Uiu2HAm9LCeYk3ZA4SZM5CtjsqrpC7H4x6HYTgfvUmoi8YHDWpr"],"enrUri":"enr:-L24QC6pLk6NNr0XR96Gb8gifh8v-n_7aapdRN6YbDRfmD3KbgerbxYXpIhsQkc454NgUM8soxnkJn4ZhsMgvux8Z_UCgmlkgnY0gmlwhKwSu62KbXVsdGlhZGRyc5YACASsErutBq5FAAoErBK7rQauRt0DgnJzhQACAQAAiXNlY3AyNTZrMaECzpzPCYJBKzoV30bXYRaUpUvcCOQksKNeqgyrgWw3JWuDdGNwgq5Fg3VkcIKuR4V3YWt1MgE"}'
2026-02-13 04:39:26.777 INFO [src.node.waku_node] REST service is ready !!
2026-02-13 04:39:26.778 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:44612/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.231.91/tcp/10492/p2p/16Uiu2HAmAmMkSZJooFnA3obM6JUitUAKkEvjW94cMb85G68MpTNt"]'
2026-02-13 04:39:26.780 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-13 04:39:26.781 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:10491/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2026-02-13 04:39:26.789 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-13 04:39:26.789 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:44612/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2026-02-13 04:39:26.803 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-13 04:39:26.804 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:10491/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-13 04:39:26.814 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-13 04:39:26.814 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-13 04:39:26.917 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-13 04:39:26.917 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10491/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2026-02-13 04:39:26.920 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770957566804214620,"ephemeral":false,"proof":""}]'
2026-02-13 04:39:26.922 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-13 04:39:26.922 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44612/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2026-02-13 04:39:26.925 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770957566804214620,"ephemeral":false,"proof":""}]'
2026-02-13 04:39:26.926 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:10491/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2026-02-13 04:39:26.930 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-13 04:39:26.931 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-13 04:39:27.031 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-13 04:39:27.031 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10491/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2026-02-13 04:39:27.034 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/waku/2/content/test.js","version":0,"timestamp":1770957566926685863,"ephemeral":false,"proof":""}]'
2026-02-13 04:39:27.036 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-13 04:39:27.036 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44612/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2026-02-13 04:39:27.038 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/waku/2/content/test.js","version":0,"timestamp":1770957566926685863,"ephemeral":false,"proof":""}]'
2026-02-13 04:39:27.040 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:10491/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-02-13 04:39:27.044 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-13 04:39:27.044 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-13 04:39:27.145 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-13 04:39:27.145 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10491/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-02-13 04:39:27.148 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/22/sometopic/someencoding","version":0,"timestamp":1770957567040189244,"ephemeral":false,"proof":""}]'
2026-02-13 04:39:27.150 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-13 04:39:27.150 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44612/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-02-13 04:39:27.152 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/22/sometopic/someencoding","version":0,"timestamp":1770957567040189244,"ephemeral":false,"proof":""}]'
2026-02-13 04:39:27.154 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:10491/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2026-02-13 04:39:27.159 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-13 04:39:27.159 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-13 04:39:27.260 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-13 04:39:27.261 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10491/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2026-02-13 04:39:27.264 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1770957567154511687,"ephemeral":false,"proof":""}]'
2026-02-13 04:39:27.265 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-13 04:39:27.265 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44612/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2026-02-13 04:39:27.268 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1770957567154511687,"ephemeral":false,"proof":""}]'
2026-02-13 04:39:27.269 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:10491/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2026-02-13 04:39:27.273 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-13 04:39:27.273 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-13 04:39:27.374 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-13 04:39:27.374 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10491/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2026-02-13 04:39:27.377 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1770957567269585709,"ephemeral":false,"proof":""}]'
2026-02-13 04:39:27.379 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-13 04:39:27.379 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44612/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2026-02-13 04:39:27.382 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1770957567269585709,"ephemeral":false,"proof":""}]'
2026-02-13 04:39:27.383 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:10491/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-02-13 04:39:27.387 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-13 04:39:27.387 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-13 04:39:27.488 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-13 04:39:27.488 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10491/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-02-13 04:39:27.491 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1770957567383568185,"ephemeral":false,"proof":""}]'
2026-02-13 04:39:27.492 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-13 04:39:27.493 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44612/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-02-13 04:39:27.495 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1770957567383568185,"ephemeral":false,"proof":""}]'
2026-02-13 04:39:27.497 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:10491/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-02-13 04:39:27.501 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-13 04:39:27.502 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-13 04:39:27.602 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-13 04:39:27.603 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10491/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-02-13 04:39:27.605 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1770957567496962257,"ephemeral":false,"proof":""}]'
2026-02-13 04:39:27.607 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-13 04:39:27.607 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44612/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-02-13 04:39:27.609 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1770957567496962257,"ephemeral":false,"proof":""}]'
2026-02-13 04:39:27.611 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:10491/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-02-13 04:39:27.617 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-13 04:39:27.618 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-13 04:39:27.718 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-13 04:39:27.719 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10491/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-02-13 04:39:27.721 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1770957567611499067,"ephemeral":false,"proof":""}]'
2026-02-13 04:39:27.723 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-13 04:39:27.723 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44612/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-02-13 04:39:27.728 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1770957567611499067,"ephemeral":false,"proof":""}]'
2026-02-13 04:39:27.730 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:10491/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding"]'
2026-02-13 04:39:27.736 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-13 04:39:27.737 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:44612/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding"]'
2026-02-13 04:39:27.745 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-13 04:39:27.745 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:10491/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-13 04:39:27.749 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-13 04:39:27.749 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-13 04:39:27.850 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-13 04:39:27.850 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10491/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2026-02-13 04:39:27.853 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:10491/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto. Response content: b'/myapp/1/latest/proto'
2026-02-13 04:39:27.855 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:10491/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2026-02-13 04:39:27.878 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-13 04:39:27.878 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-13 04:39:27.978 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-13 04:39:27.979 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10491/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2026-02-13 04:39:27.981 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:10491/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js. Response content: b'/waku/2/content/test.js'
2026-02-13 04:39:27.983 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:10491/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-02-13 04:39:27.986 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-13 04:39:27.986 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-13 04:39:28.086 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-13 04:39:28.087 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10491/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-02-13 04:39:28.090 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:10491/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding. Response content: b'/app/22/sometopic/someencoding'
2026-02-13 04:39:28.091 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:10491/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2026-02-13 04:39:28.096 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-13 04:39:28.097 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-13 04:39:28.197 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-13 04:39:28.198 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10491/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2026-02-13 04:39:28.201 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1770957568091471023,"ephemeral":false,"proof":""}]'
2026-02-13 04:39:28.202 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-13 04:39:28.202 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44612/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2026-02-13 04:39:28.205 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1770957568091471023,"ephemeral":false,"proof":""}]'
2026-02-13 04:39:28.206 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:10491/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2026-02-13 04:39:28.210 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-13 04:39:28.211 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-13 04:39:28.311 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-13 04:39:28.312 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10491/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2026-02-13 04:39:28.315 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1770957568206518626,"ephemeral":false,"proof":""}]'
2026-02-13 04:39:28.316 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-13 04:39:28.316 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44612/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2026-02-13 04:39:28.319 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1770957568206518626,"ephemeral":false,"proof":""}]'
2026-02-13 04:39:28.320 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:10491/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-02-13 04:39:28.325 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-13 04:39:28.325 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-13 04:39:28.426 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-13 04:39:28.426 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10491/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-02-13 04:39:28.429 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1770957568320414169,"ephemeral":false,"proof":""}]'
2026-02-13 04:39:28.431 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-13 04:39:28.431 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44612/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-02-13 04:39:28.433 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1770957568320414169,"ephemeral":false,"proof":""}]'
2026-02-13 04:39:28.435 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:10491/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-02-13 04:39:28.439 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-13 04:39:28.439 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-13 04:39:28.540 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-13 04:39:28.540 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10491/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-02-13 04:39:28.543 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1770957568435246454,"ephemeral":false,"proof":""}]'
2026-02-13 04:39:28.545 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-13 04:39:28.545 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44612/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-02-13 04:39:28.547 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1770957568435246454,"ephemeral":false,"proof":""}]'
2026-02-13 04:39:28.549 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:10491/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-02-13 04:39:28.553 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-13 04:39:28.553 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-13 04:39:28.654 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-13 04:39:28.655 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10491/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-02-13 04:39:28.657 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1770957568549421860,"ephemeral":false,"proof":""}]'
2026-02-13 04:39:28.659 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-13 04:39:28.659 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44612/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-02-13 04:39:28.661 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1770957568549421860,"ephemeral":false,"proof":""}]'
2026-02-13 04:39:28.664 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-02-13 04:39:28.665 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-02-13 04:39:28.666 DEBUG [src.node.waku_node] Stopping container with id 45d5767be3c7
2026-02-13 04:39:28.939 DEBUG [src.node.waku_node] Container stopped.
2026-02-13 04:39:28.940 DEBUG [src.node.waku_node] Stopping container with id 24f5081fb40b
2026-02-13 04:39:29.208 DEBUG [src.node.waku_node] Container stopped.
2026-02-13 04:39:29.209 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-02-13 04:39:29.234 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-13 04:39:29.246 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
