2026-02-13 04:39:07.161 DEBUG [tests.conftest] Running fixture setup: test_id
2026-02-13 04:39:07.162 DEBUG [tests.conftest] Running test: test_invalid_page_size with id: 2026-02-13_04-39-07__148bd890-4710-472c-a4fc-6a17d93a9490
2026-02-13 04:39:07.162 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-02-13 04:39:07.163 DEBUG [src.steps.store] Running fixture setup: store_setup
2026-02-13 04:39:07.163 DEBUG [src.steps.store] Running fixture setup: node_setup
2026-02-13 04:39:07.172 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-13 04:39:07.173 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/publishing_node1_2026-02-13_04-39-07__148bd890-4710-472c-a4fc-6a17d93a9490__wakuorg_nwaku:latest.log
2026-02-13 04:39:07.173 DEBUG [src.node.waku_node] Starting Node...
2026-02-13 04:39:07.173 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-13 04:39:07.175 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-13 04:39:07.176 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.95.114
2026-02-13 04:39:07.177 DEBUG [src.node.docker_mananger] Generated ports ['4112', '4113', '4114', '4115', '4116']
2026-02-13 04:39:07.178 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-13 04:39:07.178 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-13 04:39:07.179 DEBUG [src.node.waku_node] Using volumes []
2026-02-13 04:39:07.179 DEBUG [src.node.docker_mananger] docker run -i -t -p 4112:4112 -p 4113:4113 -p 4114:4114 -p 4115:4115 -p 4116:4116 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=4114 --rest-port=4112 --tcp-port=4113 --discv5-udp-port=4115 --rest-address=0.0.0.0 --nat=extip:172.18.95.114 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=9a2b879c5f8c1baaaf9cce3ee2c8dfc33e97cbe1672b6e9edfba3f4baca40dad --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=4116 --metrics-logging=true --store=true --relay=true
2026-02-13 04:39:07.379 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.95.114 waku 856f6cf0562d62b9fa4bbe2f1a68018ec12932619d7f677464d17bbebd97d1fe
2026-02-13 04:39:07.435 DEBUG [src.node.docker_mananger] Container started with ID 856f6cf0562d. Setting up logs at ./log/docker/publishing_node1_2026-02-13_04-39-07__148bd890-4710-472c-a4fc-6a17d93a9490__wakuorg_nwaku:latest.log
2026-02-13 04:39:07.435 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 4112
2026-02-13 04:39:07.436 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-13 04:39:07.701 ERROR [src.node.docker_mananger] Max retries reached for container 9353de789455. Exiting log stream.
2026-02-13 04:39:07.999 ERROR [src.node.docker_mananger] Max retries reached for container bb3261bfbd92. Exiting log stream.
2026-02-13 04:39:08.436 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:4112/health" -H "Content-Type: application/json" -d 'None'
2026-02-13 04:39:08.439 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"READY"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"READY"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-13 04:39:08.440 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-13 04:39:08.440 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:4112/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-13 04:39:08.442 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.95.114/tcp/4113/p2p/16Uiu2HAm9tSsFBggrJjC2TY8P5PdrpqjuVNL8aKfYfgsnwU4qseB","/ip4/172.18.95.114/tcp/4114/ws/p2p/16Uiu2HAm9tSsFBggrJjC2TY8P5PdrpqjuVNL8aKfYfgsnwU4qseB"],"enrUri":"enr:-L24QLmOHtT7YL3l694roXRG4RGljRyD6xX1q8cv-H5LvQr9YT5nvHipM0pBoz-_TTlHXRZvwTu4R2LzwjHrwtA6WVUCgmlkgnY0gmlwhKwSX3KKbXVsdGlhZGRyc5YACASsEl9yBhARAAoErBJfcgYQEt0DgnJzhQADAQAAiXNlY3AyNTZrMaEC1t941cK2uDCHrJ0qKXvMl9aM8Cr4EaQevwYn_AbI0gSDdGNwghARg3VkcIIQE4V3YWt1MgM"}'
2026-02-13 04:39:08.442 INFO [src.node.waku_node] REST service is ready !!
2026-02-13 04:39:08.449 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-13 04:39:08.450 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/store_node1_2026-02-13_04-39-07__148bd890-4710-472c-a4fc-6a17d93a9490__wakuorg_nwaku:latest.log
2026-02-13 04:39:08.450 DEBUG [src.node.waku_node] Starting Node...
2026-02-13 04:39:08.450 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-13 04:39:08.451 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-13 04:39:08.452 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.222.27
2026-02-13 04:39:08.452 DEBUG [src.node.docker_mananger] Generated ports ['65466', '65467', '65468', '65469', '65470']
2026-02-13 04:39:08.452 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-13 04:39:08.452 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-13 04:39:08.452 DEBUG [src.node.waku_node] Using volumes []
2026-02-13 04:39:08.452 DEBUG [src.node.docker_mananger] docker run -i -t -p 65466:65466 -p 65467:65467 -p 65468:65468 -p 65469:65469 -p 65470:65470 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=65468 --rest-port=65466 --tcp-port=65467 --discv5-udp-port=65469 --rest-address=0.0.0.0 --nat=extip:172.18.222.27 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fdaf8acab5e1f6967fcbafe95e9fb21c9c2222daae2d5dcf9ab1cddb2ffd5c3c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=65470 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QLmOHtT7YL3l694roXRG4RGljRyD6xX1q8cv-H5LvQr9YT5nvHipM0pBoz-_TTlHXRZvwTu4R2LzwjHrwtA6WVUCgmlkgnY0gmlwhKwSX3KKbXVsdGlhZGRyc5YACASsEl9yBhARAAoErBJfcgYQEt0DgnJzhQADAQAAiXNlY3AyNTZrMaEC1t941cK2uDCHrJ0qKXvMl9aM8Cr4EaQevwYn_AbI0gSDdGNwghARg3VkcIIQE4V3YWt1MgM --storenode=/ip4/172.18.95.114/tcp/4113/p2p/16Uiu2HAm9tSsFBggrJjC2TY8P5PdrpqjuVNL8aKfYfgsnwU4qseB --store=true --relay=true
2026-02-13 04:39:08.651 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.222.27 waku ed777f79d86db983c212694f5aaac89f5119df29163c53629b739f1238621899
2026-02-13 04:39:08.706 DEBUG [src.node.docker_mananger] Container started with ID ed777f79d86d. Setting up logs at ./log/docker/store_node1_2026-02-13_04-39-07__148bd890-4710-472c-a4fc-6a17d93a9490__wakuorg_nwaku:latest.log
2026-02-13 04:39:08.706 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 65466
2026-02-13 04:39:08.706 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-13 04:39:09.708 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:65466/health" -H "Content-Type: application/json" -d 'None'
2026-02-13 04:39:09.712 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"READY"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"READY"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"READY"},{"Legacy Store Client":"READY"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-13 04:39:09.712 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-13 04:39:09.712 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:65466/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-13 04:39:09.715 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.222.27/tcp/65467/p2p/16Uiu2HAmLnedRiV8ozS6R2HLm2qvj7jQYqLKcE39MDpbPRKL6d8S","/ip4/172.18.222.27/tcp/65468/ws/p2p/16Uiu2HAmLnedRiV8ozS6R2HLm2qvj7jQYqLKcE39MDpbPRKL6d8S"],"enrUri":"enr:-L24QAzI4tFyXoC04HR2hno0NJmk8DzYrceibfTCpnFgfwiJRsGPrw6SgZD7sF_1HK4vq7YNDchzYjGrzkhyQpwtF3UCgmlkgnY0gmlwhKwS3huKbXVsdGlhZGRyc5YACASsEt4bBv-7AAoErBLeGwb_vN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDeNPXp6I8A6wUVqEx2-pevlBtIQbW2zGdZcFfkDWMr_eDdGNwgv-7g3VkcIL_vYV3YWt1MgM"}'
2026-02-13 04:39:09.715 INFO [src.node.waku_node] REST service is ready !!
2026-02-13 04:39:09.715 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:65466/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.95.114/tcp/4113/p2p/16Uiu2HAm9tSsFBggrJjC2TY8P5PdrpqjuVNL8aKfYfgsnwU4qseB"]'
2026-02-13 04:39:09.718 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-13 04:39:09.718 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4112/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-13 04:39:09.721 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-13 04:39:09.721 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:65466/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-13 04:39:09.723 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-13 04:39:09.724 DEBUG [src.steps.store] Relaying message
2026-02-13 04:39:09.724 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4112/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8w", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-13 04:39:09.729 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-13 04:39:09.729 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-13 04:39:09.930 DEBUG [src.steps.store] Relaying message
2026-02-13 04:39:09.930 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4112/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8x", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-13 04:39:09.936 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-13 04:39:09.937 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-13 04:39:10.138 DEBUG [src.steps.store] Relaying message
2026-02-13 04:39:10.138 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4112/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8y", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-13 04:39:10.144 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-13 04:39:10.144 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-13 04:39:10.345 DEBUG [src.steps.store] Relaying message
2026-02-13 04:39:10.345 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4112/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8z", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-13 04:39:10.351 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-13 04:39:10.352 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-13 04:39:10.552 DEBUG [src.steps.store] Relaying message
2026-02-13 04:39:10.553 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4112/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV80", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-13 04:39:10.559 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-13 04:39:10.559 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-13 04:39:10.760 DEBUG [src.steps.store] Relaying message
2026-02-13 04:39:10.760 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4112/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV81", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-13 04:39:10.767 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-13 04:39:10.767 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-13 04:39:10.968 DEBUG [src.steps.store] Relaying message
2026-02-13 04:39:10.968 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4112/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV82", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-13 04:39:10.973 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-13 04:39:10.974 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-13 04:39:11.175 DEBUG [src.steps.store] Relaying message
2026-02-13 04:39:11.175 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4112/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV83", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-13 04:39:11.181 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-13 04:39:11.182 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-13 04:39:11.383 DEBUG [src.steps.store] Relaying message
2026-02-13 04:39:11.383 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4112/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV84", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-13 04:39:11.389 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-13 04:39:11.389 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-13 04:39:11.590 DEBUG [src.steps.store] Relaying message
2026-02-13 04:39:11.590 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4112/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV85", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-13 04:39:11.596 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-13 04:39:11.596 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-13 04:39:11.797 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:4112/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=$2&ascending=true" -H "Content-Type: application/json" -d 'None'
2026-02-13 04:39:11.800 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:4112/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=$2&ascending=true. Response content: b'page size parsing error: invalid integer: $2'
2026-02-13 04:39:11.801 DEBUG [tests.store.test_page_size] the invalid page_size $2 wasn't accepted 
2026-02-13 04:39:11.801 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:65466/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=$2&ascending=true" -H "Content-Type: application/json" -d 'None'
2026-02-13 04:39:11.804 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:65466/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=$2&ascending=true. Response content: b'page size parsing error: invalid integer: $2'
2026-02-13 04:39:11.804 DEBUG [tests.store.test_page_size] the invalid page_size $2 wasn't accepted 
2026-02-13 04:39:11.806 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-02-13 04:39:11.807 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-02-13 04:39:11.807 DEBUG [src.node.waku_node] Stopping container with id 856f6cf0562d
2026-02-13 04:39:12.057 DEBUG [src.node.waku_node] Container stopped.
2026-02-13 04:39:12.059 DEBUG [src.node.waku_node] Stopping container with id ed777f79d86d
2026-02-13 04:39:12.322 DEBUG [src.node.waku_node] Container stopped.
2026-02-13 04:39:12.323 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-02-13 04:39:12.338 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-13 04:39:12.345 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
