2026-02-13 04:40:30.495 DEBUG [tests.conftest] Running fixture setup: test_id
2026-02-13 04:40:30.495 DEBUG [tests.conftest] Running test: test_filter_subscribe_with_no_content_topic with id: 2026-02-13_04-40-30__648d6b56-ec8f-43b2-84a8-4fdff18c4d68
2026-02-13 04:40:30.495 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-02-13 04:40:30.495 DEBUG [src.steps.filter] Running fixture setup: filter_setup
2026-02-13 04:40:30.495 DEBUG [src.steps.filter] Running fixture setup: setup_main_relay_node
2026-02-13 04:40:30.501 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-13 04:40:30.501 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2026-02-13_04-40-30__648d6b56-ec8f-43b2-84a8-4fdff18c4d68__wakuorg_nwaku:latest.log
2026-02-13 04:40:30.501 DEBUG [src.node.waku_node] Starting Node...
2026-02-13 04:40:30.501 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-13 04:40:30.503 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-13 04:40:30.503 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.100.221
2026-02-13 04:40:30.503 DEBUG [src.node.docker_mananger] Generated ports ['24548', '24549', '24550', '24551', '24552']
2026-02-13 04:40:30.503 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-13 04:40:30.503 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-13 04:40:30.503 DEBUG [src.node.waku_node] Using volumes []
2026-02-13 04:40:30.503 DEBUG [src.node.docker_mananger] docker run -i -t -p 24548:24548 -p 24549:24549 -p 24550:24550 -p 24551:24551 -p 24552:24552 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=24550 --rest-port=24548 --tcp-port=24549 --discv5-udp-port=24551 --rest-address=0.0.0.0 --nat=extip:172.18.100.221 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=263ba3eade4eba99ebdbb07ac6d8dbdef30c8edcdc3312e1ab9fa0efedc7aa47 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=24552 --metrics-logging=true --relay=true --filter=true
2026-02-13 04:40:30.655 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.100.221 waku 39eee64bf5456f85d0e12c2b4475cd13e28f8b20abb0146a3977ec86e18e3bbd
2026-02-13 04:40:30.691 DEBUG [src.node.docker_mananger] Container started with ID 39eee64bf545. Setting up logs at ./log/docker/node1_2026-02-13_04-40-30__648d6b56-ec8f-43b2-84a8-4fdff18c4d68__wakuorg_nwaku:latest.log
2026-02-13 04:40:30.691 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 24548
2026-02-13 04:40:30.692 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-13 04:40:31.091 ERROR [src.node.docker_mananger] Max retries reached for container c9d64a3828a5. Exiting log stream.
2026-02-13 04:40:31.293 ERROR [src.node.docker_mananger] Max retries reached for container 6f9839a77fef. Exiting log stream.
2026-02-13 04:40:31.693 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:24548/health" -H "Content-Type: application/json" -d 'None'
2026-02-13 04:40:31.696 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_READY","desc":"Relay is not ready, filter will not be able to sort out messages"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-13 04:40:31.696 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-13 04:40:31.696 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:24548/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-13 04:40:31.698 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.100.221/tcp/24549/p2p/16Uiu2HAm1BriVksnpMu3JyZbJqDwgcrPtBsDtBaU2DhVxGiDgofn","/ip4/172.18.100.221/tcp/24550/ws/p2p/16Uiu2HAm1BriVksnpMu3JyZbJqDwgcrPtBsDtBaU2DhVxGiDgofn"],"enrUri":"enr:-L24QPIkWXJ5BqrNMYPuuVunKDGa3u6a7W7_X-l-9owkelixLQMv7DSwUCR1MUStjETMCUki1Ssqv0BbM5pxfbZFjysCgmlkgnY0gmlwhKwSZN2KbXVsdGlhZGRyc5YACASsEmTdBl_lAAoErBJk3QZf5t0DgnJzhQADAQAAiXNlY3AyNTZrMaECVZwhN-ioDZWiVznFJ3KT0-mR2QFZsxu0E_NXKHY05_mDdGNwgl_lg3VkcIJf54V3YWt1MgU"}'
2026-02-13 04:40:31.698 INFO [src.node.waku_node] REST service is ready !!
2026-02-13 04:40:31.699 DEBUG [src.steps.filter] Running fixture setup: setup_main_filter_node
2026-02-13 04:40:31.704 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-13 04:40:31.705 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2026-02-13_04-40-30__648d6b56-ec8f-43b2-84a8-4fdff18c4d68__wakuorg_nwaku:latest.log
2026-02-13 04:40:31.705 DEBUG [src.node.waku_node] Starting Node...
2026-02-13 04:40:31.705 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-13 04:40:31.706 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-13 04:40:31.706 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.250.102
2026-02-13 04:40:31.706 DEBUG [src.node.docker_mananger] Generated ports ['30290', '30291', '30292', '30293', '30294']
2026-02-13 04:40:31.706 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-13 04:40:31.707 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-13 04:40:31.707 DEBUG [src.node.waku_node] Using volumes []
2026-02-13 04:40:31.707 DEBUG [src.node.docker_mananger] docker run -i -t -p 30290:30290 -p 30291:30291 -p 30292:30292 -p 30293:30293 -p 30294:30294 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=30292 --rest-port=30290 --tcp-port=30291 --discv5-udp-port=30293 --rest-address=0.0.0.0 --nat=extip:172.18.250.102 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=dedbc2da38dc349bafedbecee71c3e313defec81f7f6ddcff01abe2f0485af06 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=30294 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QPIkWXJ5BqrNMYPuuVunKDGa3u6a7W7_X-l-9owkelixLQMv7DSwUCR1MUStjETMCUki1Ssqv0BbM5pxfbZFjysCgmlkgnY0gmlwhKwSZN2KbXVsdGlhZGRyc5YACASsEmTdBl_lAAoErBJk3QZf5t0DgnJzhQADAQAAiXNlY3AyNTZrMaECVZwhN-ioDZWiVznFJ3KT0-mR2QFZsxu0E_NXKHY05_mDdGNwgl_lg3VkcIJf54V3YWt1MgU --filternode=/ip4/172.18.100.221/tcp/24549/p2p/16Uiu2HAm1BriVksnpMu3JyZbJqDwgcrPtBsDtBaU2DhVxGiDgofn
2026-02-13 04:40:31.864 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.250.102 waku 06ab9db18634f6a271c832e8c75fcfca4ac834636ebd9c365e1d39ce15a088af
2026-02-13 04:40:31.900 DEBUG [src.node.docker_mananger] Container started with ID 06ab9db18634. Setting up logs at ./log/docker/node2_2026-02-13_04-40-30__648d6b56-ec8f-43b2-84a8-4fdff18c4d68__wakuorg_nwaku:latest.log
2026-02-13 04:40:31.901 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 30290
2026-02-13 04:40:31.901 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-13 04:40:32.901 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30290/health" -H "Content-Type: application/json" -d 'None'
2026-02-13 04:40:32.905 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_MOUNTED"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"READY"}]}'
2026-02-13 04:40:32.905 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-13 04:40:32.905 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30290/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-13 04:40:32.907 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.250.102/tcp/30291/p2p/16Uiu2HAmMXE3bDJriRnrFkh93mgz6CMekHkrs1ntJcYyZi6oaLVr","/ip4/172.18.250.102/tcp/30292/ws/p2p/16Uiu2HAmMXE3bDJriRnrFkh93mgz6CMekHkrs1ntJcYyZi6oaLVr"],"enrUri":"enr:-L24QBv3l8y5hFo_J-LnFooWwrqUe1gDlHIB-P_USjYhELOmcrRJAZEVHUfAJnzkOJOCbLluEs4kzyLww6zwrDKjKRgCgmlkgnY0gmlwhKwS-maKbXVsdGlhZGRyc5YACASsEvpmBnZTAAoErBL6ZgZ2VN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDg7wFSrU1GJ88kn3i4CCUMCRcZ4xFDt9Tfin9j8QwNp2DdGNwgnZTg3VkcIJ2VYV3YWt1MgA"}'
2026-02-13 04:40:32.907 INFO [src.node.waku_node] REST service is ready !!
2026-02-13 04:40:32.908 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:30290/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.100.221/tcp/24549/p2p/16Uiu2HAm1BriVksnpMu3JyZbJqDwgcrPtBsDtBaU2DhVxGiDgofn"]'
2026-02-13 04:40:32.935 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-13 04:40:32.935 DEBUG [src.steps.filter] Running fixture setup: subscribe_main_nodes
2026-02-13 04:40:32.936 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:24548/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2026-02-13 04:40:32.947 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-13 04:40:32.949 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:30290/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "c97ddf7e-6bf5-47bd-b10b-38ca971e9e38", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
2026-02-13 04:40:32.960 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"c97ddf7e-6bf5-47bd-b10b-38ca971e9e38","statusDesc":"OK"}'
2026-02-13 04:40:32.961 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:30290/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "pubsubTopic": "/waku/2/rs/3/1"}'
2026-02-13 04:40:32.963 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:30290/filter/v2/subscriptions. Response content: b'{"requestId":"unknown","statusDesc":"BAD_REQUEST: Failed to decode request: (status: 400 Bad Request, headers: , kind: Error, errobj: (status: 400 Bad Request, message: \\"Invalid content body, could not decode. Unable to deserialize data: \\", contentType: \\"text/plain\\"))"}'
2026-02-13 04:40:32.965 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-02-13 04:40:32.966 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-02-13 04:40:32.966 DEBUG [src.node.waku_node] Stopping container with id 39eee64bf545
2026-02-13 04:40:33.173 DEBUG [src.node.waku_node] Container stopped.
2026-02-13 04:40:33.173 DEBUG [src.node.waku_node] Stopping container with id 06ab9db18634
2026-02-13 04:40:33.388 DEBUG [src.node.waku_node] Container stopped.
2026-02-13 04:40:33.390 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-02-13 04:40:33.399 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-13 04:40:33.403 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
