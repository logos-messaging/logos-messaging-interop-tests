2026-02-13 04:40:33.557 DEBUG [tests.conftest] Running fixture setup: test_id
2026-02-13 04:40:33.558 DEBUG [tests.conftest] Running test: test_light_push_with_missing_pubsub_topics with id: 2026-02-13_04-40-33__2e1c0c82-ff50-4fcb-826c-97c35a134738
2026-02-13 04:40:33.558 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-02-13 04:40:33.558 DEBUG [src.steps.light_push] Running fixture setup: light_push_setup
2026-02-13 04:40:33.567 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-13 04:40:33.567 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node1_2026-02-13_04-40-33__2e1c0c82-ff50-4fcb-826c-97c35a134738__wakuorg_nwaku:latest.log
2026-02-13 04:40:33.567 DEBUG [src.node.waku_node] Starting Node...
2026-02-13 04:40:33.568 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-13 04:40:33.569 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-13 04:40:33.569 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.245.67
2026-02-13 04:40:33.570 DEBUG [src.node.docker_mananger] Generated ports ['4164', '4165', '4166', '4167', '4168']
2026-02-13 04:40:33.570 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-13 04:40:33.570 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-13 04:40:33.570 DEBUG [src.node.waku_node] Using volumes []
2026-02-13 04:40:33.570 DEBUG [src.node.docker_mananger] docker run -i -t -p 4164:4164 -p 4165:4165 -p 4166:4166 -p 4167:4167 -p 4168:4168 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=4166 --rest-port=4164 --tcp-port=4165 --discv5-udp-port=4167 --rest-address=0.0.0.0 --nat=extip:172.18.245.67 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=5c2bdce4d0d6bde15a0eb59f1b0e5ddf9e12a20ae1fe3703c1db4fa50f70b8f7 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=4168 --metrics-logging=true --lightpush=true --relay=true
2026-02-13 04:40:33.685 ERROR [src.node.docker_mananger] Max retries reached for container 6450da46db55. Exiting log stream.
2026-02-13 04:40:33.779 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.245.67 waku 0528e2bdb2ba6e8b4910b184f8d36f0e31bf995f110138441420c3304ee30a6d
2026-02-13 04:40:33.826 DEBUG [src.node.docker_mananger] Container started with ID 0528e2bdb2ba. Setting up logs at ./log/docker/receiving_node1_2026-02-13_04-40-33__2e1c0c82-ff50-4fcb-826c-97c35a134738__wakuorg_nwaku:latest.log
2026-02-13 04:40:33.827 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 4164
2026-02-13 04:40:33.827 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-13 04:40:33.925 ERROR [src.node.docker_mananger] Max retries reached for container 6ae20c228311. Exiting log stream.
2026-02-13 04:40:34.404 ERROR [src.node.docker_mananger] Max retries reached for container 5ffdddb1fd27. Exiting log stream.
2026-02-13 04:40:34.827 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:4164/health" -H "Content-Type: application/json" -d 'None'
2026-02-13 04:40:34.830 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_READY","desc":"Node has no relay peers to fullfill push requests"},{"Legacy Lightpush":"NOT_READY","desc":"Node has no relay peers to fullfill push requests"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-13 04:40:34.831 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-13 04:40:34.831 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:4164/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-13 04:40:34.833 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.245.67/tcp/4165/p2p/16Uiu2HAmJpDFepFs79ZT5TjhT7i7gGhyJ3EYQUN2wC8APa1tyZFX","/ip4/172.18.245.67/tcp/4166/ws/p2p/16Uiu2HAmJpDFepFs79ZT5TjhT7i7gGhyJ3EYQUN2wC8APa1tyZFX"],"enrUri":"enr:-L24QPjwQuE8DCQdvCv-DftTMtzbhbyDJQ_PPNs30hx4A4CAJWQKutWKoWaAqKxtft8iF-bl_wRI7p5ElzFaLUvXSJACgmlkgnY0gmlwhKwS9UOKbXVsdGlhZGRyc5YACASsEvVDBhBFAAoErBL1QwYQRt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDW4LwJtJ6ZlfQ6L--NVDFRCZwVm0XE099OGTA5OiSWvqDdGNwghBFg3VkcIIQR4V3YWt1Mgk"}'
2026-02-13 04:40:34.834 INFO [src.node.waku_node] REST service is ready !!
2026-02-13 04:40:34.840 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-13 04:40:34.841 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node2_2026-02-13_04-40-33__2e1c0c82-ff50-4fcb-826c-97c35a134738__wakuorg_nwaku:latest.log
2026-02-13 04:40:34.841 DEBUG [src.node.waku_node] Starting Node...
2026-02-13 04:40:34.841 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-13 04:40:34.842 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-13 04:40:34.842 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.170.196
2026-02-13 04:40:34.843 DEBUG [src.node.docker_mananger] Generated ports ['57025', '57026', '57027', '57028', '57029']
2026-02-13 04:40:34.843 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-13 04:40:34.843 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-13 04:40:34.843 DEBUG [src.node.waku_node] Using volumes []
2026-02-13 04:40:34.843 DEBUG [src.node.docker_mananger] docker run -i -t -p 57025:57025 -p 57026:57026 -p 57027:57027 -p 57028:57028 -p 57029:57029 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=57027 --rest-port=57025 --tcp-port=57026 --discv5-udp-port=57028 --rest-address=0.0.0.0 --nat=extip:172.18.170.196 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f9910b6d2c490c37ccdc52ebd00ca10bf8b2df8d994c3fdc86ccbea9afdbfcfb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=57029 --metrics-logging=true --lightpush=false --relay=true
2026-02-13 04:40:35.047 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.170.196 waku d1a171dd4c9158c9d82ad8b35106fe80d77d5f28f3371dfb0b7c9661b0900952
2026-02-13 04:40:35.092 DEBUG [src.node.docker_mananger] Container started with ID d1a171dd4c91. Setting up logs at ./log/docker/receiving_node2_2026-02-13_04-40-33__2e1c0c82-ff50-4fcb-826c-97c35a134738__wakuorg_nwaku:latest.log
2026-02-13 04:40:35.093 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 57025
2026-02-13 04:40:35.093 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-13 04:40:36.093 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57025/health" -H "Content-Type: application/json" -d 'None'
2026-02-13 04:40:36.097 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-13 04:40:36.097 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-13 04:40:36.097 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57025/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-13 04:40:36.099 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.170.196/tcp/57026/p2p/16Uiu2HAmSXhccjtRQFBYiGTbCGyJ1anzmRNGFkZdQ3AtCF3SD297","/ip4/172.18.170.196/tcp/57027/ws/p2p/16Uiu2HAmSXhccjtRQFBYiGTbCGyJ1anzmRNGFkZdQ3AtCF3SD297"],"enrUri":"enr:-L24QNF1cKjGjDF-IqZUeth_UmufQhNrgiE2MDTZ_IjP5UyRfevg8WqP-o6NjCpZGH4qLvSrmUhlL4mQMBez7mI35D4CgmlkgnY0gmlwhKwSqsSKbXVsdGlhZGRyc5YACASsEqrEBt7CAAoErBKqxAbew90DgnJzhQADAQAAiXNlY3AyNTZrMaEDziWgzhv_S_uZiyw7bilinwpMdO5vqILJ_AEHUjhxwqqDdGNwgt7Cg3VkcILexIV3YWt1MgE"}'
2026-02-13 04:40:36.100 INFO [src.node.waku_node] REST service is ready !!
2026-02-13 04:40:36.100 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:57025/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.245.67/tcp/4165/p2p/16Uiu2HAmJpDFepFs79ZT5TjhT7i7gGhyJ3EYQUN2wC8APa1tyZFX"]'
2026-02-13 04:40:36.133 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-13 04:40:36.144 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-13 04:40:36.145 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/lightpush_node1_2026-02-13_04-40-33__2e1c0c82-ff50-4fcb-826c-97c35a134738__wakuorg_nwaku:latest.log
2026-02-13 04:40:36.145 DEBUG [src.node.waku_node] Starting Node...
2026-02-13 04:40:36.145 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-13 04:40:36.148 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-13 04:40:36.149 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.94.228
2026-02-13 04:40:36.149 DEBUG [src.node.docker_mananger] Generated ports ['57817', '57818', '57819', '57820', '57821']
2026-02-13 04:40:36.150 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-13 04:40:36.150 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-13 04:40:36.151 DEBUG [src.node.waku_node] Using volumes []
2026-02-13 04:40:36.151 DEBUG [src.node.docker_mananger] docker run -i -t -p 57817:57817 -p 57818:57818 -p 57819:57819 -p 57820:57820 -p 57821:57821 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=57819 --rest-port=57817 --tcp-port=57818 --discv5-udp-port=57820 --rest-address=0.0.0.0 --nat=extip:172.18.94.228 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bca6dfbcaa287b5bcfe045fc309e4fa907e332fcc56de3fb2d8dd3a0e8593f84 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=57821 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QPjwQuE8DCQdvCv-DftTMtzbhbyDJQ_PPNs30hx4A4CAJWQKutWKoWaAqKxtft8iF-bl_wRI7p5ElzFaLUvXSJACgmlkgnY0gmlwhKwS9UOKbXVsdGlhZGRyc5YACASsEvVDBhBFAAoErBL1QwYQRt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDW4LwJtJ6ZlfQ6L--NVDFRCZwVm0XE099OGTA5OiSWvqDdGNwghBFg3VkcIIQR4V3YWt1Mgk --lightpushnode=/ip4/172.18.245.67/tcp/4165/p2p/16Uiu2HAmJpDFepFs79ZT5TjhT7i7gGhyJ3EYQUN2wC8APa1tyZFX --lightpush=true --relay=true
2026-02-13 04:40:36.366 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.94.228 waku 2c4cde3460dc838cac93971e7c1dbb24910f5a0b874407771f1672f3fee5c009
2026-02-13 04:40:36.413 DEBUG [src.node.docker_mananger] Container started with ID 2c4cde3460dc. Setting up logs at ./log/docker/lightpush_node1_2026-02-13_04-40-33__2e1c0c82-ff50-4fcb-826c-97c35a134738__wakuorg_nwaku:latest.log
2026-02-13 04:40:36.414 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 57817
2026-02-13 04:40:36.414 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-13 04:40:37.414 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57817/health" -H "Content-Type: application/json" -d 'None'
2026-02-13 04:40:37.418 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_READY","desc":"Node has no relay peers to fullfill push requests"},{"Legacy Lightpush":"NOT_READY","desc":"Node has no relay peers to fullfill push requests"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"READY"},{"Legacy Lightpush Client":"READY"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-13 04:40:37.418 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-13 04:40:37.419 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57817/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-13 04:40:37.421 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.94.228/tcp/57818/p2p/16Uiu2HAmATCV8zgpXETdmLnsW4y6GNcJqgfdKAUb8MzxeCpUEuiE","/ip4/172.18.94.228/tcp/57819/ws/p2p/16Uiu2HAmATCV8zgpXETdmLnsW4y6GNcJqgfdKAUb8MzxeCpUEuiE"],"enrUri":"enr:-L24QAGZ5ESDoOU0HGqsvikGv0SWgEzGnGN-53pr-hF3V8MQIKM7qERWJ7K5FKsgnAZbKBqTyWvTIJn0FAAkQZkqhyECgmlkgnY0gmlwhKwSXuSKbXVsdGlhZGRyc5YACASsEl7kBuHaAAoErBJe5Abh290DgnJzhQADAQAAiXNlY3AyNTZrMaEC30NgvZO--ku3CmWU5BJ7V78xDMGo82LkpphuXZrys_-DdGNwguHag3VkcILh3IV3YWt1Mgk"}'
2026-02-13 04:40:37.421 INFO [src.node.waku_node] REST service is ready !!
2026-02-13 04:40:37.422 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:57817/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.245.67/tcp/4165/p2p/16Uiu2HAmJpDFepFs79ZT5TjhT7i7gGhyJ3EYQUN2wC8APa1tyZFX"]'
2026-02-13 04:40:37.452 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-13 04:40:37.453 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:57817/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.170.196/tcp/57026/p2p/16Uiu2HAmSXhccjtRQFBYiGTbCGyJ1anzmRNGFkZdQ3AtCF3SD297"]'
2026-02-13 04:40:37.482 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-13 04:40:37.483 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4164/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-13 04:40:37.490 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-13 04:40:37.490 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:57025/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-13 04:40:37.493 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-13 04:40:37.494 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:57817/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-13 04:40:37.498 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-13 04:40:37.504 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:57817/lightpush/v1/message" -H "Content-Type: application/json" -d '{"message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1770957637504622534}}'
2026-02-13 04:40:37.519 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-13 04:40:37.529 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-02-13 04:40:37.534 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-02-13 04:40:37.534 DEBUG [src.node.waku_node] Stopping container with id 0528e2bdb2ba
2026-02-13 04:40:37.804 DEBUG [src.node.waku_node] Container stopped.
2026-02-13 04:40:37.805 DEBUG [src.node.waku_node] Stopping container with id d1a171dd4c91
2026-02-13 04:40:38.078 DEBUG [src.node.waku_node] Container stopped.
2026-02-13 04:40:38.078 DEBUG [src.node.waku_node] Stopping container with id 2c4cde3460dc
2026-02-13 04:40:38.329 DEBUG [src.node.waku_node] Container stopped.
2026-02-13 04:40:38.330 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-02-13 04:40:38.347 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-13 04:40:38.362 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-13 04:40:38.372 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
