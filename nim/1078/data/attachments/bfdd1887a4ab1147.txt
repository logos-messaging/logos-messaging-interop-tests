2026-02-13 04:40:29.928 DEBUG [tests.conftest] Running fixture setup: test_id
2026-02-13 04:40:29.929 DEBUG [tests.conftest] Running test: test_time_filter_matches_multiple_messages with id: 2026-02-13_04-40-29__36a80635-b524-4033-bd8d-2ac6a4776205
2026-02-13 04:40:29.929 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-02-13 04:40:29.930 DEBUG [src.steps.store] Running fixture setup: store_setup
2026-02-13 04:40:29.931 DEBUG [src.steps.store] Running fixture setup: node_setup
2026-02-13 04:40:29.941 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-13 04:40:29.941 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/publishing_node1_2026-02-13_04-40-29__36a80635-b524-4033-bd8d-2ac6a4776205__wakuorg_nwaku:latest.log
2026-02-13 04:40:29.941 DEBUG [src.node.waku_node] Starting Node...
2026-02-13 04:40:29.941 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-13 04:40:29.944 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-13 04:40:29.945 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.235.183
2026-02-13 04:40:29.945 DEBUG [src.node.docker_mananger] Generated ports ['1834', '1835', '1836', '1837', '1838']
2026-02-13 04:40:29.945 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-13 04:40:29.946 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-13 04:40:29.946 DEBUG [src.node.waku_node] Using volumes []
2026-02-13 04:40:29.947 DEBUG [src.node.docker_mananger] docker run -i -t -p 1834:1834 -p 1835:1835 -p 1836:1836 -p 1837:1837 -p 1838:1838 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=1836 --rest-port=1834 --tcp-port=1835 --discv5-udp-port=1837 --rest-address=0.0.0.0 --nat=extip:172.18.235.183 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=3d199ca32044a8f6c0eaff8fd8a3bee54f766adcfda1cdac06fb6426ea8e0975 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=1838 --metrics-logging=true --store=true --relay=true
2026-02-13 04:40:30.153 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.235.183 waku bf1e14a7922e3cba8d9b50e1dfb98e3fe2e8ec2c6d4129667a9225d03efec1bc
2026-02-13 04:40:30.206 DEBUG [src.node.docker_mananger] Container started with ID bf1e14a7922e. Setting up logs at ./log/docker/publishing_node1_2026-02-13_04-40-29__36a80635-b524-4033-bd8d-2ac6a4776205__wakuorg_nwaku:latest.log
2026-02-13 04:40:30.207 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 1834
2026-02-13 04:40:30.207 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-13 04:40:30.462 ERROR [src.node.docker_mananger] Max retries reached for container 3e8f9d020c93. Exiting log stream.
2026-02-13 04:40:30.764 ERROR [src.node.docker_mananger] Max retries reached for container 09aa00a67210. Exiting log stream.
2026-02-13 04:40:31.207 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1834/health" -H "Content-Type: application/json" -d 'None'
2026-02-13 04:40:31.211 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"READY"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"READY"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-13 04:40:31.211 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-13 04:40:31.211 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1834/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-13 04:40:31.214 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.235.183/tcp/1835/p2p/16Uiu2HAmN57huN9TG4G1tNSUAYy9aY15KVB6QYSDRUisgqCNgeaq","/ip4/172.18.235.183/tcp/1836/ws/p2p/16Uiu2HAmN57huN9TG4G1tNSUAYy9aY15KVB6QYSDRUisgqCNgeaq"],"enrUri":"enr:-L24QEcPa579dOxvK8k830CWsI2v7Q0qQvJQmXsj3urpqOtYcNXHNlskkNLDTnj1BeiFO7NgSWhrGUBXROaN433y4MECgmlkgnY0gmlwhKwS67eKbXVsdGlhZGRyc5YACASsEuu3BgcrAAoErBLrtwYHLN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDi-dwRGOZVy8-hRd8Vc77Cv1sEGyM9zpl4RUxljlLV6aDdGNwggcrg3VkcIIHLYV3YWt1MgM"}'
2026-02-13 04:40:31.214 INFO [src.node.waku_node] REST service is ready !!
2026-02-13 04:40:31.221 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-13 04:40:31.221 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/store_node1_2026-02-13_04-40-29__36a80635-b524-4033-bd8d-2ac6a4776205__wakuorg_nwaku:latest.log
2026-02-13 04:40:31.221 DEBUG [src.node.waku_node] Starting Node...
2026-02-13 04:40:31.221 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-13 04:40:31.223 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-13 04:40:31.223 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.80.73
2026-02-13 04:40:31.223 DEBUG [src.node.docker_mananger] Generated ports ['18774', '18775', '18776', '18777', '18778']
2026-02-13 04:40:31.223 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-13 04:40:31.223 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-13 04:40:31.223 DEBUG [src.node.waku_node] Using volumes []
2026-02-13 04:40:31.224 DEBUG [src.node.docker_mananger] docker run -i -t -p 18774:18774 -p 18775:18775 -p 18776:18776 -p 18777:18777 -p 18778:18778 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=18776 --rest-port=18774 --tcp-port=18775 --discv5-udp-port=18777 --rest-address=0.0.0.0 --nat=extip:172.18.80.73 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=5195eede73d6faeffebb911a875deaedb2d5bfab72ce2a6aec8acbcdf0ebfe2c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=18778 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QEcPa579dOxvK8k830CWsI2v7Q0qQvJQmXsj3urpqOtYcNXHNlskkNLDTnj1BeiFO7NgSWhrGUBXROaN433y4MECgmlkgnY0gmlwhKwS67eKbXVsdGlhZGRyc5YACASsEuu3BgcrAAoErBLrtwYHLN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDi-dwRGOZVy8-hRd8Vc77Cv1sEGyM9zpl4RUxljlLV6aDdGNwggcrg3VkcIIHLYV3YWt1MgM --storenode=/ip4/172.18.235.183/tcp/1835/p2p/16Uiu2HAmN57huN9TG4G1tNSUAYy9aY15KVB6QYSDRUisgqCNgeaq --store=true --relay=true
2026-02-13 04:40:31.427 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.80.73 waku f7885390c1611faf87e289b8aa745e3a71100c6f5a330a77cd672971cfbbe8d8
2026-02-13 04:40:31.484 DEBUG [src.node.docker_mananger] Container started with ID f7885390c161. Setting up logs at ./log/docker/store_node1_2026-02-13_04-40-29__36a80635-b524-4033-bd8d-2ac6a4776205__wakuorg_nwaku:latest.log
2026-02-13 04:40:31.484 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 18774
2026-02-13 04:40:31.484 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-13 04:40:32.485 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18774/health" -H "Content-Type: application/json" -d 'None'
2026-02-13 04:40:32.489 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"READY"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"READY"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"READY"},{"Legacy Store Client":"READY"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-13 04:40:32.489 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-13 04:40:32.489 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18774/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-13 04:40:32.492 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.80.73/tcp/18775/p2p/16Uiu2HAmE2frYMxTxNoiY4oS4NQkJatZHYWE1gwfRuWQz3H1KBKM","/ip4/172.18.80.73/tcp/18776/ws/p2p/16Uiu2HAmE2frYMxTxNoiY4oS4NQkJatZHYWE1gwfRuWQz3H1KBKM"],"enrUri":"enr:-L24QI6NktGLkS1FPTFC_J2_r9EbBvt1hSQAnLKDQQoxu8vmEz3J834pSOHg4YpyUly65B27OeaC87tGlxMi_hjUOd4CgmlkgnY0gmlwhKwSUEmKbXVsdGlhZGRyc5YACASsElBJBklXAAoErBJQSQZJWN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDFGmNNqhQ5PcXMkJUPMnUsP1RpwbhPyx91r0UuVXR9GCDdGNwgklXg3VkcIJJWYV3YWt1MgM"}'
2026-02-13 04:40:32.492 INFO [src.node.waku_node] REST service is ready !!
2026-02-13 04:40:32.492 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:18774/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.235.183/tcp/1835/p2p/16Uiu2HAmN57huN9TG4G1tNSUAYy9aY15KVB6QYSDRUisgqCNgeaq"]'
2026-02-13 04:40:32.495 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-13 04:40:32.496 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:1834/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-13 04:40:32.498 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-13 04:40:32.499 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:18774/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-13 04:40:32.501 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-13 04:40:32.502 DEBUG [src.steps.store] Relaying message
2026-02-13 04:40:32.502 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:1834/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-13 04:40:32.508 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-13 04:40:32.508 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-13 04:40:32.710 DEBUG [src.steps.store] Relaying message
2026-02-13 04:40:32.710 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:1834/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-13 04:40:32.715 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-13 04:40:32.716 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-13 04:40:32.917 DEBUG [src.steps.store] Relaying message
2026-02-13 04:40:32.917 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:1834/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-13 04:40:32.923 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-13 04:40:32.923 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-13 04:40:33.125 DEBUG [src.steps.store] Relaying message
2026-02-13 04:40:33.125 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:1834/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-13 04:40:33.131 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-13 04:40:33.132 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-13 04:40:33.332 DEBUG [src.steps.store] Relaying message
2026-02-13 04:40:33.333 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:1834/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-13 04:40:33.338 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-13 04:40:33.339 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-13 04:40:33.539 DEBUG [src.steps.store] Relaying message
2026-02-13 04:40:33.540 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:1834/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-13 04:40:33.545 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-13 04:40:33.546 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-13 04:40:33.747 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1834/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=1770957629502061152&endTime=1770957634502272928&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
2026-02-13 04:40:33.750 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x7a191c905b065fe47718aeebe466b31021957297535e87d44d3bc198a601db79"},{"messageHash":"0xe2b94acd9c0db43a3a3e5afeae5b438e7b2647c646976306ae5694867f23d670"},{"messageHash":"0x19c3dd970270f2226be935669aab5efa6839eaa0ca46c9017691a357e8910e6e"},{"messageHash":"0x63d72f83477e5d25a4195cb641b9869dac439d7ce3ad9cec30669caf7987acfd"},{"messageHash":"0x97b559a15b8a1d22e8f79438db0ab8d589ce6bcfbf3df09964c5e8794dfda723"}]}'
2026-02-13 04:40:33.751 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18774/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=1770957629502061152&endTime=1770957634502272928&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
2026-02-13 04:40:33.754 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x7a191c905b065fe47718aeebe466b31021957297535e87d44d3bc198a601db79"},{"messageHash":"0xe2b94acd9c0db43a3a3e5afeae5b438e7b2647c646976306ae5694867f23d670"},{"messageHash":"0x19c3dd970270f2226be935669aab5efa6839eaa0ca46c9017691a357e8910e6e"},{"messageHash":"0x63d72f83477e5d25a4195cb641b9869dac439d7ce3ad9cec30669caf7987acfd"},{"messageHash":"0x97b559a15b8a1d22e8f79438db0ab8d589ce6bcfbf3df09964c5e8794dfda723"}]}'
2026-02-13 04:40:33.755 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-02-13 04:40:33.757 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-02-13 04:40:33.757 DEBUG [src.node.waku_node] Stopping container with id bf1e14a7922e
2026-02-13 04:40:34.028 DEBUG [src.node.waku_node] Container stopped.
2026-02-13 04:40:34.030 DEBUG [src.node.waku_node] Stopping container with id f7885390c161
2026-02-13 04:40:34.289 DEBUG [src.node.waku_node] Container stopped.
2026-02-13 04:40:34.292 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-02-13 04:40:34.304 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-13 04:40:34.312 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
