{"uid":"c5161545e56eb0d7","name":"test_publish_after_node1_restarts","fullName":"tests.relay.test_publish.TestRelayPublish#test_publish_after_node1_restarts","historyId":"ac4c595ebfa5f8d963dda5d51f886384","time":{"start":1770958017550,"stop":1770958020634,"duration":3084},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"set_allure_env_variables","time":{"start":1770957445325,"stop":1770957445325,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"check_waku_log_errors","time":{"start":1770958014858,"stop":1770958014858,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_id","time":{"start":1770958014858,"stop":1770958014859,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes","time":{"start":1770958014858,"stop":1770958014858,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_logs_on_fail","time":{"start":1770958014858,"stop":1770958014858,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_setup","time":{"start":1770958014859,"stop":1770958014860,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"common_setup","time":{"start":1770958014860,"stop":1770958014860,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"relay_setup","time":{"start":1770958014861,"stop":1770958014861,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_main_relay_nodes","time":{"start":1770958014861,"stop":1770958017424,"duration":2563},"status":"passed","steps":[{"name":"add_node_peer","time":{"start":1770958017421,"stop":1770958017424,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"args","value":"(<tests.relay.test_publish.TestRelayPublish object at 0x7fc94b689a30>, <src.node.waku_node.WakuNode object at 0x7fc94b689d00>, ['/ip4/172.18.144.220/tcp/10394/p2p/16Uiu2HAm57kzCezdwDHp3fqZd7dJpUZA6anaS5VZWLvsHZCg56MQ'])"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"subscribe_main_relay_nodes","time":{"start":1770958017424,"stop":1770958017435,"duration":11},"status":"passed","steps":[{"name":"ensure_relay_subscriptions_on_nodes","time":{"start":1770958017424,"stop":1770958017435,"duration":11},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node_list","value":"[<src.node.waku_node.WakuNode object at 0x7fc94b086ff0>, <src.node.waku_node.WakuNode object at 0x7fc94b689d00>]"},{"name":"pubsub_topic_list","value":"['/waku/2/rs/3/1']"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"relay_warm_up","time":{"start":1770958017435,"stop":1770958017550,"duration":115},"status":"passed","steps":[{"name":"wait_for_published_message_to_reach_relay_peer","time":{"start":1770958017435,"stop":1770958017550,"duration":115},"status":"passed","steps":[{"name":"check_published_message_reaches_relay_peer","time":{"start":1770958017436,"stop":1770958017550,"duration":114},"status":"passed","steps":[{"name":"assert_received_message","time":{"start":1770958017546,"stop":1770958017546,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"sent_message","value":"{'payload': 'UmVsYXkgd29ya3MhIQ==', 'contentTopic': '/test/1/waku-relay/proto', 'timestamp': 1770958017435498752}"},{"name":"index","value":"0"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"assert_received_message","time":{"start":1770958017550,"stop":1770958017550,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"sent_message","value":"{'payload': 'UmVsYXkgd29ya3MhIQ==', 'contentTopic': '/test/1/waku-relay/proto', 'timestamp': 1770958017435498752}"},{"name":"index","value":"0"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"message","value":"{'payload': 'UmVsYXkgd29ya3MhIQ==', 'contentTopic': '/test/1/waku-relay/proto', 'timestamp': 1770958017435498752}"},{"name":"pubsub_topic","value":"None"},{"name":"message_propagation_delay","value":"0.1"},{"name":"sender","value":"None"},{"name":"peer_list","value":"None"}],"stepsCount":2,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"timeout_duration","value":"120"},{"name":"time_between_retries","value":"1"},{"name":"pubsub_topic","value":"None"},{"name":"sender","value":"None"},{"name":"peer_list","value":"None"}],"stepsCount":3,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":4,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"testStage":{"status":"passed","steps":[{"name":"check_published_message_reaches_relay_peer","time":{"start":1770958017551,"stop":1770958017663,"duration":112},"status":"passed","steps":[{"name":"create_message","time":{"start":1770958017551,"stop":1770958017551,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"assert_received_message","time":{"start":1770958017659,"stop":1770958017659,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"sent_message","value":"{'payload': 'UmVsYXkgd29ya3MhIQ==', 'contentTopic': '/test/1/waku-relay/proto', 'timestamp': 1770958017550576475}"},{"name":"index","value":"0"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"assert_received_message","time":{"start":1770958017663,"stop":1770958017663,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"sent_message","value":"{'payload': 'UmVsYXkgd29ya3MhIQ==', 'contentTopic': '/test/1/waku-relay/proto', 'timestamp': 1770958017550576475}"},{"name":"index","value":"0"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"message","value":"None"},{"name":"pubsub_topic","value":"None"},{"name":"message_propagation_delay","value":"0.1"},{"name":"sender","value":"None"},{"name":"peer_list","value":"None"}],"stepsCount":3,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"subscribe_and_publish_with_retry","time":{"start":1770958018252,"stop":1770958020634,"duration":2382},"status":"passed","steps":[{"name":"ensure_relay_subscriptions_on_nodes","time":{"start":1770958018252,"stop":1770958018269,"duration":17},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node_list","value":"[<src.node.waku_node.WakuNode object at 0x7fc94b086ff0>, <src.node.waku_node.WakuNode object at 0x7fc94b689d00>]"},{"name":"pubsub_topic_list","value":"['/waku/2/rs/3/1']"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_published_message_reaches_relay_peer","time":{"start":1770958018270,"stop":1770958018380,"duration":110},"status":"failed","statusMessage":"AssertionError: Peer NODE_2:wakuorg/nwaku:latest couldn't find any messages\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/logos-messaging-interop-tests/logos-messaging-interop-tests/src/steps/relay.py\", line 125, in check_published_message_reaches_relay_peer\n    assert get_messages_response, f\"Peer NODE_{index + 1}:{peer.image} couldn't find any messages\"\n           ^^^^^^^^^^^^^^^^^^^^^\n","steps":[{"name":"create_message","time":{"start":1770958018270,"stop":1770958018270,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"assert_received_message","time":{"start":1770958018378,"stop":1770958018378,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"sent_message","value":"{'payload': 'UmVsYXkgd29ya3MhIQ==', 'contentTopic': '/test/1/waku-relay/proto', 'timestamp': 1770958018269621735}"},{"name":"index","value":"0"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"message","value":"None"},{"name":"pubsub_topic","value":"None"},{"name":"message_propagation_delay","value":"0.1"},{"name":"sender","value":"None"},{"name":"peer_list","value":"None"}],"stepsCount":2,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"ensure_relay_subscriptions_on_nodes","time":{"start":1770958019381,"stop":1770958019387,"duration":6},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node_list","value":"[<src.node.waku_node.WakuNode object at 0x7fc94b086ff0>, <src.node.waku_node.WakuNode object at 0x7fc94b689d00>]"},{"name":"pubsub_topic_list","value":"['/waku/2/rs/3/1']"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_published_message_reaches_relay_peer","time":{"start":1770958019387,"stop":1770958019497,"duration":110},"status":"failed","statusMessage":"AssertionError: Peer NODE_2:wakuorg/nwaku:latest couldn't find any messages\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/logos-messaging-interop-tests/logos-messaging-interop-tests/src/steps/relay.py\", line 125, in check_published_message_reaches_relay_peer\n    assert get_messages_response, f\"Peer NODE_{index + 1}:{peer.image} couldn't find any messages\"\n           ^^^^^^^^^^^^^^^^^^^^^\n","steps":[{"name":"create_message","time":{"start":1770958019387,"stop":1770958019387,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"assert_received_message","time":{"start":1770958019494,"stop":1770958019494,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"sent_message","value":"{'payload': 'UmVsYXkgd29ya3MhIQ==', 'contentTopic': '/test/1/waku-relay/proto', 'timestamp': 1770958019386774131}"},{"name":"index","value":"0"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"message","value":"None"},{"name":"pubsub_topic","value":"None"},{"name":"message_propagation_delay","value":"0.1"},{"name":"sender","value":"None"},{"name":"peer_list","value":"None"}],"stepsCount":2,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"ensure_relay_subscriptions_on_nodes","time":{"start":1770958020497,"stop":1770958020503,"duration":6},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node_list","value":"[<src.node.waku_node.WakuNode object at 0x7fc94b086ff0>, <src.node.waku_node.WakuNode object at 0x7fc94b689d00>]"},{"name":"pubsub_topic_list","value":"['/waku/2/rs/3/1']"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_published_message_reaches_relay_peer","time":{"start":1770958020503,"stop":1770958020634,"duration":131},"status":"passed","steps":[{"name":"create_message","time":{"start":1770958020503,"stop":1770958020503,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"assert_received_message","time":{"start":1770958020612,"stop":1770958020612,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"sent_message","value":"{'payload': 'UmVsYXkgd29ya3MhIQ==', 'contentTopic': '/test/1/waku-relay/proto', 'timestamp': 1770958020503033659}"},{"name":"index","value":"0"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"assert_received_message","time":{"start":1770958020634,"stop":1770958020634,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"sent_message","value":"{'payload': 'UmVsYXkgd29ya3MhIQ==', 'contentTopic': '/test/1/waku-relay/proto', 'timestamp': 1770958020503033659}"},{"name":"index","value":"0"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"message","value":"None"},{"name":"pubsub_topic","value":"None"},{"name":"message_propagation_delay","value":"0.1"},{"name":"sender","value":"None"},{"name":"peer_list","value":"None"}],"stepsCount":3,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<tests.relay.test_publish.TestRelayPublish object at 0x7fc94b689a30>, [<src.node.waku_node.WakuNode object at 0x7fc94b086ff0>, <src.node.waku_node.WakuNode object at 0x7fc94b689d00>], ['/waku/2/rs/3/1'])"}],"stepsCount":13,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"fab239757b8706bf","name":"log","source":"fab239757b8706bf.txt","type":"text/plain","size":24355},{"uid":"8ef05ce99ebd398b","name":"stderr","source":"8ef05ce99ebd398b.txt","type":"text/plain","size":23824}],"parameters":[],"stepsCount":18,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"test_setup::0","time":{"start":1770958020636,"stop":1770958020636,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes::0","time":{"start":1770958020637,"stop":1770958021164,"duration":527},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"check_waku_log_errors::0","time":{"start":1770958021165,"stop":1770958021207,"duration":42},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_logs_on_fail::0","time":{"start":1770958021209,"stop":1770958021209,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"set_allure_env_variables::0","time":{"start":1770958229515,"stop":1770958229515,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"flaky(reruns=5)"},{"name":"tag","value":"@pytest.mark.usefixtures('setup_main_relay_nodes', 'subscribe_main_relay_nodes', 'relay_warm_up')"},{"name":"parentSuite","value":"tests.relay"},{"name":"suite","value":"test_publish"},{"name":"subSuite","value":"TestRelayPublish"},{"name":"host","value":"runnervmjduv7"},{"name":"thread","value":"2726-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.relay.test_publish"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":0,"broken":0,"skipped":0,"passed":18,"unknown":0,"total":18},"items":[{"uid":"368eda60a8f00e6b","reportUrl":"https://logos-messaging.github.io/logos-messaging-interop-tests/nim/1077/#testresult/368eda60a8f00e6b","status":"passed","time":{"start":1770871766820,"stop":1770871770150,"duration":3330}},{"uid":"c13fa3957ffbce3f","reportUrl":"https://logos-messaging.github.io/logos-messaging-interop-tests/nim/1076/#testresult/c13fa3957ffbce3f","status":"passed","time":{"start":1770785521183,"stop":1770785524519,"duration":3336}},{"uid":"14242b47c36ef7ea","reportUrl":"https://logos-messaging.github.io/logos-messaging-interop-tests/nim/1075/#testresult/14242b47c36ef7ea","status":"passed","time":{"start":1770699243958,"stop":1770699247568,"duration":3610}},{"uid":"e5a275fa9567c3b3","reportUrl":"https://logos-messaging.github.io/logos-messaging-interop-tests/nim/1074/#testresult/e5a275fa9567c3b3","status":"passed","time":{"start":1770612626461,"stop":1770612629782,"duration":3321}},{"uid":"46990a24223c2a1","reportUrl":"https://logos-messaging.github.io/logos-messaging-interop-tests/nim/1073/#testresult/46990a24223c2a1","status":"passed","time":{"start":1770526403516,"stop":1770526406877,"duration":3361}},{"uid":"cd637bd0e024a5f9","reportUrl":"https://logos-messaging.github.io/logos-messaging-interop-tests/nim/1072/#testresult/cd637bd0e024a5f9","status":"passed","time":{"start":1770439183181,"stop":1770439186546,"duration":3365}},{"uid":"77f44cae4546cec0","reportUrl":"https://logos-messaging.github.io/logos-messaging-interop-tests/nim/1071/#testresult/77f44cae4546cec0","status":"passed","time":{"start":1770352931782,"stop":1770352935124,"duration":3342}},{"uid":"680e8b4abd9c562a","reportUrl":"https://logos-messaging.github.io/logos-messaging-interop-tests/nim/1070/#testresult/680e8b4abd9c562a","status":"passed","time":{"start":1770266484667,"stop":1770266487950,"duration":3283}},{"uid":"ed4b5bc10d868f4e","reportUrl":"https://logos-messaging.github.io/logos-messaging-interop-tests/nim/1069/#testresult/ed4b5bc10d868f4e","status":"passed","time":{"start":1770225585895,"stop":1770225589233,"duration":3338}},{"uid":"eac56bb9f6e5fca8","reportUrl":"https://logos-messaging.github.io/logos-messaging-interop-tests/nim/1068/#testresult/eac56bb9f6e5fca8","status":"passed","time":{"start":1770206525939,"stop":1770206529551,"duration":3612}},{"uid":"477d7409587cb8b4","reportUrl":"https://logos-messaging.github.io/logos-messaging-interop-tests/nim/1067/#testresult/477d7409587cb8b4","status":"passed","time":{"start":1770180053019,"stop":1770180056335,"duration":3316}},{"uid":"9889be4d6693353b","reportUrl":"https://logos-messaging.github.io/logos-messaging-interop-tests/nim/1066/#testresult/9889be4d6693353b","status":"passed","time":{"start":1770093674398,"stop":1770093677686,"duration":3288}},{"uid":"6b809e0d3589d4ba","reportUrl":"https://logos-messaging.github.io/logos-messaging-interop-tests/nim/1065/#testresult/6b809e0d3589d4ba","status":"passed","time":{"start":1770007728825,"stop":1770007732163,"duration":3338}},{"uid":"5cc1e07ce4d55d61","reportUrl":"https://logos-messaging.github.io/logos-messaging-interop-tests/nim/1064/#testresult/5cc1e07ce4d55d61","status":"passed","time":{"start":1769921492395,"stop":1769921495754,"duration":3359}},{"uid":"22fefb91d107e636","reportUrl":"https://logos-messaging.github.io/logos-messaging-interop-tests/nim/1063/#testresult/22fefb91d107e636","status":"passed","time":{"start":1769834313164,"stop":1769834316716,"duration":3552}},{"uid":"f61e35ab23732c1a","reportUrl":"https://logos-messaging.github.io/logos-messaging-interop-tests/nim/1062/#testresult/f61e35ab23732c1a","status":"passed","time":{"start":1769747979781,"stop":1769747983301,"duration":3520}},{"uid":"c5420fe51d2b3f5b","reportUrl":"https://logos-messaging.github.io/logos-messaging-interop-tests/nim/1061/#testresult/c5420fe51d2b3f5b","status":"passed","time":{"start":1769662076189,"stop":1769662079491,"duration":3302}}]},"tags":["@pytest.mark.usefixtures('setup_main_relay_nodes', 'subscribe_main_relay_nodes', 'relay_warm_up')","flaky(reruns=5)"]},"source":"c5161545e56eb0d7.json","parameterValues":[]}