2026-02-05 04:36:25.613 DEBUG [tests.conftest] Running fixture setup: test_id
2026-02-05 04:36:25.613 DEBUG [tests.conftest] Running test: test_store_sort_ascending[true] with id: 2026-02-05_04-36-25__b5119255-b43e-4c63-bc1e-f62f8d2e821b
2026-02-05 04:36:25.613 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-02-05 04:36:25.614 DEBUG [src.steps.store] Running fixture setup: store_setup
2026-02-05 04:36:25.614 DEBUG [src.steps.store] Running fixture setup: node_setup
2026-02-05 04:36:25.621 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-05 04:36:25.621 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/publishing_node1_2026-02-05_04-36-25__b5119255-b43e-4c63-bc1e-f62f8d2e821b__wakuorg_nwaku:latest.log
2026-02-05 04:36:25.621 DEBUG [src.node.waku_node] Starting Node...
2026-02-05 04:36:25.621 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-05 04:36:25.622 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-05 04:36:25.623 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.34.199
2026-02-05 04:36:25.623 DEBUG [src.node.docker_mananger] Generated ports ['34662', '34663', '34664', '34665', '34666']
2026-02-05 04:36:25.623 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-05 04:36:25.623 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-05 04:36:25.623 DEBUG [src.node.waku_node] Using volumes []
2026-02-05 04:36:25.623 DEBUG [src.node.docker_mananger] docker run -i -t -p 34662:34662 -p 34663:34663 -p 34664:34664 -p 34665:34665 -p 34666:34666 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=34664 --rest-port=34662 --tcp-port=34663 --discv5-udp-port=34665 --rest-address=0.0.0.0 --nat=extip:172.18.34.199 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=3b86efbccc654b6528e3ece55f3f4d45c334cf0794aaa73df01eb028bdeae6c9 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=34666 --metrics-logging=true --store=true --relay=true
2026-02-05 04:36:25.808 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.34.199 waku 032de2d06bfccadb20ce09898e2809a976eadb253a4ab8de512c8969bd4f056d
2026-02-05 04:36:25.835 ERROR [src.node.docker_mananger] Max retries reached for container 02900f1707fc. Exiting log stream.
2026-02-05 04:36:25.842 DEBUG [src.node.docker_mananger] Container started with ID 032de2d06bfc. Setting up logs at ./log/docker/publishing_node1_2026-02-05_04-36-25__b5119255-b43e-4c63-bc1e-f62f8d2e821b__wakuorg_nwaku:latest.log
2026-02-05 04:36:25.844 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 34662
2026-02-05 04:36:25.844 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-05 04:36:26.415 ERROR [src.node.docker_mananger] Max retries reached for container b1456f51dbaf. Exiting log stream.
2026-02-05 04:36:26.844 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:34662/health" -H "Content-Type: application/json" -d 'None'
2026-02-05 04:36:26.848 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"READY"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"READY"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-05 04:36:26.848 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-05 04:36:26.848 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:34662/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-05 04:36:26.851 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.34.199/tcp/34663/p2p/16Uiu2HAm1GtZVxBChqJzx1CCSH1Su3rQaNHzEdx1eiStEecWDoKZ","/ip4/172.18.34.199/tcp/34664/ws/p2p/16Uiu2HAm1GtZVxBChqJzx1CCSH1Su3rQaNHzEdx1eiStEecWDoKZ"],"enrUri":"enr:-L24QIjoucRISvS0skZLdbzn9uDBToq6p4VLnhND7cD72JyUOFyi5hpfgBbx_hkKUmeAWudnxF-ezjSG1F1tTeNZ9RUCgmlkgnY0gmlwhKwSIseKbXVsdGlhZGRyc5YACASsEiLHBodnAAoErBIixwaHaN0DgnJzhQADAQAAiXNlY3AyNTZrMaECVuYerL9Nh3enRyY9hjX0G5DtFkpkMANbSJlTkQImIvyDdGNwgodng3VkcIKHaYV3YWt1MgM"}'
2026-02-05 04:36:26.851 INFO [src.node.waku_node] REST service is ready !!
2026-02-05 04:36:26.858 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-05 04:36:26.858 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/store_node1_2026-02-05_04-36-25__b5119255-b43e-4c63-bc1e-f62f8d2e821b__wakuorg_nwaku:latest.log
2026-02-05 04:36:26.858 DEBUG [src.node.waku_node] Starting Node...
2026-02-05 04:36:26.858 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-05 04:36:26.860 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-05 04:36:26.860 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.56.243
2026-02-05 04:36:26.860 DEBUG [src.node.docker_mananger] Generated ports ['19865', '19866', '19867', '19868', '19869']
2026-02-05 04:36:26.860 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-05 04:36:26.861 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-05 04:36:26.861 DEBUG [src.node.waku_node] Using volumes []
2026-02-05 04:36:26.861 DEBUG [src.node.docker_mananger] docker run -i -t -p 19865:19865 -p 19866:19866 -p 19867:19867 -p 19868:19868 -p 19869:19869 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=19867 --rest-port=19865 --tcp-port=19866 --discv5-udp-port=19868 --rest-address=0.0.0.0 --nat=extip:172.18.56.243 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e86b6a4a7b6eada5b2cfaaccdaddb8d95e63fcd0dbfb70479c05d4dc3e2edc0c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=19869 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QIjoucRISvS0skZLdbzn9uDBToq6p4VLnhND7cD72JyUOFyi5hpfgBbx_hkKUmeAWudnxF-ezjSG1F1tTeNZ9RUCgmlkgnY0gmlwhKwSIseKbXVsdGlhZGRyc5YACASsEiLHBodnAAoErBIixwaHaN0DgnJzhQADAQAAiXNlY3AyNTZrMaECVuYerL9Nh3enRyY9hjX0G5DtFkpkMANbSJlTkQImIvyDdGNwgodng3VkcIKHaYV3YWt1MgM --storenode=/ip4/172.18.34.199/tcp/34663/p2p/16Uiu2HAm1GtZVxBChqJzx1CCSH1Su3rQaNHzEdx1eiStEecWDoKZ --store=true --relay=true
2026-02-05 04:36:27.042 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.56.243 waku 948d37c7c267938339d94aa13a5e2a476c0a5c2c1e2bf8f773f360d66d11d447
2026-02-05 04:36:27.074 DEBUG [src.node.docker_mananger] Container started with ID 948d37c7c267. Setting up logs at ./log/docker/store_node1_2026-02-05_04-36-25__b5119255-b43e-4c63-bc1e-f62f8d2e821b__wakuorg_nwaku:latest.log
2026-02-05 04:36:27.074 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 19865
2026-02-05 04:36:27.074 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-05 04:36:28.075 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19865/health" -H "Content-Type: application/json" -d 'None'
2026-02-05 04:36:28.079 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"READY"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"READY"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"READY"},{"Legacy Store Client":"READY"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-05 04:36:28.079 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-05 04:36:28.079 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19865/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-05 04:36:28.082 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.56.243/tcp/19866/p2p/16Uiu2HAmTCWB6Gs7ZPFTF7453scCrPZqUnnKKifM5aK8TAVvUxTk","/ip4/172.18.56.243/tcp/19867/ws/p2p/16Uiu2HAmTCWB6Gs7ZPFTF7453scCrPZqUnnKKifM5aK8TAVvUxTk"],"enrUri":"enr:-L24QIgbGto35YNoq5YenU_k69t6_8JZZxhZL3i55BEmmcMbLlNmx_WKlwkng9Ux824GUm8mn5Iv7PEpDrOStbYXYMkCgmlkgnY0gmlwhKwSOPOKbXVsdGlhZGRyc5YACASsEjjzBk2aAAoErBI48wZNm90DgnJzhQADAQAAiXNlY3AyNTZrMaED2BZYJx1uA563TwOHfPMHlEaP0rxgq3FBtqGoio91lRODdGNwgk2ag3VkcIJNnIV3YWt1MgM"}'
2026-02-05 04:36:28.082 INFO [src.node.waku_node] REST service is ready !!
2026-02-05 04:36:28.082 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:19865/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.34.199/tcp/34663/p2p/16Uiu2HAm1GtZVxBChqJzx1CCSH1Su3rQaNHzEdx1eiStEecWDoKZ"]'
2026-02-05 04:36:28.085 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-05 04:36:28.085 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:34662/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-05 04:36:28.088 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-05 04:36:28.088 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:19865/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-05 04:36:28.090 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-05 04:36:28.092 DEBUG [src.steps.store] Relaying message
2026-02-05 04:36:28.092 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:34662/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8w", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-05 04:36:28.097 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-05 04:36:28.097 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-05 04:36:28.298 DEBUG [src.steps.store] Relaying message
2026-02-05 04:36:28.299 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:34662/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8x", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-05 04:36:28.305 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-05 04:36:28.305 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-05 04:36:28.506 DEBUG [src.steps.store] Relaying message
2026-02-05 04:36:28.506 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:34662/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8y", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-05 04:36:28.512 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-05 04:36:28.512 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-05 04:36:28.713 DEBUG [src.steps.store] Relaying message
2026-02-05 04:36:28.713 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:34662/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8z", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-05 04:36:28.719 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-05 04:36:28.719 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-05 04:36:28.920 DEBUG [src.steps.store] Relaying message
2026-02-05 04:36:28.921 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:34662/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV80", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-05 04:36:28.926 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-05 04:36:28.926 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-05 04:36:29.127 DEBUG [src.steps.store] Relaying message
2026-02-05 04:36:29.128 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:34662/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV81", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-05 04:36:29.133 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-05 04:36:29.133 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-05 04:36:29.334 DEBUG [src.steps.store] Relaying message
2026-02-05 04:36:29.335 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:34662/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV82", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-05 04:36:29.341 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-05 04:36:29.341 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-05 04:36:29.542 DEBUG [src.steps.store] Relaying message
2026-02-05 04:36:29.542 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:34662/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV83", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-05 04:36:29.547 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-05 04:36:29.548 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-05 04:36:29.749 DEBUG [src.steps.store] Relaying message
2026-02-05 04:36:29.749 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:34662/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV84", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-05 04:36:29.754 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-05 04:36:29.754 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-05 04:36:29.956 DEBUG [src.steps.store] Relaying message
2026-02-05 04:36:29.956 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:34662/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV85", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-05 04:36:29.962 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-05 04:36:29.962 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-05 04:36:30.163 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:34662/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=5&ascending=true" -H "Content-Type: application/json" -d 'None'
2026-02-05 04:36:30.166 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x48d6e6f95c6ef623dc0134ce7019599a0c30704071e92c9fd3891e9050cc3d45"},{"messageHash":"0xa8ab85b290734e46a6c1f5317fd9a2c9c62da7f48457188e110d69805ceaf8f8"},{"messageHash":"0xcc99b59812f53941c0bb87bf8813a2820dc076f9ac109f32e74ef3e1e1723b1f"},{"messageHash":"0xa85f885694a451385795b888ca7d7ba69f6d5331f7b9bdbcf520d36ae2646bb5"},{"messageHash":"0xb22807aaf81f703d786147f47fd142f98e6f727ceaeb295e091076947088620b"}],"paginationCursor":"0xb22807aaf81f703d786147f47fd142f98e6f727ceaeb295e091076947088620b"}'
2026-02-05 04:36:30.167 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19865/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=5&ascending=true" -H "Content-Type: application/json" -d 'None'
2026-02-05 04:36:30.170 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x48d6e6f95c6ef623dc0134ce7019599a0c30704071e92c9fd3891e9050cc3d45"},{"messageHash":"0xa8ab85b290734e46a6c1f5317fd9a2c9c62da7f48457188e110d69805ceaf8f8"},{"messageHash":"0xcc99b59812f53941c0bb87bf8813a2820dc076f9ac109f32e74ef3e1e1723b1f"},{"messageHash":"0xa85f885694a451385795b888ca7d7ba69f6d5331f7b9bdbcf520d36ae2646bb5"},{"messageHash":"0xb22807aaf81f703d786147f47fd142f98e6f727ceaeb295e091076947088620b"}],"paginationCursor":"0xb22807aaf81f703d786147f47fd142f98e6f727ceaeb295e091076947088620b"}'
2026-02-05 04:36:30.172 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-02-05 04:36:30.173 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-02-05 04:36:30.173 DEBUG [src.node.waku_node] Stopping container with id 032de2d06bfc
2026-02-05 04:36:30.745 DEBUG [src.node.waku_node] Container stopped.
2026-02-05 04:36:30.745 DEBUG [src.node.waku_node] Stopping container with id 948d37c7c267
2026-02-05 04:36:31.286 DEBUG [src.node.waku_node] Container stopped.
2026-02-05 04:36:31.288 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-02-05 04:36:31.295 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-05 04:36:31.303 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
