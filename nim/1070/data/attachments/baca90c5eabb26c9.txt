2026-02-05 04:39:26.112 DEBUG [tests.conftest] Running fixture setup: test_id
2026-02-05 04:39:26.113 DEBUG [tests.conftest] Running test: test_light_push_with_valid_timestamps with id: 2026-02-05_04-39-26__b5f9c9d9-f675-4e61-9aae-7123d6c6c7c8
2026-02-05 04:39:26.113 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-02-05 04:39:26.113 DEBUG [src.steps.light_push] Running fixture setup: light_push_setup
2026-02-05 04:39:26.120 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-05 04:39:26.120 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node1_2026-02-05_04-39-26__b5f9c9d9-f675-4e61-9aae-7123d6c6c7c8__wakuorg_nwaku:latest.log
2026-02-05 04:39:26.120 DEBUG [src.node.waku_node] Starting Node...
2026-02-05 04:39:26.120 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-05 04:39:26.122 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-05 04:39:26.122 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.177.238
2026-02-05 04:39:26.122 DEBUG [src.node.docker_mananger] Generated ports ['31003', '31004', '31005', '31006', '31007']
2026-02-05 04:39:26.122 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-05 04:39:26.122 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-05 04:39:26.122 DEBUG [src.node.waku_node] Using volumes []
2026-02-05 04:39:26.123 DEBUG [src.node.docker_mananger] docker run -i -t -p 31003:31003 -p 31004:31004 -p 31005:31005 -p 31006:31006 -p 31007:31007 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=31005 --rest-port=31003 --tcp-port=31004 --discv5-udp-port=31006 --rest-address=0.0.0.0 --nat=extip:172.18.177.238 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=0a55f7be2da5d285c7f932bea8efd84dd04ca21aefbb6621cb0adab5d9ef0dfc --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=31007 --metrics-logging=true --lightpush=true --relay=true
2026-02-05 04:39:26.313 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.177.238 waku 43dacde263a108d636134d7edb5ac9fb75147bed7db44a53ec0e19342fcc2bde
2026-02-05 04:39:26.350 DEBUG [src.node.docker_mananger] Container started with ID 43dacde263a1. Setting up logs at ./log/docker/receiving_node1_2026-02-05_04-39-26__b5f9c9d9-f675-4e61-9aae-7123d6c6c7c8__wakuorg_nwaku:latest.log
2026-02-05 04:39:26.351 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 31003
2026-02-05 04:39:26.352 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-05 04:39:26.376 ERROR [src.node.docker_mananger] Max retries reached for container d3b50ef53503. Exiting log stream.
2026-02-05 04:39:26.905 ERROR [src.node.docker_mananger] Max retries reached for container 7475fe62b361. Exiting log stream.
2026-02-05 04:39:27.352 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31003/health" -H "Content-Type: application/json" -d 'None'
2026-02-05 04:39:27.355 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_READY","desc":"Node has no relay peers to fullfill push requests"},{"Legacy Lightpush":"NOT_READY","desc":"Node has no relay peers to fullfill push requests"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-05 04:39:27.355 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-05 04:39:27.355 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31003/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-05 04:39:27.358 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.177.238/tcp/31004/p2p/16Uiu2HAkzzncftr5oJVQDkLnSH22FSfeCqcKtgGZNuJdYbdAJ7yS","/ip4/172.18.177.238/tcp/31005/ws/p2p/16Uiu2HAkzzncftr5oJVQDkLnSH22FSfeCqcKtgGZNuJdYbdAJ7yS"],"enrUri":"enr:-L24QJe3RsZSfa-T_r3BnXfWN_Tdj5j0yKQz6qtpVSnRQLvre363D0bWU4phA-xS54A6PCFHEmq-8a3RFJ3vovr6nQQCgmlkgnY0gmlwhKwSse6KbXVsdGlhZGRyc5YACASsErHuBnkcAAoErBKx7gZ5Hd0DgnJzhQADAQAAiXNlY3AyNTZrMaECUsYav2hRIIeZ-_g7B81M_Mv3jFBuXeO8qDizp9-OSFmDdGNwgnkcg3VkcIJ5HoV3YWt1Mgk"}'
2026-02-05 04:39:27.358 INFO [src.node.waku_node] REST service is ready !!
2026-02-05 04:39:27.365 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-05 04:39:27.365 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node2_2026-02-05_04-39-26__b5f9c9d9-f675-4e61-9aae-7123d6c6c7c8__wakuorg_nwaku:latest.log
2026-02-05 04:39:27.365 DEBUG [src.node.waku_node] Starting Node...
2026-02-05 04:39:27.365 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-05 04:39:27.366 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-05 04:39:27.367 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.108.81
2026-02-05 04:39:27.367 DEBUG [src.node.docker_mananger] Generated ports ['33136', '33137', '33138', '33139', '33140']
2026-02-05 04:39:27.367 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-05 04:39:27.367 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-05 04:39:27.367 DEBUG [src.node.waku_node] Using volumes []
2026-02-05 04:39:27.367 DEBUG [src.node.docker_mananger] docker run -i -t -p 33136:33136 -p 33137:33137 -p 33138:33138 -p 33139:33139 -p 33140:33140 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=33138 --rest-port=33136 --tcp-port=33137 --discv5-udp-port=33139 --rest-address=0.0.0.0 --nat=extip:172.18.108.81 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=aabcff123fdbaac75ac24daaf3f52eeee7ff63e20bae1b6d6ee2e509dad68fe4 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=33140 --metrics-logging=true --lightpush=false --relay=true
2026-02-05 04:39:27.549 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.108.81 waku 3889971c93ef0b41369b58abab66bef095d6152f65808db21635bceed6104ad8
2026-02-05 04:39:27.580 DEBUG [src.node.docker_mananger] Container started with ID 3889971c93ef. Setting up logs at ./log/docker/receiving_node2_2026-02-05_04-39-26__b5f9c9d9-f675-4e61-9aae-7123d6c6c7c8__wakuorg_nwaku:latest.log
2026-02-05 04:39:27.581 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 33136
2026-02-05 04:39:27.581 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-05 04:39:28.581 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:33136/health" -H "Content-Type: application/json" -d 'None'
2026-02-05 04:39:28.584 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-05 04:39:28.585 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-05 04:39:28.585 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:33136/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-05 04:39:28.587 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.108.81/tcp/33137/p2p/16Uiu2HAmApJBSiXLpXe6T5VgoHABuR9SZJikrh5kCVfDafbur7i8","/ip4/172.18.108.81/tcp/33138/ws/p2p/16Uiu2HAmApJBSiXLpXe6T5VgoHABuR9SZJikrh5kCVfDafbur7i8"],"enrUri":"enr:-L24QAmfEVZkJGW6BYuApKYp5kTAA00YCMXOlVsqmvkceifiQJtwPoS-juIy5x8Y8MYr72TpAA2ttmU6FCJBtpyhC9MCgmlkgnY0gmlwhKwSbFGKbXVsdGlhZGRyc5YACASsEmxRBoFxAAoErBJsUQaBct0DgnJzhQADAQAAiXNlY3AyNTZrMaEC5KsDn448KvN47dp1pSZ6Vc5aQPsNzqOiS59hcT-0KFGDdGNwgoFxg3VkcIKBc4V3YWt1MgE"}'
2026-02-05 04:39:28.587 INFO [src.node.waku_node] REST service is ready !!
2026-02-05 04:39:28.587 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:33136/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.177.238/tcp/31004/p2p/16Uiu2HAkzzncftr5oJVQDkLnSH22FSfeCqcKtgGZNuJdYbdAJ7yS"]'
2026-02-05 04:39:28.618 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-05 04:39:28.628 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-05 04:39:28.628 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/lightpush_node1_2026-02-05_04-39-26__b5f9c9d9-f675-4e61-9aae-7123d6c6c7c8__wakuorg_nwaku:latest.log
2026-02-05 04:39:28.629 DEBUG [src.node.waku_node] Starting Node...
2026-02-05 04:39:28.631 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-05 04:39:28.637 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-05 04:39:28.637 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.152.101
2026-02-05 04:39:28.638 DEBUG [src.node.docker_mananger] Generated ports ['1928', '1929', '1930', '1931', '1932']
2026-02-05 04:39:28.638 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-05 04:39:28.638 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-05 04:39:28.638 DEBUG [src.node.waku_node] Using volumes []
2026-02-05 04:39:28.638 DEBUG [src.node.docker_mananger] docker run -i -t -p 1928:1928 -p 1929:1929 -p 1930:1930 -p 1931:1931 -p 1932:1932 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=1930 --rest-port=1928 --tcp-port=1929 --discv5-udp-port=1931 --rest-address=0.0.0.0 --nat=extip:172.18.152.101 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=725fb1dcfacf37ebcadef0bdfbde6cd5d3dc7b901d86b3d4e36cd824f7de4fc8 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=1932 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QJe3RsZSfa-T_r3BnXfWN_Tdj5j0yKQz6qtpVSnRQLvre363D0bWU4phA-xS54A6PCFHEmq-8a3RFJ3vovr6nQQCgmlkgnY0gmlwhKwSse6KbXVsdGlhZGRyc5YACASsErHuBnkcAAoErBKx7gZ5Hd0DgnJzhQADAQAAiXNlY3AyNTZrMaECUsYav2hRIIeZ-_g7B81M_Mv3jFBuXeO8qDizp9-OSFmDdGNwgnkcg3VkcIJ5HoV3YWt1Mgk --lightpushnode=/ip4/172.18.177.238/tcp/31004/p2p/16Uiu2HAkzzncftr5oJVQDkLnSH22FSfeCqcKtgGZNuJdYbdAJ7yS --lightpush=true --relay=true
2026-02-05 04:39:28.834 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.152.101 waku b42dc8f1816b8a764ae1cc9551ceea25aafc500612f3002d1d265277f7460722
2026-02-05 04:39:28.865 DEBUG [src.node.docker_mananger] Container started with ID b42dc8f1816b. Setting up logs at ./log/docker/lightpush_node1_2026-02-05_04-39-26__b5f9c9d9-f675-4e61-9aae-7123d6c6c7c8__wakuorg_nwaku:latest.log
2026-02-05 04:39:28.865 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 1928
2026-02-05 04:39:28.866 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-05 04:39:29.866 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1928/health" -H "Content-Type: application/json" -d 'None'
2026-02-05 04:39:29.877 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_READY","desc":"Node has no relay peers to fullfill push requests"},{"Legacy Lightpush":"NOT_READY","desc":"Node has no relay peers to fullfill push requests"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"READY"},{"Legacy Lightpush Client":"READY"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-05 04:39:29.878 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-05 04:39:29.879 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1928/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-05 04:39:29.892 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.152.101/tcp/1929/p2p/16Uiu2HAm1vc8fyXrXtVjCPQkdi2YXSRNwCeBbjYhxRrTmjeFtUkt","/ip4/172.18.152.101/tcp/1930/ws/p2p/16Uiu2HAm1vc8fyXrXtVjCPQkdi2YXSRNwCeBbjYhxRrTmjeFtUkt"],"enrUri":"enr:-L24QPs9Nzxg9ZfDLLMg6pMRL_gEiwYL32q9qLQb5_Bk5034au1KVJsndwXC_JMRUoybp1ccO7s4UKG6C6fZ5RITxf8CgmlkgnY0gmlwhKwSmGWKbXVsdGlhZGRyc5YACASsEphlBgeJAAoErBKYZQYHit0DgnJzhQADAQAAiXNlY3AyNTZrMaECYI-dhMkKImVQgT4rx32wj_K0xrXtjzAl7AuORhvGGjWDdGNwggeJg3VkcIIHi4V3YWt1Mgk"}'
2026-02-05 04:39:29.893 INFO [src.node.waku_node] REST service is ready !!
2026-02-05 04:39:29.893 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:1928/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.177.238/tcp/31004/p2p/16Uiu2HAkzzncftr5oJVQDkLnSH22FSfeCqcKtgGZNuJdYbdAJ7yS"]'
2026-02-05 04:39:29.898 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-05 04:39:29.898 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:1928/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.108.81/tcp/33137/p2p/16Uiu2HAmApJBSiXLpXe6T5VgoHABuR9SZJikrh5kCVfDafbur7i8"]'
2026-02-05 04:39:29.924 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-05 04:39:29.925 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:31003/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-05 04:39:29.930 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-05 04:39:29.930 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:33136/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-05 04:39:29.934 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-05 04:39:29.935 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:1928/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-05 04:39:29.937 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-05 04:39:29.938 DEBUG [tests.light_push.test_publish] Running test with timestamp Now
2026-02-05 04:39:29.939 DEBUG [src.steps.light_push] Lightpushing message
2026-02-05 04:39:29.939 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:1928/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1770265968696976896}}'
2026-02-05 04:39:29.952 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-05 04:39:29.953 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-05 04:39:30.054 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2026-02-05 04:39:30.054 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31003/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-05 04:39:30.057 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770265968696976896,"ephemeral":false,"proof":""}]'
2026-02-05 04:39:30.059 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2026-02-05 04:39:30.059 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:33136/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-05 04:39:30.061 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770265968696976896,"ephemeral":false,"proof":""}]'
2026-02-05 04:39:30.062 DEBUG [src.steps.light_push] Checking that peer NODE_3:wakuorg/nwaku:latest can find the lightpushed message
2026-02-05 04:39:30.062 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1928/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-05 04:39:30.065 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770265968696976896,"ephemeral":false,"proof":""}]'
2026-02-05 04:39:30.066 DEBUG [tests.light_push.test_publish] Running test with timestamp Far future
2026-02-05 04:39:30.066 DEBUG [src.steps.light_push] Lightpushing message
2026-02-05 04:39:30.067 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:1928/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 2085625968696963072}}'
2026-02-05 04:39:30.079 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-05 04:39:30.079 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-05 04:39:30.182 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2026-02-05 04:39:30.182 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31003/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-05 04:39:30.184 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":2085625968696963072,"ephemeral":false,"proof":""}]'
2026-02-05 04:39:30.186 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2026-02-05 04:39:30.186 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:33136/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-05 04:39:30.188 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":2085625968696963072,"ephemeral":false,"proof":""}]'
2026-02-05 04:39:30.189 DEBUG [src.steps.light_push] Checking that peer NODE_3:wakuorg/nwaku:latest can find the lightpushed message
2026-02-05 04:39:30.190 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1928/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-05 04:39:30.192 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":2085625968696963072,"ephemeral":false,"proof":""}]'
2026-02-05 04:39:30.193 DEBUG [tests.light_push.test_publish] Running test with timestamp Recent past
2026-02-05 04:39:30.194 DEBUG [src.steps.light_push] Lightpushing message
2026-02-05 04:39:30.194 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:1928/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1770262368696963072}}'
2026-02-05 04:39:30.206 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-05 04:39:30.207 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-05 04:39:30.308 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2026-02-05 04:39:30.308 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31003/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-05 04:39:30.311 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770262368696963072,"ephemeral":false,"proof":""}]'
2026-02-05 04:39:30.312 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2026-02-05 04:39:30.312 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:33136/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-05 04:39:30.315 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770262368696963072,"ephemeral":false,"proof":""}]'
2026-02-05 04:39:30.316 DEBUG [src.steps.light_push] Checking that peer NODE_3:wakuorg/nwaku:latest can find the lightpushed message
2026-02-05 04:39:30.316 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1928/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-05 04:39:30.318 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770262368696963072,"ephemeral":false,"proof":""}]'
2026-02-05 04:39:30.320 DEBUG [tests.light_push.test_publish] Running test with timestamp Near future
2026-02-05 04:39:30.320 DEBUG [src.steps.light_push] Lightpushing message
2026-02-05 04:39:30.320 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:1928/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1770269568696963072}}'
2026-02-05 04:39:30.331 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-05 04:39:30.333 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-05 04:39:30.434 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2026-02-05 04:39:30.434 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31003/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-05 04:39:30.437 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770269568696963072,"ephemeral":false,"proof":""}]'
2026-02-05 04:39:30.438 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2026-02-05 04:39:30.438 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:33136/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-05 04:39:30.440 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770269568696963072,"ephemeral":false,"proof":""}]'
2026-02-05 04:39:30.442 DEBUG [src.steps.light_push] Checking that peer NODE_3:wakuorg/nwaku:latest can find the lightpushed message
2026-02-05 04:39:30.442 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1928/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-05 04:39:30.444 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770269568696963072,"ephemeral":false,"proof":""}]'
2026-02-05 04:39:30.446 DEBUG [tests.light_push.test_publish] Running test with timestamp Positive number
2026-02-05 04:39:30.446 DEBUG [src.steps.light_push] Lightpushing message
2026-02-05 04:39:30.446 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:1928/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1}}'
2026-02-05 04:39:30.458 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-05 04:39:30.458 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-05 04:39:30.560 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2026-02-05 04:39:30.560 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31003/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-05 04:39:30.563 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1,"ephemeral":false,"proof":""}]'
2026-02-05 04:39:30.565 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2026-02-05 04:39:30.565 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:33136/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-05 04:39:30.567 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1,"ephemeral":false,"proof":""}]'
2026-02-05 04:39:30.568 DEBUG [src.steps.light_push] Checking that peer NODE_3:wakuorg/nwaku:latest can find the lightpushed message
2026-02-05 04:39:30.568 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1928/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-05 04:39:30.571 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1,"ephemeral":false,"proof":""}]'
2026-02-05 04:39:30.572 DEBUG [tests.light_push.test_publish] Running test with timestamp Negative number
2026-02-05 04:39:30.573 DEBUG [src.steps.light_push] Lightpushing message
2026-02-05 04:39:30.573 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:1928/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": -1}}'
2026-02-05 04:39:30.584 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-05 04:39:30.586 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-05 04:39:30.687 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2026-02-05 04:39:30.687 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31003/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-05 04:39:30.690 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":-1,"ephemeral":false,"proof":""}]'
2026-02-05 04:39:30.691 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2026-02-05 04:39:30.692 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:33136/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-05 04:39:30.694 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":-1,"ephemeral":false,"proof":""}]'
2026-02-05 04:39:30.695 DEBUG [src.steps.light_push] Checking that peer NODE_3:wakuorg/nwaku:latest can find the lightpushed message
2026-02-05 04:39:30.695 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1928/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-05 04:39:30.697 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":-1,"ephemeral":false,"proof":""}]'
2026-02-05 04:39:30.699 DEBUG [tests.light_push.test_publish] Running test with timestamp DST change
2026-02-05 04:39:30.699 DEBUG [src.steps.light_push] Lightpushing message
2026-02-05 04:39:30.699 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:1928/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1583632800000000000}}'
2026-02-05 04:39:30.713 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-05 04:39:30.713 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-05 04:39:30.814 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2026-02-05 04:39:30.814 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31003/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-05 04:39:30.817 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1583632800000000000,"ephemeral":false,"proof":""}]'
2026-02-05 04:39:30.818 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2026-02-05 04:39:30.818 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:33136/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-05 04:39:30.821 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1583632800000000000,"ephemeral":false,"proof":""}]'
2026-02-05 04:39:30.822 DEBUG [src.steps.light_push] Checking that peer NODE_3:wakuorg/nwaku:latest can find the lightpushed message
2026-02-05 04:39:30.822 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1928/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-05 04:39:30.825 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1583632800000000000,"ephemeral":false,"proof":""}]'
2026-02-05 04:39:30.827 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-02-05 04:39:30.829 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-02-05 04:39:30.829 DEBUG [src.node.waku_node] Stopping container with id 43dacde263a1
2026-02-05 04:39:31.388 DEBUG [src.node.waku_node] Container stopped.
2026-02-05 04:39:31.388 DEBUG [src.node.waku_node] Stopping container with id 3889971c93ef
2026-02-05 04:39:31.999 DEBUG [src.node.waku_node] Container stopped.
2026-02-05 04:39:31.999 DEBUG [src.node.waku_node] Stopping container with id b42dc8f1816b
2026-02-05 04:39:32.206 ERROR [src.node.docker_mananger] Max retries reached for container 43dacde263a1. Exiting log stream.
2026-02-05 04:39:32.499 DEBUG [src.node.waku_node] Container stopped.
2026-02-05 04:39:32.500 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-02-05 04:39:32.515 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-05 04:39:32.525 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-05 04:39:32.538 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
