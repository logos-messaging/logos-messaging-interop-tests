2026-02-05 04:42:29.042 DEBUG [tests.conftest] Running fixture setup: test_id
2026-02-05 04:42:29.042 DEBUG [tests.conftest] Running test: test_store_sort_ascending[false] with id: 2026-02-05_04-42-29__3a6cd2c8-d66b-47e5-8357-00fa14422fa2
2026-02-05 04:42:29.043 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-02-05 04:42:29.043 DEBUG [src.steps.store] Running fixture setup: store_setup
2026-02-05 04:42:29.043 DEBUG [src.steps.store] Running fixture setup: node_setup
2026-02-05 04:42:29.049 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-05 04:42:29.049 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/publishing_node1_2026-02-05_04-42-29__3a6cd2c8-d66b-47e5-8357-00fa14422fa2__wakuorg_nwaku:latest.log
2026-02-05 04:42:29.049 DEBUG [src.node.waku_node] Starting Node...
2026-02-05 04:42:29.050 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-05 04:42:29.051 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-05 04:42:29.051 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.37.108
2026-02-05 04:42:29.051 DEBUG [src.node.docker_mananger] Generated ports ['47835', '47836', '47837', '47838', '47839']
2026-02-05 04:42:29.051 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-05 04:42:29.051 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-05 04:42:29.051 DEBUG [src.node.waku_node] Using volumes []
2026-02-05 04:42:29.052 DEBUG [src.node.docker_mananger] docker run -i -t -p 47835:47835 -p 47836:47836 -p 47837:47837 -p 47838:47838 -p 47839:47839 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=47837 --rest-port=47835 --tcp-port=47836 --discv5-udp-port=47838 --rest-address=0.0.0.0 --nat=extip:172.18.37.108 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fb11bdaf9dba72a77bdc0ce8cfbbabcf72aadbcb2f444f9387e6ae1fdba0fd83 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=47839 --metrics-logging=true --store=true --relay=true
2026-02-05 04:42:29.225 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.37.108 waku 2806d4cd8e5f7e63100c970adc635444cd69410c8e823da814e99a19d4ada700
2026-02-05 04:42:29.256 DEBUG [src.node.docker_mananger] Container started with ID 2806d4cd8e5f. Setting up logs at ./log/docker/publishing_node1_2026-02-05_04-42-29__3a6cd2c8-d66b-47e5-8357-00fa14422fa2__wakuorg_nwaku:latest.log
2026-02-05 04:42:29.257 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 47835
2026-02-05 04:42:29.258 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-05 04:42:29.302 ERROR [src.node.docker_mananger] Max retries reached for container 0c6b224ce511. Exiting log stream.
2026-02-05 04:42:29.841 ERROR [src.node.docker_mananger] Max retries reached for container 415a84284353. Exiting log stream.
2026-02-05 04:42:30.258 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:47835/health" -H "Content-Type: application/json" -d 'None'
2026-02-05 04:42:30.261 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"READY"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"READY"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-05 04:42:30.262 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-05 04:42:30.262 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:47835/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-05 04:42:30.264 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.37.108/tcp/47836/p2p/16Uiu2HAkveA3NMXGxAPPt8mq6GtSkDVJuWRv3Sx7mww8mUSRARei","/ip4/172.18.37.108/tcp/47837/ws/p2p/16Uiu2HAkveA3NMXGxAPPt8mq6GtSkDVJuWRv3Sx7mww8mUSRARei"],"enrUri":"enr:-L24QAW7vC5D__7s7zfRGrKRKZDfb5F-jTvNctigZRFcO3jFKcBVbHFb4fy9IKplaG4X3UCdqfZHiuiupV4TsiSgJ8sCgmlkgnY0gmlwhKwSJWyKbXVsdGlhZGRyc5YACASsEiVsBrrcAAoErBIlbAa63d0DgnJzhQADAQAAiXNlY3AyNTZrMaECEg5i030DOhXV8mLmZShXsHwGlAFI0i90fxz1RCJtdzODdGNwgrrcg3VkcIK63oV3YWt1MgM"}'
2026-02-05 04:42:30.264 INFO [src.node.waku_node] REST service is ready !!
2026-02-05 04:42:30.271 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-05 04:42:30.271 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/store_node1_2026-02-05_04-42-29__3a6cd2c8-d66b-47e5-8357-00fa14422fa2__wakuorg_nwaku:latest.log
2026-02-05 04:42:30.271 DEBUG [src.node.waku_node] Starting Node...
2026-02-05 04:42:30.271 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-05 04:42:30.272 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-05 04:42:30.272 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.141.17
2026-02-05 04:42:30.272 DEBUG [src.node.docker_mananger] Generated ports ['41769', '41770', '41771', '41772', '41773']
2026-02-05 04:42:30.273 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-05 04:42:30.273 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-05 04:42:30.273 DEBUG [src.node.waku_node] Using volumes []
2026-02-05 04:42:30.273 DEBUG [src.node.docker_mananger] docker run -i -t -p 41769:41769 -p 41770:41770 -p 41771:41771 -p 41772:41772 -p 41773:41773 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=41771 --rest-port=41769 --tcp-port=41770 --discv5-udp-port=41772 --rest-address=0.0.0.0 --nat=extip:172.18.141.17 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ebf3f71ded34a22802d7720a9d9ad09a2ecf87bb64acbc0e287300ffdac53b0b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=41773 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QAW7vC5D__7s7zfRGrKRKZDfb5F-jTvNctigZRFcO3jFKcBVbHFb4fy9IKplaG4X3UCdqfZHiuiupV4TsiSgJ8sCgmlkgnY0gmlwhKwSJWyKbXVsdGlhZGRyc5YACASsEiVsBrrcAAoErBIlbAa63d0DgnJzhQADAQAAiXNlY3AyNTZrMaECEg5i030DOhXV8mLmZShXsHwGlAFI0i90fxz1RCJtdzODdGNwgrrcg3VkcIK63oV3YWt1MgM --storenode=/ip4/172.18.37.108/tcp/47836/p2p/16Uiu2HAkveA3NMXGxAPPt8mq6GtSkDVJuWRv3Sx7mww8mUSRARei --store=true --relay=true
2026-02-05 04:42:30.454 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.141.17 waku acb443a6814a1c0bb101e75ad09712aeebe472b5afc717b1785a28a492afba24
2026-02-05 04:42:30.485 DEBUG [src.node.docker_mananger] Container started with ID acb443a6814a. Setting up logs at ./log/docker/store_node1_2026-02-05_04-42-29__3a6cd2c8-d66b-47e5-8357-00fa14422fa2__wakuorg_nwaku:latest.log
2026-02-05 04:42:30.485 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 41769
2026-02-05 04:42:30.485 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-05 04:42:31.487 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41769/health" -H "Content-Type: application/json" -d 'None'
2026-02-05 04:42:31.490 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"READY"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"READY"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"READY"},{"Legacy Store Client":"READY"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-05 04:42:31.491 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-05 04:42:31.491 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41769/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-05 04:42:31.493 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.141.17/tcp/41770/p2p/16Uiu2HAkvZRYGGXGCQbRzZsmmQS3wfYzC99SPKbw65S95QpPMcjD","/ip4/172.18.141.17/tcp/41771/ws/p2p/16Uiu2HAkvZRYGGXGCQbRzZsmmQS3wfYzC99SPKbw65S95QpPMcjD"],"enrUri":"enr:-L24QMnoKpa3jpVnAJr2YN7hkYHSUKOSESkmRKkUoIczCBrmC9uMknKdCBopHyIboI6Z2LcVxtBM5Y2lLUqA_DV7ohkCgmlkgnY0gmlwhKwSjRGKbXVsdGlhZGRyc5YACASsEo0RBqMqAAoErBKNEQajK90DgnJzhQADAQAAiXNlY3AyNTZrMaECENgBf6vvWVZOvCLAf-SVLwvM718QaQk8WRoS9xhPnByDdGNwgqMqg3VkcIKjLIV3YWt1MgM"}'
2026-02-05 04:42:31.493 INFO [src.node.waku_node] REST service is ready !!
2026-02-05 04:42:31.494 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:41769/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.37.108/tcp/47836/p2p/16Uiu2HAkveA3NMXGxAPPt8mq6GtSkDVJuWRv3Sx7mww8mUSRARei"]'
2026-02-05 04:42:31.496 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-05 04:42:31.497 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:47835/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-05 04:42:31.499 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-05 04:42:31.499 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:41769/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-05 04:42:31.501 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-05 04:42:31.502 DEBUG [src.steps.store] Relaying message
2026-02-05 04:42:31.502 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:47835/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8w", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-05 04:42:31.508 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-05 04:42:31.508 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-05 04:42:31.708 DEBUG [src.steps.store] Relaying message
2026-02-05 04:42:31.708 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:47835/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8x", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-05 04:42:31.713 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-05 04:42:31.713 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-05 04:42:31.914 DEBUG [src.steps.store] Relaying message
2026-02-05 04:42:31.914 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:47835/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8y", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-05 04:42:31.919 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-05 04:42:31.919 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-05 04:42:32.120 DEBUG [src.steps.store] Relaying message
2026-02-05 04:42:32.120 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:47835/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8z", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-05 04:42:32.124 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-05 04:42:32.125 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-05 04:42:32.326 DEBUG [src.steps.store] Relaying message
2026-02-05 04:42:32.326 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:47835/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV80", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-05 04:42:32.331 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-05 04:42:32.331 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-05 04:42:32.532 DEBUG [src.steps.store] Relaying message
2026-02-05 04:42:32.532 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:47835/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV81", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-05 04:42:32.537 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-05 04:42:32.538 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-05 04:42:32.739 DEBUG [src.steps.store] Relaying message
2026-02-05 04:42:32.739 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:47835/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV82", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-05 04:42:32.743 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-05 04:42:32.744 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-05 04:42:32.945 DEBUG [src.steps.store] Relaying message
2026-02-05 04:42:32.945 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:47835/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV83", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-05 04:42:32.950 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-05 04:42:32.950 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-05 04:42:33.151 DEBUG [src.steps.store] Relaying message
2026-02-05 04:42:33.151 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:47835/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV84", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-05 04:42:33.156 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-05 04:42:33.156 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-05 04:42:33.357 DEBUG [src.steps.store] Relaying message
2026-02-05 04:42:33.357 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:47835/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV85", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-05 04:42:33.361 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-05 04:42:33.362 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-05 04:42:33.562 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:47835/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=5&ascending=false" -H "Content-Type: application/json" -d 'None'
2026-02-05 04:42:33.565 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x8b76a6e98de9736f0394451770f64496ff009a04a1a75f551bef22158863a3fc"},{"messageHash":"0x232f6484c82695287e1e3b20b36aaef7cdb04d7a4a733538059a8a07ac3ead01"},{"messageHash":"0x0b4b6b98733faa7323bb274bfe24a8046f96e5180c2affa0972b29bb15707e27"},{"messageHash":"0xfa6da1f52a516b392c387dbf278f107860aac3dd3c005f06238e3235bcaa9d5a"},{"messageHash":"0x95bed47e5c65667e8bc4f4c9588f32321a787d8ea35f926b7464a53fc542c294"}],"paginationCursor":"0x8b76a6e98de9736f0394451770f64496ff009a04a1a75f551bef22158863a3fc"}'
2026-02-05 04:42:33.566 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41769/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=5&ascending=false" -H "Content-Type: application/json" -d 'None'
2026-02-05 04:42:33.568 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x8b76a6e98de9736f0394451770f64496ff009a04a1a75f551bef22158863a3fc"},{"messageHash":"0x232f6484c82695287e1e3b20b36aaef7cdb04d7a4a733538059a8a07ac3ead01"},{"messageHash":"0x0b4b6b98733faa7323bb274bfe24a8046f96e5180c2affa0972b29bb15707e27"},{"messageHash":"0xfa6da1f52a516b392c387dbf278f107860aac3dd3c005f06238e3235bcaa9d5a"},{"messageHash":"0x95bed47e5c65667e8bc4f4c9588f32321a787d8ea35f926b7464a53fc542c294"}],"paginationCursor":"0x8b76a6e98de9736f0394451770f64496ff009a04a1a75f551bef22158863a3fc"}'
2026-02-05 04:42:33.570 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-02-05 04:42:33.571 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-02-05 04:42:33.571 DEBUG [src.node.waku_node] Stopping container with id 2806d4cd8e5f
2026-02-05 04:42:34.102 DEBUG [src.node.waku_node] Container stopped.
2026-02-05 04:42:34.103 DEBUG [src.node.waku_node] Stopping container with id acb443a6814a
2026-02-05 04:42:34.586 DEBUG [src.node.waku_node] Container stopped.
2026-02-05 04:42:34.588 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-02-05 04:42:34.595 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-05 04:42:34.603 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
