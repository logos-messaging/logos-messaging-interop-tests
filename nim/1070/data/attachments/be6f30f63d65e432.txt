2026-02-05 04:34:45.133 DEBUG [tests.conftest] Running fixture setup: test_id
2026-02-05 04:34:45.135 DEBUG [tests.conftest] Running test: test_filter_subscribe_with_no_pubsub_topic with id: 2026-02-05_04-34-45__2a42baa5-b95d-424d-aeec-4ae0ec202d0f
2026-02-05 04:34:45.135 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-02-05 04:34:45.136 DEBUG [src.steps.filter] Running fixture setup: filter_setup
2026-02-05 04:34:45.136 DEBUG [src.steps.filter] Running fixture setup: setup_main_relay_node
2026-02-05 04:34:45.144 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-05 04:34:45.144 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2026-02-05_04-34-45__2a42baa5-b95d-424d-aeec-4ae0ec202d0f__wakuorg_nwaku:latest.log
2026-02-05 04:34:45.144 DEBUG [src.node.waku_node] Starting Node...
2026-02-05 04:34:45.145 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-05 04:34:45.147 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-05 04:34:45.147 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.106.227
2026-02-05 04:34:45.147 DEBUG [src.node.docker_mananger] Generated ports ['8928', '8929', '8930', '8931', '8932']
2026-02-05 04:34:45.147 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-05 04:34:45.147 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-05 04:34:45.148 DEBUG [src.node.waku_node] Using volumes []
2026-02-05 04:34:45.148 DEBUG [src.node.docker_mananger] docker run -i -t -p 8928:8928 -p 8929:8929 -p 8930:8930 -p 8931:8931 -p 8932:8932 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=8930 --rest-port=8928 --tcp-port=8929 --discv5-udp-port=8931 --rest-address=0.0.0.0 --nat=extip:172.18.106.227 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=1bc1c90ed21aeeccb39ab670bc266eaa20db6aa39b003a17db7c2299ce6de6cf --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=8932 --metrics-logging=true --relay=true --filter=true
2026-02-05 04:34:45.331 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.106.227 waku cb663bb3d75fd6bec1ad6a5e2163ca48ea4b2b90cde21fc4adc4ae5142216508
2026-02-05 04:34:45.366 DEBUG [src.node.docker_mananger] Container started with ID cb663bb3d75f. Setting up logs at ./log/docker/node1_2026-02-05_04-34-45__2a42baa5-b95d-424d-aeec-4ae0ec202d0f__wakuorg_nwaku:latest.log
2026-02-05 04:34:45.366 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 8928
2026-02-05 04:34:45.366 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-05 04:34:45.380 ERROR [src.node.docker_mananger] Max retries reached for container 1a43e4b7aed2. Exiting log stream.
2026-02-05 04:34:45.964 ERROR [src.node.docker_mananger] Max retries reached for container 2da260bb86c0. Exiting log stream.
2026-02-05 04:34:46.367 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8928/health" -H "Content-Type: application/json" -d 'None'
2026-02-05 04:34:46.370 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_READY","desc":"Relay is not ready, filter will not be able to sort out messages"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-05 04:34:46.370 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-05 04:34:46.371 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8928/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-05 04:34:46.373 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.106.227/tcp/8929/p2p/16Uiu2HAkwVKorg5E8oMAB9q7nTmRkaWb3Nn9Sm9L9jdJXr95Mok4","/ip4/172.18.106.227/tcp/8930/ws/p2p/16Uiu2HAkwVKorg5E8oMAB9q7nTmRkaWb3Nn9Sm9L9jdJXr95Mok4"],"enrUri":"enr:-L24QGx1jcSKFL8LozT30u0ovWxF4u9AXDe7Gdc93TKRYghuYa41xv7MbFSKT38GwUiAHEr45BjrBToMrOsxCCiMMqUCgmlkgnY0gmlwhKwSauOKbXVsdGlhZGRyc5YACASsEmrjBiLhAAoErBJq4wYi4t0DgnJzhQADAQAAiXNlY3AyNTZrMaECHqbjqdz0ImffPF_RSd81ysz-36d8s-Q57LMxEebmUNmDdGNwgiLhg3VkcIIi44V3YWt1MgU"}'
2026-02-05 04:34:46.373 INFO [src.node.waku_node] REST service is ready !!
2026-02-05 04:34:46.374 DEBUG [src.steps.filter] Running fixture setup: setup_main_filter_node
2026-02-05 04:34:46.380 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-05 04:34:46.380 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2026-02-05_04-34-45__2a42baa5-b95d-424d-aeec-4ae0ec202d0f__wakuorg_nwaku:latest.log
2026-02-05 04:34:46.380 DEBUG [src.node.waku_node] Starting Node...
2026-02-05 04:34:46.380 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-05 04:34:46.382 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-05 04:34:46.382 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.17.242
2026-02-05 04:34:46.382 DEBUG [src.node.docker_mananger] Generated ports ['13921', '13922', '13923', '13924', '13925']
2026-02-05 04:34:46.382 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-05 04:34:46.382 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-05 04:34:46.382 DEBUG [src.node.waku_node] Using volumes []
2026-02-05 04:34:46.383 DEBUG [src.node.docker_mananger] docker run -i -t -p 13921:13921 -p 13922:13922 -p 13923:13923 -p 13924:13924 -p 13925:13925 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=13923 --rest-port=13921 --tcp-port=13922 --discv5-udp-port=13924 --rest-address=0.0.0.0 --nat=extip:172.18.17.242 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e8a9bc8a2e8e4960d86dfd40d05bcfd6bb5cbe4af56a3d8d20aeca2f79affb20 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=13925 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QGx1jcSKFL8LozT30u0ovWxF4u9AXDe7Gdc93TKRYghuYa41xv7MbFSKT38GwUiAHEr45BjrBToMrOsxCCiMMqUCgmlkgnY0gmlwhKwSauOKbXVsdGlhZGRyc5YACASsEmrjBiLhAAoErBJq4wYi4t0DgnJzhQADAQAAiXNlY3AyNTZrMaECHqbjqdz0ImffPF_RSd81ysz-36d8s-Q57LMxEebmUNmDdGNwgiLhg3VkcIIi44V3YWt1MgU --filternode=/ip4/172.18.106.227/tcp/8929/p2p/16Uiu2HAkwVKorg5E8oMAB9q7nTmRkaWb3Nn9Sm9L9jdJXr95Mok4
2026-02-05 04:34:46.569 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.17.242 waku af16c79203d5a2aedeae57cc36f3d46e3f9fddd2e24d7f91a0e1ee9ae6912cf0
2026-02-05 04:34:46.603 DEBUG [src.node.docker_mananger] Container started with ID af16c79203d5. Setting up logs at ./log/docker/node2_2026-02-05_04-34-45__2a42baa5-b95d-424d-aeec-4ae0ec202d0f__wakuorg_nwaku:latest.log
2026-02-05 04:34:46.604 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 13921
2026-02-05 04:34:46.604 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-05 04:34:47.604 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:13921/health" -H "Content-Type: application/json" -d 'None'
2026-02-05 04:34:47.608 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_MOUNTED"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"READY"}]}'
2026-02-05 04:34:47.608 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-05 04:34:47.609 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:13921/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-05 04:34:47.611 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.17.242/tcp/13922/p2p/16Uiu2HAmPXjWbsMTSSzYeiwUt42qgGaigNwo2V7oJaUr2CCafPft","/ip4/172.18.17.242/tcp/13923/ws/p2p/16Uiu2HAmPXjWbsMTSSzYeiwUt42qgGaigNwo2V7oJaUr2CCafPft"],"enrUri":"enr:-L24QHJqGIroNqWuPt0cZQbc8aiLalVJRU8qnEw043-ZwlOiV60-loEy7lU_ZAzXqQm26Jg8NDscFXLsOKELcqSHakUCgmlkgnY0gmlwhKwSEfKKbXVsdGlhZGRyc5YACASsEhHyBjZiAAoErBIR8gY2Y90DgnJzhQADAQAAiXNlY3AyNTZrMaEDoZS2JZTBqj56BiuQNiUfHe9GvHrnoyE4CTj8J5Rd0weDdGNwgjZig3VkcII2ZIV3YWt1MgA"}'
2026-02-05 04:34:47.611 INFO [src.node.waku_node] REST service is ready !!
2026-02-05 04:34:47.612 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:13921/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.106.227/tcp/8929/p2p/16Uiu2HAkwVKorg5E8oMAB9q7nTmRkaWb3Nn9Sm9L9jdJXr95Mok4"]'
2026-02-05 04:34:47.640 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-05 04:34:47.641 DEBUG [src.steps.filter] Running fixture setup: subscribe_main_nodes
2026-02-05 04:34:47.642 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:8928/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2026-02-05 04:34:47.656 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-05 04:34:47.657 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:13921/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "95da65e6-2bd7-4e52-8646-ac8f66e94f0f", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
2026-02-05 04:34:47.669 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"95da65e6-2bd7-4e52-8646-ac8f66e94f0f","statusDesc":"OK"}'
2026-02-05 04:34:47.670 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:13921/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": ["/test/1/waku-filter/proto"]}'
2026-02-05 04:34:47.679 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"1","statusDesc":"OK"}'
2026-02-05 04:34:47.681 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-02-05 04:34:47.682 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-02-05 04:34:47.682 DEBUG [src.node.waku_node] Stopping container with id cb663bb3d75f
2026-02-05 04:34:48.204 DEBUG [src.node.waku_node] Container stopped.
2026-02-05 04:34:48.205 DEBUG [src.node.waku_node] Stopping container with id af16c79203d5
2026-02-05 04:34:48.729 DEBUG [src.node.waku_node] Container stopped.
2026-02-05 04:34:48.730 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-02-05 04:34:48.740 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-05 04:34:48.745 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
