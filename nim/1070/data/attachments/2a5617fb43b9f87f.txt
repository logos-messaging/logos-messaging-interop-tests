2026-02-05 04:37:40.463 DEBUG [tests.conftest] Running fixture setup: test_id
2026-02-05 04:37:40.464 DEBUG [tests.conftest] Running test: test_store_with_excessive_length_hash with id: 2026-02-05_04-37-40__9854bf6a-50ba-47d7-8108-8495558660fe
2026-02-05 04:37:40.464 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-02-05 04:37:40.464 DEBUG [src.steps.store] Running fixture setup: store_setup
2026-02-05 04:37:40.464 DEBUG [src.steps.store] Running fixture setup: node_setup
2026-02-05 04:37:40.471 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-05 04:37:40.471 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/publishing_node1_2026-02-05_04-37-40__9854bf6a-50ba-47d7-8108-8495558660fe__wakuorg_nwaku:latest.log
2026-02-05 04:37:40.472 DEBUG [src.node.waku_node] Starting Node...
2026-02-05 04:37:40.472 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-05 04:37:40.473 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-05 04:37:40.473 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.66.110
2026-02-05 04:37:40.473 DEBUG [src.node.docker_mananger] Generated ports ['62534', '62535', '62536', '62537', '62538']
2026-02-05 04:37:40.473 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-05 04:37:40.474 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-05 04:37:40.474 DEBUG [src.node.waku_node] Using volumes []
2026-02-05 04:37:40.474 DEBUG [src.node.docker_mananger] docker run -i -t -p 62534:62534 -p 62535:62535 -p 62536:62536 -p 62537:62537 -p 62538:62538 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=62536 --rest-port=62534 --tcp-port=62535 --discv5-udp-port=62537 --rest-address=0.0.0.0 --nat=extip:172.18.66.110 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f712d2d7961922e855bc4a6b7a6cc36fd0242c7ac27f4c652fbc657bee349a3c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=62538 --metrics-logging=true --store=true --relay=true
2026-02-05 04:37:40.660 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.66.110 waku 7338422a9da3593a5d6c630c091bcc76a5c056242a90be6858140eedb1e54557
2026-02-05 04:37:40.663 ERROR [src.node.docker_mananger] Max retries reached for container 56b815187173. Exiting log stream.
2026-02-05 04:37:40.693 DEBUG [src.node.docker_mananger] Container started with ID 7338422a9da3. Setting up logs at ./log/docker/publishing_node1_2026-02-05_04-37-40__9854bf6a-50ba-47d7-8108-8495558660fe__wakuorg_nwaku:latest.log
2026-02-05 04:37:40.694 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 62534
2026-02-05 04:37:40.695 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-05 04:37:41.186 ERROR [src.node.docker_mananger] Max retries reached for container ed06c7a5f59d. Exiting log stream.
2026-02-05 04:37:41.695 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:62534/health" -H "Content-Type: application/json" -d 'None'
2026-02-05 04:37:41.699 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"READY"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"READY"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-05 04:37:41.699 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-05 04:37:41.699 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:62534/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-05 04:37:41.701 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.66.110/tcp/62535/p2p/16Uiu2HAm3TG9NdgZS4dioo9eQya5vUVeFUXdBGuVhXDzFq8YLQa2","/ip4/172.18.66.110/tcp/62536/ws/p2p/16Uiu2HAm3TG9NdgZS4dioo9eQya5vUVeFUXdBGuVhXDzFq8YLQa2"],"enrUri":"enr:-L24QM0loQIJ7EyI9bD62kSlMzN2a1Ff9LczCuRyaRKmzdDaA1E5HKMdIQ1ZKc8o60AMr0Z6uJ5IhiPRhQ-Vbz201WECgmlkgnY0gmlwhKwSQm6KbXVsdGlhZGRyc5YACASsEkJuBvRHAAoErBJCbgb0SN0DgnJzhQADAQAAiXNlY3AyNTZrMaECd0W09_ndI8RvmmChJjQaNSarz1_DkU3jQA3-aie9uv-DdGNwgvRHg3VkcIL0SYV3YWt1MgM"}'
2026-02-05 04:37:41.702 INFO [src.node.waku_node] REST service is ready !!
2026-02-05 04:37:41.708 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-05 04:37:41.709 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/store_node1_2026-02-05_04-37-40__9854bf6a-50ba-47d7-8108-8495558660fe__wakuorg_nwaku:latest.log
2026-02-05 04:37:41.709 DEBUG [src.node.waku_node] Starting Node...
2026-02-05 04:37:41.709 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-05 04:37:41.710 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-05 04:37:41.710 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.128.200
2026-02-05 04:37:41.710 DEBUG [src.node.docker_mananger] Generated ports ['45141', '45142', '45143', '45144', '45145']
2026-02-05 04:37:41.711 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-05 04:37:41.711 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-05 04:37:41.711 DEBUG [src.node.waku_node] Using volumes []
2026-02-05 04:37:41.711 DEBUG [src.node.docker_mananger] docker run -i -t -p 45141:45141 -p 45142:45142 -p 45143:45143 -p 45144:45144 -p 45145:45145 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=45143 --rest-port=45141 --tcp-port=45142 --discv5-udp-port=45144 --rest-address=0.0.0.0 --nat=extip:172.18.128.200 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=dc714d0ee970fee1ec855cefebfecfa78edb44bdbcd118dc6f4eedea37d32daa --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=45145 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QM0loQIJ7EyI9bD62kSlMzN2a1Ff9LczCuRyaRKmzdDaA1E5HKMdIQ1ZKc8o60AMr0Z6uJ5IhiPRhQ-Vbz201WECgmlkgnY0gmlwhKwSQm6KbXVsdGlhZGRyc5YACASsEkJuBvRHAAoErBJCbgb0SN0DgnJzhQADAQAAiXNlY3AyNTZrMaECd0W09_ndI8RvmmChJjQaNSarz1_DkU3jQA3-aie9uv-DdGNwgvRHg3VkcIL0SYV3YWt1MgM --storenode=/ip4/172.18.66.110/tcp/62535/p2p/16Uiu2HAm3TG9NdgZS4dioo9eQya5vUVeFUXdBGuVhXDzFq8YLQa2 --store=true --relay=true
2026-02-05 04:37:41.895 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.128.200 waku 5a0c3518683319582ef1c3fb923ced7fc52526c08c69513bd6111b90b67722e2
2026-02-05 04:37:41.926 DEBUG [src.node.docker_mananger] Container started with ID 5a0c35186833. Setting up logs at ./log/docker/store_node1_2026-02-05_04-37-40__9854bf6a-50ba-47d7-8108-8495558660fe__wakuorg_nwaku:latest.log
2026-02-05 04:37:41.926 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 45141
2026-02-05 04:37:41.927 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-05 04:37:42.928 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45141/health" -H "Content-Type: application/json" -d 'None'
2026-02-05 04:37:42.932 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"READY"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"READY"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"READY"},{"Legacy Store Client":"READY"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-05 04:37:42.932 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-05 04:37:42.933 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45141/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-05 04:37:42.935 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.128.200/tcp/45142/p2p/16Uiu2HAm74TZ64MkLp5FdYr6GjGYpkQsqyMeEbndppNkQskZxH9U","/ip4/172.18.128.200/tcp/45143/ws/p2p/16Uiu2HAm74TZ64MkLp5FdYr6GjGYpkQsqyMeEbndppNkQskZxH9U"],"enrUri":"enr:-L24QHuNkD0dVgM0IWEwtjDWUg_BGl5G761P0EUOPYopgS5jcTrPL294g7gRsSfd0Lx4GQ0TneytQq6_hBGs_sd4YJYCgmlkgnY0gmlwhKwSgMiKbXVsdGlhZGRyc5YACASsEoDIBrBWAAoErBKAyAawV90DgnJzhQADAQAAiXNlY3AyNTZrMaECrNz-_TrhIE8b-Vf_YtXzzmvn3cXjXzc-oXs449Em4aODdGNwgrBWg3VkcIKwWIV3YWt1MgM"}'
2026-02-05 04:37:42.935 INFO [src.node.waku_node] REST service is ready !!
2026-02-05 04:37:42.936 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45141/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.66.110/tcp/62535/p2p/16Uiu2HAm3TG9NdgZS4dioo9eQya5vUVeFUXdBGuVhXDzFq8YLQa2"]'
2026-02-05 04:37:42.938 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-05 04:37:42.938 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:62534/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-05 04:37:42.941 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-05 04:37:42.941 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45141/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-05 04:37:42.943 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-05 04:37:42.944 DEBUG [src.steps.store] Relaying message
2026-02-05 04:37:42.944 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:62534/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8w", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-05 04:37:42.949 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-05 04:37:42.949 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-05 04:37:43.150 DEBUG [src.steps.store] Relaying message
2026-02-05 04:37:43.150 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:62534/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8x", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-05 04:37:43.155 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-05 04:37:43.156 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-05 04:37:43.357 DEBUG [src.steps.store] Relaying message
2026-02-05 04:37:43.357 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:62534/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8y", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-05 04:37:43.362 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-05 04:37:43.363 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-05 04:37:43.564 DEBUG [src.steps.store] Relaying message
2026-02-05 04:37:43.564 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:62534/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8z", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-05 04:37:43.570 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-05 04:37:43.570 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-05 04:37:43.771 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:62534/store/v3/messages?hashes=AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2026-02-05 04:37:43.774 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:62534/store/v3/messages?hashes=AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA&pageSize=50&ascending=true. Response content: b'waku message hash parsing error: invalid hash length: 25'
2026-02-05 04:37:43.774 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45141/store/v3/messages?hashes=AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2026-02-05 04:37:43.777 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:45141/store/v3/messages?hashes=AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA&pageSize=50&ascending=true. Response content: b'waku message hash parsing error: invalid hash length: 25'
2026-02-05 04:37:43.779 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-02-05 04:37:43.780 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-02-05 04:37:43.780 DEBUG [src.node.waku_node] Stopping container with id 7338422a9da3
2026-02-05 04:37:44.340 DEBUG [src.node.waku_node] Container stopped.
2026-02-05 04:37:44.340 DEBUG [src.node.waku_node] Stopping container with id 5a0c35186833
2026-02-05 04:37:44.888 DEBUG [src.node.waku_node] Container stopped.
2026-02-05 04:37:44.889 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-02-05 04:37:44.900 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-05 04:37:44.907 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
