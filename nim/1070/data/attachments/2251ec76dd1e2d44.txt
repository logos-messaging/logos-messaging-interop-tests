2026-02-05 04:41:29.003 DEBUG [tests.conftest] Running fixture setup: test_id
2026-02-05 04:41:29.003 DEBUG [tests.conftest] Running test: test_relay_unsubscribe_from_non_existing_pubsub_topic with id: 2026-02-05_04-41-29__67501cda-dc75-4fd2-8bf4-1e6aecd5a906
2026-02-05 04:41:29.003 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-02-05 04:41:29.003 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2026-02-05 04:41:29.004 DEBUG [src.steps.relay] Running fixture setup: setup_main_relay_nodes
2026-02-05 04:41:29.010 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-05 04:41:29.010 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2026-02-05_04-41-29__67501cda-dc75-4fd2-8bf4-1e6aecd5a906__wakuorg_nwaku:latest.log
2026-02-05 04:41:29.010 DEBUG [src.node.waku_node] Starting Node...
2026-02-05 04:41:29.010 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-05 04:41:29.011 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-05 04:41:29.012 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.68.105
2026-02-05 04:41:29.012 DEBUG [src.node.docker_mananger] Generated ports ['36433', '36434', '36435', '36436', '36437']
2026-02-05 04:41:29.012 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-05 04:41:29.012 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-05 04:41:29.012 DEBUG [src.node.waku_node] Using volumes []
2026-02-05 04:41:29.012 DEBUG [src.node.docker_mananger] docker run -i -t -p 36433:36433 -p 36434:36434 -p 36435:36435 -p 36436:36436 -p 36437:36437 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=36435 --rest-port=36433 --tcp-port=36434 --discv5-udp-port=36436 --rest-address=0.0.0.0 --nat=extip:172.18.68.105 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=985dfcaedee03fa8a49cc9b76fd49f3ecadb8f7e819eb11c2a0ff4a33098faf5 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=36437 --metrics-logging=true --relay=true
2026-02-05 04:41:29.189 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.68.105 waku 3e6ab6274cd6398ab7b5f40d4ea91caf8ba35d2f5c370a986c0340b545c0f32f
2026-02-05 04:41:29.219 DEBUG [src.node.docker_mananger] Container started with ID 3e6ab6274cd6. Setting up logs at ./log/docker/node1_2026-02-05_04-41-29__67501cda-dc75-4fd2-8bf4-1e6aecd5a906__wakuorg_nwaku:latest.log
2026-02-05 04:41:29.220 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 36433
2026-02-05 04:41:29.220 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-05 04:41:29.271 ERROR [src.node.docker_mananger] Max retries reached for container eff182af3bc3. Exiting log stream.
2026-02-05 04:41:29.800 ERROR [src.node.docker_mananger] Max retries reached for container 9f34ea650fe9. Exiting log stream.
2026-02-05 04:41:30.220 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:36433/health" -H "Content-Type: application/json" -d 'None'
2026-02-05 04:41:30.223 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-05 04:41:30.224 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-05 04:41:30.224 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:36433/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-05 04:41:30.226 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.68.105/tcp/36434/p2p/16Uiu2HAmLHKZknvBnPf7UpzGcZmzBvQ5Ub8JXwWYD1aZnQkPoZvi","/ip4/172.18.68.105/tcp/36435/ws/p2p/16Uiu2HAmLHKZknvBnPf7UpzGcZmzBvQ5Ub8JXwWYD1aZnQkPoZvi"],"enrUri":"enr:-L24QMn8TlLJeGBNXmY08ko3CMRUsRhIcsFvsyRmLuHVhq4uQEktO6Q5uXiHBCtzrY7rBjEx6cLUNkUI4yXoXx6dgFoCgmlkgnY0gmlwhKwSRGmKbXVsdGlhZGRyc5YACASsEkRpBo5SAAoErBJEaQaOU90DgnJzhQADAQAAiXNlY3AyNTZrMaEDcVBxqiNh1w_Xv3Lu7dGBmLUkEGi9WIDuq0Z8EBgaN1uDdGNwgo5Sg3VkcIKOVIV3YWt1MgE"}'
2026-02-05 04:41:30.226 INFO [src.node.waku_node] REST service is ready !!
2026-02-05 04:41:30.232 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-05 04:41:30.232 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2026-02-05_04-41-29__67501cda-dc75-4fd2-8bf4-1e6aecd5a906__wakuorg_nwaku:latest.log
2026-02-05 04:41:30.232 DEBUG [src.node.waku_node] Starting Node...
2026-02-05 04:41:30.232 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-05 04:41:30.234 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-05 04:41:30.234 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.5.230
2026-02-05 04:41:30.234 DEBUG [src.node.docker_mananger] Generated ports ['58471', '58472', '58473', '58474', '58475']
2026-02-05 04:41:30.234 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-05 04:41:30.234 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-05 04:41:30.234 DEBUG [src.node.waku_node] Using volumes []
2026-02-05 04:41:30.234 DEBUG [src.node.docker_mananger] docker run -i -t -p 58471:58471 -p 58472:58472 -p 58473:58473 -p 58474:58474 -p 58475:58475 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=58473 --rest-port=58471 --tcp-port=58472 --discv5-udp-port=58474 --rest-address=0.0.0.0 --nat=extip:172.18.5.230 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=7aea1dbd3cca0b9f3cf03eac3a0ebccfabaec5fff1d4ed4735eb1a0a1aae3b0c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=58475 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QMn8TlLJeGBNXmY08ko3CMRUsRhIcsFvsyRmLuHVhq4uQEktO6Q5uXiHBCtzrY7rBjEx6cLUNkUI4yXoXx6dgFoCgmlkgnY0gmlwhKwSRGmKbXVsdGlhZGRyc5YACASsEkRpBo5SAAoErBJEaQaOU90DgnJzhQADAQAAiXNlY3AyNTZrMaEDcVBxqiNh1w_Xv3Lu7dGBmLUkEGi9WIDuq0Z8EBgaN1uDdGNwgo5Sg3VkcIKOVIV3YWt1MgE
2026-02-05 04:41:30.413 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.5.230 waku 702768b5d1fb1bde90fa482a9c7eee3d0efe2186558368025669778d297d4162
2026-02-05 04:41:30.441 DEBUG [src.node.docker_mananger] Container started with ID 702768b5d1fb. Setting up logs at ./log/docker/node2_2026-02-05_04-41-29__67501cda-dc75-4fd2-8bf4-1e6aecd5a906__wakuorg_nwaku:latest.log
2026-02-05 04:41:30.442 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 58471
2026-02-05 04:41:30.442 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-05 04:41:31.444 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58471/health" -H "Content-Type: application/json" -d 'None'
2026-02-05 04:41:31.464 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-05 04:41:31.466 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-05 04:41:31.467 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58471/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-05 04:41:31.472 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.5.230/tcp/58472/p2p/16Uiu2HAmJtDdF2xdRwHEhNrvCwgGiAqS3j6bECLGoSbzmpJPhPyr","/ip4/172.18.5.230/tcp/58473/ws/p2p/16Uiu2HAmJtDdF2xdRwHEhNrvCwgGiAqS3j6bECLGoSbzmpJPhPyr"],"enrUri":"enr:-L24QDv0zTcwDQ3EoyWRFZCIN2ut3O3Ten7YSpi8rkBuAHlCVPCUJChLlc0QmZXJ8Lex-8Xe9E1wXkXdAj37c-msmWwCgmlkgnY0gmlwhKwSBeaKbXVsdGlhZGRyc5YACASsEgXmBuRoAAoErBIF5gbkad0DgnJzhQADAQAAiXNlY3AyNTZrMaEDXImupirtxcTyBLBC8GGsznTh_uwRzytrNCUYT6cMV_mDdGNwguRog3VkcILkaoV3YWt1MgE"}'
2026-02-05 04:41:31.472 INFO [src.node.waku_node] REST service is ready !!
2026-02-05 04:41:31.472 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:58471/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.68.105/tcp/36434/p2p/16Uiu2HAmLHKZknvBnPf7UpzGcZmzBvQ5Ub8JXwWYD1aZnQkPoZvi"]'
2026-02-05 04:41:31.475 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-05 04:41:31.476 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:36433/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2026-02-05 04:41:31.479 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-05 04:41:31.479 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:58471/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2026-02-05 04:41:31.484 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-05 04:41:31.485 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:36433/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2026-02-05 04:41:31.490 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-05 04:41:31.490 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-05 04:41:31.591 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-05 04:41:31.591 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:36433/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2026-02-05 04:41:31.594 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1770266491485339136,"ephemeral":false,"proof":""}]'
2026-02-05 04:41:31.596 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-05 04:41:31.596 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58471/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2026-02-05 04:41:31.598 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1770266491485339136,"ephemeral":false,"proof":""}]'
2026-02-05 04:41:31.600 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:36433/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1000"]'
2026-02-05 04:41:31.602 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-05 04:41:31.602 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:58471/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1000"]'
2026-02-05 04:41:31.604 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-05 04:41:31.604 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:36433/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2026-02-05 04:41:31.608 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-05 04:41:31.608 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-05 04:41:31.709 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-05 04:41:31.709 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:36433/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2026-02-05 04:41:31.711 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1770266491604722436,"ephemeral":false,"proof":""}]'
2026-02-05 04:41:31.712 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-05 04:41:31.712 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58471/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2026-02-05 04:41:31.714 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1770266491604722436,"ephemeral":false,"proof":""}]'
2026-02-05 04:41:31.717 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-02-05 04:41:31.718 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-02-05 04:41:31.718 DEBUG [src.node.waku_node] Stopping container with id 3e6ab6274cd6
2026-02-05 04:41:32.249 DEBUG [src.node.waku_node] Container stopped.
2026-02-05 04:41:32.249 DEBUG [src.node.waku_node] Stopping container with id 702768b5d1fb
2026-02-05 04:41:32.740 DEBUG [src.node.waku_node] Container stopped.
2026-02-05 04:41:32.741 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-02-05 04:41:32.747 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-05 04:41:32.752 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
