2026-02-05 04:34:59.690 DEBUG [tests.conftest] Running fixture setup: test_id
2026-02-05 04:34:59.691 DEBUG [tests.conftest] Running test: test_time_filter_matches_one_message with id: 2026-02-05_04-34-59__28bb5eb1-8670-417a-8815-123e9eeed3a8
2026-02-05 04:34:59.692 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-02-05 04:34:59.692 DEBUG [src.steps.store] Running fixture setup: store_setup
2026-02-05 04:34:59.692 DEBUG [src.steps.store] Running fixture setup: node_setup
2026-02-05 04:34:59.700 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-05 04:34:59.701 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/publishing_node1_2026-02-05_04-34-59__28bb5eb1-8670-417a-8815-123e9eeed3a8__wakuorg_nwaku:latest.log
2026-02-05 04:34:59.701 DEBUG [src.node.waku_node] Starting Node...
2026-02-05 04:34:59.702 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-05 04:34:59.704 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-05 04:34:59.704 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.186.125
2026-02-05 04:34:59.704 DEBUG [src.node.docker_mananger] Generated ports ['2572', '2573', '2574', '2575', '2576']
2026-02-05 04:34:59.704 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-05 04:34:59.705 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-05 04:34:59.705 DEBUG [src.node.waku_node] Using volumes []
2026-02-05 04:34:59.706 DEBUG [src.node.docker_mananger] docker run -i -t -p 2572:2572 -p 2573:2573 -p 2574:2574 -p 2575:2575 -p 2576:2576 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=2574 --rest-port=2572 --tcp-port=2573 --discv5-udp-port=2575 --rest-address=0.0.0.0 --nat=extip:172.18.186.125 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=0dd4fddddda2ff3de5ccaf133dba44c0afcdea6de3561d67257abf70edbf29a3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=2576 --metrics-logging=true --store=true --relay=true
2026-02-05 04:34:59.884 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.186.125 waku 20644844845ad3ac24ffd187f60d9097db8b63e682c104385b4d82fcfda25d7e
2026-02-05 04:34:59.915 DEBUG [src.node.docker_mananger] Container started with ID 20644844845a. Setting up logs at ./log/docker/publishing_node1_2026-02-05_04-34-59__28bb5eb1-8670-417a-8815-123e9eeed3a8__wakuorg_nwaku:latest.log
2026-02-05 04:34:59.916 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 2572
2026-02-05 04:34:59.917 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-05 04:34:59.936 ERROR [src.node.docker_mananger] Max retries reached for container 9e03e49bb629. Exiting log stream.
2026-02-05 04:35:00.522 ERROR [src.node.docker_mananger] Max retries reached for container 0725991032e7. Exiting log stream.
2026-02-05 04:35:00.917 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2572/health" -H "Content-Type: application/json" -d 'None'
2026-02-05 04:35:00.920 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"READY"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"READY"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-05 04:35:00.921 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-05 04:35:00.921 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2572/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-05 04:35:00.923 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.186.125/tcp/2573/p2p/16Uiu2HAm1DSzuhbfD52sZRr9WPNm19gSzvjdnBxNjuDnT4k1BP58","/ip4/172.18.186.125/tcp/2574/ws/p2p/16Uiu2HAm1DSzuhbfD52sZRr9WPNm19gSzvjdnBxNjuDnT4k1BP58"],"enrUri":"enr:-L24QKqvWsjptFUnVCZzHmW4hxDYWfBcTzh0o7LSsSO6Nt9TFzDZzyZ04itlLzsgxcNrSPhcMkk1Jk7SmZC9z3u2nbICgmlkgnY0gmlwhKwSun2KbXVsdGlhZGRyc5YACASsErp9BgoNAAoErBK6fQYKDt0DgnJzhQADAQAAiXNlY3AyNTZrMaECVgR5dgTbN1o-l-yGOXsi7GrKO7QAhQ4ZsorPL2SXQjeDdGNwggoNg3VkcIIKD4V3YWt1MgM"}'
2026-02-05 04:35:00.923 INFO [src.node.waku_node] REST service is ready !!
2026-02-05 04:35:00.930 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-05 04:35:00.931 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/store_node1_2026-02-05_04-34-59__28bb5eb1-8670-417a-8815-123e9eeed3a8__wakuorg_nwaku:latest.log
2026-02-05 04:35:00.931 DEBUG [src.node.waku_node] Starting Node...
2026-02-05 04:35:00.931 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-05 04:35:00.932 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-05 04:35:00.932 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.91.80
2026-02-05 04:35:00.932 DEBUG [src.node.docker_mananger] Generated ports ['54639', '54640', '54641', '54642', '54643']
2026-02-05 04:35:00.933 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-05 04:35:00.933 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-05 04:35:00.933 DEBUG [src.node.waku_node] Using volumes []
2026-02-05 04:35:00.933 DEBUG [src.node.docker_mananger] docker run -i -t -p 54639:54639 -p 54640:54640 -p 54641:54641 -p 54642:54642 -p 54643:54643 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=54641 --rest-port=54639 --tcp-port=54640 --discv5-udp-port=54642 --rest-address=0.0.0.0 --nat=extip:172.18.91.80 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bd0de220dd21aa883ab1acde070453b948cea6d7cfc8ecf394f4e6cfbf00df96 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=54643 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QKqvWsjptFUnVCZzHmW4hxDYWfBcTzh0o7LSsSO6Nt9TFzDZzyZ04itlLzsgxcNrSPhcMkk1Jk7SmZC9z3u2nbICgmlkgnY0gmlwhKwSun2KbXVsdGlhZGRyc5YACASsErp9BgoNAAoErBK6fQYKDt0DgnJzhQADAQAAiXNlY3AyNTZrMaECVgR5dgTbN1o-l-yGOXsi7GrKO7QAhQ4ZsorPL2SXQjeDdGNwggoNg3VkcIIKD4V3YWt1MgM --storenode=/ip4/172.18.186.125/tcp/2573/p2p/16Uiu2HAm1DSzuhbfD52sZRr9WPNm19gSzvjdnBxNjuDnT4k1BP58 --store=true --relay=true
2026-02-05 04:35:01.113 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.91.80 waku 9e670ec5f6f6a14ec693c8a69b9f91696c7a3133641870dda80d9e87bb8fac7b
2026-02-05 04:35:01.146 DEBUG [src.node.docker_mananger] Container started with ID 9e670ec5f6f6. Setting up logs at ./log/docker/store_node1_2026-02-05_04-34-59__28bb5eb1-8670-417a-8815-123e9eeed3a8__wakuorg_nwaku:latest.log
2026-02-05 04:35:01.148 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 54639
2026-02-05 04:35:01.148 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-05 04:35:02.149 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:54639/health" -H "Content-Type: application/json" -d 'None'
2026-02-05 04:35:02.153 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"READY"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"READY"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"READY"},{"Legacy Store Client":"READY"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-05 04:35:02.153 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-05 04:35:02.153 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:54639/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-05 04:35:02.155 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.91.80/tcp/54640/p2p/16Uiu2HAmUSP2MZJ2f93bv3kvujHfrig64yXWPVzCbNjsv5YXpvm1","/ip4/172.18.91.80/tcp/54641/ws/p2p/16Uiu2HAmUSP2MZJ2f93bv3kvujHfrig64yXWPVzCbNjsv5YXpvm1"],"enrUri":"enr:-L24QPecWoP5FXkNuSmt3MriT3U-WRiq7fhkkTYsAU4kPOPGFYlIuhUB6WvOkePvFEplgDfVuc-WVtKV3LSMuxCWKv0CgmlkgnY0gmlwhKwSW1CKbXVsdGlhZGRyc5YACASsEltQBtVwAAoErBJbUAbVcd0DgnJzhQADAQAAiXNlY3AyNTZrMaED6oATzbvr9oNFb2cI3j_ZA8bTcrGpOiw0St2WqQgC5YSDdGNwgtVwg3VkcILVcoV3YWt1MgM"}'
2026-02-05 04:35:02.155 INFO [src.node.waku_node] REST service is ready !!
2026-02-05 04:35:02.156 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:54639/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.186.125/tcp/2573/p2p/16Uiu2HAm1DSzuhbfD52sZRr9WPNm19gSzvjdnBxNjuDnT4k1BP58"]'
2026-02-05 04:35:02.159 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-05 04:35:02.159 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2572/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-05 04:35:02.161 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-05 04:35:02.162 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:54639/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-05 04:35:02.164 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-05 04:35:02.165 DEBUG [src.steps.store] Relaying message
2026-02-05 04:35:02.165 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2572/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-05 04:35:02.170 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-05 04:35:02.170 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-05 04:35:02.371 DEBUG [src.steps.store] Relaying message
2026-02-05 04:35:02.371 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2572/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-05 04:35:02.376 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-05 04:35:02.377 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-05 04:35:02.578 DEBUG [src.steps.store] Relaying message
2026-02-05 04:35:02.578 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2572/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-05 04:35:02.583 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-05 04:35:02.583 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-05 04:35:02.784 DEBUG [src.steps.store] Relaying message
2026-02-05 04:35:02.784 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2572/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-05 04:35:02.789 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-05 04:35:02.790 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-05 04:35:02.990 DEBUG [src.steps.store] Relaying message
2026-02-05 04:35:02.991 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2572/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-05 04:35:02.995 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-05 04:35:02.996 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-05 04:35:03.197 DEBUG [src.steps.store] Relaying message
2026-02-05 04:35:03.197 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2572/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-05 04:35:03.202 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-05 04:35:03.203 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-05 04:35:03.403 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2572/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=1770266099165015136&endTime=1770266099165215136&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
2026-02-05 04:35:03.406 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x71c424546e7b8dcbc717b0826fa58ec3ed144e15c15c31a2457af028afec2d41"}]}'
2026-02-05 04:35:03.407 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:54639/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=1770266099165015136&endTime=1770266099165215136&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
2026-02-05 04:35:03.409 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x71c424546e7b8dcbc717b0826fa58ec3ed144e15c15c31a2457af028afec2d41"}]}'
2026-02-05 04:35:03.411 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-02-05 04:35:03.412 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-02-05 04:35:03.412 DEBUG [src.node.waku_node] Stopping container with id 20644844845a
2026-02-05 04:35:03.964 DEBUG [src.node.waku_node] Container stopped.
2026-02-05 04:35:03.965 DEBUG [src.node.waku_node] Stopping container with id 9e670ec5f6f6
2026-02-05 04:35:04.496 DEBUG [src.node.waku_node] Container stopped.
2026-02-05 04:35:04.497 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-02-05 04:35:04.504 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-05 04:35:04.512 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
