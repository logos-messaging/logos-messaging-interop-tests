2026-02-05 04:34:43.486 DEBUG [tests.conftest] Running fixture setup: test_id
2026-02-05 04:34:43.486 DEBUG [tests.conftest] Running test: test_relay_subscribe_with_empty_pubsub_topic_list with id: 2026-02-05_04-34-43__1e17002b-3b98-47b2-9e8d-8df0542791e5
2026-02-05 04:34:43.487 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-02-05 04:34:43.487 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2026-02-05 04:34:43.487 DEBUG [src.steps.relay] Running fixture setup: setup_main_relay_nodes
2026-02-05 04:34:43.495 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-05 04:34:43.495 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2026-02-05_04-34-43__1e17002b-3b98-47b2-9e8d-8df0542791e5__wakuorg_nwaku:latest.log
2026-02-05 04:34:43.495 DEBUG [src.node.waku_node] Starting Node...
2026-02-05 04:34:43.495 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-05 04:34:43.497 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-05 04:34:43.497 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.190.171
2026-02-05 04:34:43.497 DEBUG [src.node.docker_mananger] Generated ports ['28720', '28721', '28722', '28723', '28724']
2026-02-05 04:34:43.497 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-05 04:34:43.497 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-05 04:34:43.497 DEBUG [src.node.waku_node] Using volumes []
2026-02-05 04:34:43.498 DEBUG [src.node.docker_mananger] docker run -i -t -p 28720:28720 -p 28721:28721 -p 28722:28722 -p 28723:28723 -p 28724:28724 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=28722 --rest-port=28720 --tcp-port=28721 --discv5-udp-port=28723 --rest-address=0.0.0.0 --nat=extip:172.18.190.171 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f92e9aeea6f15ffcb5a4cc9e5fd6714948edc2a85a0381c4effae3c2f24c2b3a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=28724 --metrics-logging=true --relay=true
2026-02-05 04:34:43.669 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.190.171 waku 6636da5890e0c61278198a4b54e5ffa531d2a15a5cc0566643e7ed741050e637
2026-02-05 04:34:43.700 DEBUG [src.node.docker_mananger] Container started with ID 6636da5890e0. Setting up logs at ./log/docker/node1_2026-02-05_04-34-43__1e17002b-3b98-47b2-9e8d-8df0542791e5__wakuorg_nwaku:latest.log
2026-02-05 04:34:43.701 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 28720
2026-02-05 04:34:43.701 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-05 04:34:43.755 ERROR [src.node.docker_mananger] Max retries reached for container 7ac334237932. Exiting log stream.
2026-02-05 04:34:44.295 ERROR [src.node.docker_mananger] Max retries reached for container ffcb5f53f31d. Exiting log stream.
2026-02-05 04:34:44.702 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28720/health" -H "Content-Type: application/json" -d 'None'
2026-02-05 04:34:44.705 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-05 04:34:44.705 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-05 04:34:44.705 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28720/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-05 04:34:44.707 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.190.171/tcp/28721/p2p/16Uiu2HAmCiQyWrLqKTkoXuga5unzX2gLcdC2DRKhYJp8aE7gY11d","/ip4/172.18.190.171/tcp/28722/ws/p2p/16Uiu2HAmCiQyWrLqKTkoXuga5unzX2gLcdC2DRKhYJp8aE7gY11d"],"enrUri":"enr:-L24QIbJAiyhM51fwoPCH4_4W4RPNoT18hyZ7aDg8Vvhz8dHYAe9v9JRUDSZq5Ah7FIIxYIT5Z4KnMLCXktyQNshNBcCgmlkgnY0gmlwhKwSvquKbXVsdGlhZGRyc5YACASsEr6rBnAxAAoErBK-qwZwMt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDAOCV5SlFEmKZIIqQrILuFRMw0OSW8n1aIZWXlS7LHuyDdGNwgnAxg3VkcIJwM4V3YWt1MgE"}'
2026-02-05 04:34:44.708 INFO [src.node.waku_node] REST service is ready !!
2026-02-05 04:34:44.714 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-05 04:34:44.714 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2026-02-05_04-34-43__1e17002b-3b98-47b2-9e8d-8df0542791e5__wakuorg_nwaku:latest.log
2026-02-05 04:34:44.714 DEBUG [src.node.waku_node] Starting Node...
2026-02-05 04:34:44.714 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-05 04:34:44.715 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-05 04:34:44.715 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.247.136
2026-02-05 04:34:44.716 DEBUG [src.node.docker_mananger] Generated ports ['31451', '31452', '31453', '31454', '31455']
2026-02-05 04:34:44.716 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-05 04:34:44.716 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-05 04:34:44.716 DEBUG [src.node.waku_node] Using volumes []
2026-02-05 04:34:44.716 DEBUG [src.node.docker_mananger] docker run -i -t -p 31451:31451 -p 31452:31452 -p 31453:31453 -p 31454:31454 -p 31455:31455 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=31453 --rest-port=31451 --tcp-port=31452 --discv5-udp-port=31454 --rest-address=0.0.0.0 --nat=extip:172.18.247.136 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=1dffc1bbb325141c7cde3c4daed0407b27cf613167473d6d8bffaa33cdba2f27 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=31455 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QIbJAiyhM51fwoPCH4_4W4RPNoT18hyZ7aDg8Vvhz8dHYAe9v9JRUDSZq5Ah7FIIxYIT5Z4KnMLCXktyQNshNBcCgmlkgnY0gmlwhKwSvquKbXVsdGlhZGRyc5YACASsEr6rBnAxAAoErBK-qwZwMt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDAOCV5SlFEmKZIIqQrILuFRMw0OSW8n1aIZWXlS7LHuyDdGNwgnAxg3VkcIJwM4V3YWt1MgE
2026-02-05 04:34:44.896 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.247.136 waku a3e10040055582f7065ec129f176d06a336f3cab58ac7873161d6fbedc1894fb
2026-02-05 04:34:44.924 DEBUG [src.node.docker_mananger] Container started with ID a3e100400555. Setting up logs at ./log/docker/node2_2026-02-05_04-34-43__1e17002b-3b98-47b2-9e8d-8df0542791e5__wakuorg_nwaku:latest.log
2026-02-05 04:34:44.924 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 31451
2026-02-05 04:34:44.924 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-05 04:34:45.925 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31451/health" -H "Content-Type: application/json" -d 'None'
2026-02-05 04:34:45.940 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-05 04:34:45.941 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-05 04:34:45.942 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31451/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-05 04:34:45.944 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.247.136/tcp/31452/p2p/16Uiu2HAm6MEyTcroiJNvMrwANrJoR5rwDQgcjajSbqqdahDHHXbu","/ip4/172.18.247.136/tcp/31453/ws/p2p/16Uiu2HAm6MEyTcroiJNvMrwANrJoR5rwDQgcjajSbqqdahDHHXbu"],"enrUri":"enr:-L24QDEnStO54Xc9OVUZ5YJ8vGF2lAERJyo_t4Vg2dr0Bp9jGxQHlPb44e59umUqN41u37on3HndEF0Amk6u2dE8op4CgmlkgnY0gmlwhKwS94iKbXVsdGlhZGRyc5YACASsEveIBnrcAAoErBL3iAZ63d0DgnJzhQADAQAAiXNlY3AyNTZrMaECok31d6KpTMPr4JHpHLJQkrvucgk-3HJYhbba2aGTIaCDdGNwgnrcg3VkcIJ63oV3YWt1MgE"}'
2026-02-05 04:34:45.945 INFO [src.node.waku_node] REST service is ready !!
2026-02-05 04:34:45.945 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:31451/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.190.171/tcp/28721/p2p/16Uiu2HAmCiQyWrLqKTkoXuga5unzX2gLcdC2DRKhYJp8aE7gY11d"]'
2026-02-05 04:34:45.949 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-05 04:34:45.950 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:28720/relay/v1/subscriptions" -H "Content-Type: application/json" -d '[]'
2026-02-05 04:34:45.952 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-05 04:34:45.952 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:31451/relay/v1/subscriptions" -H "Content-Type: application/json" -d '[]'
2026-02-05 04:34:45.955 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-05 04:34:45.956 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-02-05 04:34:45.957 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-02-05 04:34:45.957 DEBUG [src.node.waku_node] Stopping container with id 6636da5890e0
2026-02-05 04:34:46.484 DEBUG [src.node.waku_node] Container stopped.
2026-02-05 04:34:46.484 DEBUG [src.node.waku_node] Stopping container with id a3e100400555
2026-02-05 04:34:46.941 DEBUG [src.node.waku_node] Container stopped.
2026-02-05 04:34:46.943 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-02-05 04:34:46.948 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-05 04:34:46.953 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
