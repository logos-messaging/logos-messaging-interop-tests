2026-01-31 04:36:58.895 DEBUG [tests.conftest] Running fixture setup: test_id
2026-01-31 04:36:58.896 DEBUG [tests.conftest] Running test: test_relay_subscribe_with_invalid_pubsub_topic_format with id: 2026-01-31_04-36-58__dab6658c-4b49-4f4c-a24b-bf45b91f6908
2026-01-31 04:36:58.896 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-01-31 04:36:58.896 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2026-01-31 04:36:58.896 DEBUG [src.steps.relay] Running fixture setup: setup_main_relay_nodes
2026-01-31 04:36:58.903 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-01-31 04:36:58.903 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2026-01-31_04-36-58__dab6658c-4b49-4f4c-a24b-bf45b91f6908__wakuorg_nwaku:latest.log
2026-01-31 04:36:58.904 DEBUG [src.node.waku_node] Starting Node...
2026-01-31 04:36:58.904 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-01-31 04:36:58.905 DEBUG [src.node.docker_mananger] Network waku already exists
2026-01-31 04:36:58.905 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.42.139
2026-01-31 04:36:58.906 DEBUG [src.node.docker_mananger] Generated ports ['52642', '52643', '52644', '52645', '52646']
2026-01-31 04:36:58.906 DEBUG [src.node.waku_node] RLN credentials were not set
2026-01-31 04:36:58.906 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-01-31 04:36:58.906 DEBUG [src.node.waku_node] Using volumes []
2026-01-31 04:36:58.906 DEBUG [src.node.docker_mananger] docker run -i -t -p 52642:52642 -p 52643:52643 -p 52644:52644 -p 52645:52645 -p 52646:52646 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=52644 --rest-port=52642 --tcp-port=52643 --discv5-udp-port=52645 --rest-address=0.0.0.0 --nat=extip:172.18.42.139 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ff520304df7cea77c6bc6e2d3ed353310c5c9cdae6a8045e5cff0878ae886dfb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=52646 --metrics-logging=true --relay=true
2026-01-31 04:36:59.091 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.42.139 waku d454b54fa5756b43ac2963c34ae8d5329b6f78cb326e8ced21ece44abd3d19ad
2026-01-31 04:36:59.126 DEBUG [src.node.docker_mananger] Container started with ID d454b54fa575. Setting up logs at ./log/docker/node1_2026-01-31_04-36-58__dab6658c-4b49-4f4c-a24b-bf45b91f6908__wakuorg_nwaku:latest.log
2026-01-31 04:36:59.127 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 52642
2026-01-31 04:36:59.127 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-01-31 04:36:59.144 ERROR [src.node.docker_mananger] Max retries reached for container f7d95ba762bf. Exiting log stream.
2026-01-31 04:36:59.699 ERROR [src.node.docker_mananger] Max retries reached for container 01836e28a1e9. Exiting log stream.
2026-01-31 04:37:00.128 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52642/health" -H "Content-Type: application/json" -d 'None'
2026-01-31 04:37:00.131 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-01-31 04:37:00.131 INFO [src.node.waku_node] Node protocols are initialized !!
2026-01-31 04:37:00.131 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52642/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-01-31 04:37:00.133 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.42.139/tcp/52643/p2p/16Uiu2HAmQc7A5xhboBhHX5cBGqNmUo4fT9UYC9F8PUVvz7Rmjarr","/ip4/172.18.42.139/tcp/52644/ws/p2p/16Uiu2HAmQc7A5xhboBhHX5cBGqNmUo4fT9UYC9F8PUVvz7Rmjarr"],"enrUri":"enr:-L24QE4lneoZH-ybHKe3bjXdIdbv6GwzFHCmvUEPYSHsv5jgPgmEFPb6nnDX1GLrzBrLCfKe4OkwMxgCMrPA28XRZLUCgmlkgnY0gmlwhKwSKouKbXVsdGlhZGRyc5YACASsEiqLBs2jAAoErBIqiwbNpN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDsY8ye91rkkg628_CL8opoCVdIypwvFHBRmFj3U_Hgj-DdGNwgs2jg3VkcILNpYV3YWt1MgE"}'
2026-01-31 04:37:00.134 INFO [src.node.waku_node] REST service is ready !!
2026-01-31 04:37:00.140 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-01-31 04:37:00.140 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2026-01-31_04-36-58__dab6658c-4b49-4f4c-a24b-bf45b91f6908__wakuorg_nwaku:latest.log
2026-01-31 04:37:00.140 DEBUG [src.node.waku_node] Starting Node...
2026-01-31 04:37:00.141 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-01-31 04:37:00.142 DEBUG [src.node.docker_mananger] Network waku already exists
2026-01-31 04:37:00.142 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.124.98
2026-01-31 04:37:00.142 DEBUG [src.node.docker_mananger] Generated ports ['38450', '38451', '38452', '38453', '38454']
2026-01-31 04:37:00.142 DEBUG [src.node.waku_node] RLN credentials were not set
2026-01-31 04:37:00.142 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-01-31 04:37:00.142 DEBUG [src.node.waku_node] Using volumes []
2026-01-31 04:37:00.143 DEBUG [src.node.docker_mananger] docker run -i -t -p 38450:38450 -p 38451:38451 -p 38452:38452 -p 38453:38453 -p 38454:38454 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=38452 --rest-port=38450 --tcp-port=38451 --discv5-udp-port=38453 --rest-address=0.0.0.0 --nat=extip:172.18.124.98 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=1789f4a84d211d0122a3dfbd87a86dab99a30fdebb037b03c91dcbcb1062e6dc --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=38454 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QE4lneoZH-ybHKe3bjXdIdbv6GwzFHCmvUEPYSHsv5jgPgmEFPb6nnDX1GLrzBrLCfKe4OkwMxgCMrPA28XRZLUCgmlkgnY0gmlwhKwSKouKbXVsdGlhZGRyc5YACASsEiqLBs2jAAoErBIqiwbNpN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDsY8ye91rkkg628_CL8opoCVdIypwvFHBRmFj3U_Hgj-DdGNwgs2jg3VkcILNpYV3YWt1MgE
2026-01-31 04:37:00.329 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.124.98 waku 0bd437833eebb2a0cf25b4188227d7e8be7c58301e1acd1dd3abdaa4cb16d6b8
2026-01-31 04:37:00.360 DEBUG [src.node.docker_mananger] Container started with ID 0bd437833eeb. Setting up logs at ./log/docker/node2_2026-01-31_04-36-58__dab6658c-4b49-4f4c-a24b-bf45b91f6908__wakuorg_nwaku:latest.log
2026-01-31 04:37:00.360 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 38450
2026-01-31 04:37:00.361 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-01-31 04:37:01.361 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38450/health" -H "Content-Type: application/json" -d 'None'
2026-01-31 04:37:01.372 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-01-31 04:37:01.373 INFO [src.node.waku_node] Node protocols are initialized !!
2026-01-31 04:37:01.373 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38450/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-01-31 04:37:01.377 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.124.98/tcp/38451/p2p/16Uiu2HAm5mQkHr3bix2se1z1hMsTr4mtn5McQyCWfTc1N116WPjd","/ip4/172.18.124.98/tcp/38452/ws/p2p/16Uiu2HAm5mQkHr3bix2se1z1hMsTr4mtn5McQyCWfTc1N116WPjd"],"enrUri":"enr:-L24QD4t9lIQuzTbKpBuVLj6QP0pCPmlyAeI90tWiYbqB273c_UBpSGBiNUd-pxAEAjLbwgv6h7BtfOmhztb2FuC8UYCgmlkgnY0gmlwhKwSfGKKbXVsdGlhZGRyc5YACASsEnxiBpYzAAoErBJ8YgaWNN0DgnJzhQADAQAAiXNlY3AyNTZrMaECmaNC_IlLXsjzQJCuxojlwwD-kQw2o0OSH4gUyfaBVRiDdGNwgpYzg3VkcIKWNYV3YWt1MgE"}'
2026-01-31 04:37:01.378 INFO [src.node.waku_node] REST service is ready !!
2026-01-31 04:37:01.378 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:38450/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.42.139/tcp/52643/p2p/16Uiu2HAmQc7A5xhboBhHX5cBGqNmUo4fT9UYC9F8PUVvz7Rmjarr"]'
2026-01-31 04:37:01.383 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-31 04:37:01.383 DEBUG [tests.relay.test_subscribe] Running test with payload /test/2/rs/0/1
2026-01-31 04:37:01.384 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:52642/relay/v1/subscriptions" -H "Content-Type: application/json" -d '"/test/2/rs/0/1"'
2026-01-31 04:37:01.386 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:52642/relay/v1/subscriptions. Response content: b'Invalid content body, could not decode: Unable to deserialize data: '
2026-01-31 04:37:01.387 DEBUG [tests.relay.test_subscribe] Running test with payload /waku/3/rs/0/1
2026-01-31 04:37:01.387 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:52642/relay/v1/subscriptions" -H "Content-Type: application/json" -d '"/waku/3/rs/0/1"'
2026-01-31 04:37:01.389 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:52642/relay/v1/subscriptions. Response content: b'Invalid content body, could not decode: Unable to deserialize data: '
2026-01-31 04:37:01.390 DEBUG [tests.relay.test_subscribe] Running test with payload /waku/2/test/0/1
2026-01-31 04:37:01.390 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:52642/relay/v1/subscriptions" -H "Content-Type: application/json" -d '"/waku/2/test/0/1"'
2026-01-31 04:37:01.393 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:52642/relay/v1/subscriptions. Response content: b'Invalid content body, could not decode: Unable to deserialize data: '
2026-01-31 04:37:01.393 DEBUG [tests.relay.test_subscribe] Running test with payload /waku/2/rs/3/b
2026-01-31 04:37:01.394 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:52642/relay/v1/subscriptions" -H "Content-Type: application/json" -d '"/waku/2/rs/3/b"'
2026-01-31 04:37:01.396 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:52642/relay/v1/subscriptions. Response content: b'Invalid content body, could not decode: Unable to deserialize data: '
2026-01-31 04:37:01.397 DEBUG [tests.relay.test_subscribe] Running test with payload /waku/2/rs/0
2026-01-31 04:37:01.397 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:52642/relay/v1/subscriptions" -H "Content-Type: application/json" -d '"/waku/2/rs/0"'
2026-01-31 04:37:01.399 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:52642/relay/v1/subscriptions. Response content: b'Invalid content body, could not decode: Unable to deserialize data: '
2026-01-31 04:37:01.401 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-01-31 04:37:01.402 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-01-31 04:37:01.402 DEBUG [src.node.waku_node] Stopping container with id d454b54fa575
2026-01-31 04:37:01.946 DEBUG [src.node.waku_node] Container stopped.
2026-01-31 04:37:01.948 DEBUG [src.node.waku_node] Stopping container with id 0bd437833eeb
2026-01-31 04:37:02.508 DEBUG [src.node.waku_node] Container stopped.
2026-01-31 04:37:02.509 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-01-31 04:37:02.518 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-01-31 04:37:02.523 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
