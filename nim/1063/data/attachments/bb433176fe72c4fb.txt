2026-01-31 04:35:01.738 DEBUG [tests.conftest] Running fixture setup: test_id
2026-01-31 04:35:01.738 DEBUG [tests.conftest] Running test: test_messages_with_timestamps_close_to_now with id: 2026-01-31_04-35-01__dcb3e303-05f6-45a1-b910-7b011156319c
2026-01-31 04:35:01.738 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-01-31 04:35:01.738 DEBUG [src.steps.store] Running fixture setup: store_setup
2026-01-31 04:35:01.739 DEBUG [src.steps.store] Running fixture setup: node_setup
2026-01-31 04:35:01.745 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-01-31 04:35:01.745 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/publishing_node1_2026-01-31_04-35-01__dcb3e303-05f6-45a1-b910-7b011156319c__wakuorg_nwaku:latest.log
2026-01-31 04:35:01.745 DEBUG [src.node.waku_node] Starting Node...
2026-01-31 04:35:01.746 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-01-31 04:35:01.747 DEBUG [src.node.docker_mananger] Network waku already exists
2026-01-31 04:35:01.747 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.221.232
2026-01-31 04:35:01.747 DEBUG [src.node.docker_mananger] Generated ports ['18567', '18568', '18569', '18570', '18571']
2026-01-31 04:35:01.747 DEBUG [src.node.waku_node] RLN credentials were not set
2026-01-31 04:35:01.747 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-01-31 04:35:01.748 DEBUG [src.node.waku_node] Using volumes []
2026-01-31 04:35:01.748 DEBUG [src.node.docker_mananger] docker run -i -t -p 18567:18567 -p 18568:18568 -p 18569:18569 -p 18570:18570 -p 18571:18571 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=18569 --rest-port=18567 --tcp-port=18568 --discv5-udp-port=18570 --rest-address=0.0.0.0 --nat=extip:172.18.221.232 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=8c9cd4ffec330c6f0a0f73ebc8d4448bee9c3a2aa640d46fbc365a3015d6d029 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=18571 --metrics-logging=true --store=true --relay=true
2026-01-31 04:35:01.933 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.221.232 waku 59d84494371d6a1c24cc90d2338d01155acb02fe02ca43f862a930b6608fd044
2026-01-31 04:35:01.963 DEBUG [src.node.docker_mananger] Container started with ID 59d84494371d. Setting up logs at ./log/docker/publishing_node1_2026-01-31_04-35-01__dcb3e303-05f6-45a1-b910-7b011156319c__wakuorg_nwaku:latest.log
2026-01-31 04:35:01.963 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 18567
2026-01-31 04:35:01.964 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-01-31 04:35:02.000 ERROR [src.node.docker_mananger] Max retries reached for container 8bfd5ce74e32. Exiting log stream.
2026-01-31 04:35:02.534 ERROR [src.node.docker_mananger] Max retries reached for container 1cb6da4eac6c. Exiting log stream.
2026-01-31 04:35:02.964 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18567/health" -H "Content-Type: application/json" -d 'None'
2026-01-31 04:35:02.967 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"READY"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"READY"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-01-31 04:35:02.968 INFO [src.node.waku_node] Node protocols are initialized !!
2026-01-31 04:35:02.968 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18567/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-01-31 04:35:02.970 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.221.232/tcp/18568/p2p/16Uiu2HAmJR61eWqjUydJTsQ7C35odNtYwam5wVjgBsdCXJZzhg56","/ip4/172.18.221.232/tcp/18569/ws/p2p/16Uiu2HAmJR61eWqjUydJTsQ7C35odNtYwam5wVjgBsdCXJZzhg56"],"enrUri":"enr:-L24QLpZt3zGs3kl0e5-x2LrBQewJ6OveDaDRCXqRFo8nlCPQ8P5vA-8hfeKxjTaucUVwZmCfa7Zita8o496NRhaudgCgmlkgnY0gmlwhKwS3eiKbXVsdGlhZGRyc5YACASsEt3oBkiIAAoErBLd6AZIid0DgnJzhQADAQAAiXNlY3AyNTZrMaEDVZZkOz8yDdskMKNM4CGhW9ENyDcEStWMq5t30YjINHmDdGNwgkiIg3VkcIJIioV3YWt1MgM"}'
2026-01-31 04:35:02.970 INFO [src.node.waku_node] REST service is ready !!
2026-01-31 04:35:02.978 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-01-31 04:35:02.978 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/store_node1_2026-01-31_04-35-01__dcb3e303-05f6-45a1-b910-7b011156319c__wakuorg_nwaku:latest.log
2026-01-31 04:35:02.978 DEBUG [src.node.waku_node] Starting Node...
2026-01-31 04:35:02.978 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-01-31 04:35:02.979 DEBUG [src.node.docker_mananger] Network waku already exists
2026-01-31 04:35:02.980 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.223.219
2026-01-31 04:35:02.980 DEBUG [src.node.docker_mananger] Generated ports ['35715', '35716', '35717', '35718', '35719']
2026-01-31 04:35:02.980 DEBUG [src.node.waku_node] RLN credentials were not set
2026-01-31 04:35:02.980 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-01-31 04:35:02.980 DEBUG [src.node.waku_node] Using volumes []
2026-01-31 04:35:02.980 DEBUG [src.node.docker_mananger] docker run -i -t -p 35715:35715 -p 35716:35716 -p 35717:35717 -p 35718:35718 -p 35719:35719 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=35717 --rest-port=35715 --tcp-port=35716 --discv5-udp-port=35718 --rest-address=0.0.0.0 --nat=extip:172.18.223.219 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=51cbeebf1dcb2f1ddc58ed66171bdbb3ad54be6915bff10d1d9c858fbe567fdb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=35719 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QLpZt3zGs3kl0e5-x2LrBQewJ6OveDaDRCXqRFo8nlCPQ8P5vA-8hfeKxjTaucUVwZmCfa7Zita8o496NRhaudgCgmlkgnY0gmlwhKwS3eiKbXVsdGlhZGRyc5YACASsEt3oBkiIAAoErBLd6AZIid0DgnJzhQADAQAAiXNlY3AyNTZrMaEDVZZkOz8yDdskMKNM4CGhW9ENyDcEStWMq5t30YjINHmDdGNwgkiIg3VkcIJIioV3YWt1MgM --storenode=/ip4/172.18.221.232/tcp/18568/p2p/16Uiu2HAmJR61eWqjUydJTsQ7C35odNtYwam5wVjgBsdCXJZzhg56 --store=true --relay=true
2026-01-31 04:35:03.168 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.223.219 waku 5392543af1d1c5ecb79dd575c3ab8d90ed560f595d211c13dc14a0d4fd73e83b
2026-01-31 04:35:03.199 DEBUG [src.node.docker_mananger] Container started with ID 5392543af1d1. Setting up logs at ./log/docker/store_node1_2026-01-31_04-35-01__dcb3e303-05f6-45a1-b910-7b011156319c__wakuorg_nwaku:latest.log
2026-01-31 04:35:03.200 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 35715
2026-01-31 04:35:03.200 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-01-31 04:35:04.201 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:35715/health" -H "Content-Type: application/json" -d 'None'
2026-01-31 04:35:04.205 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"READY"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"READY"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"READY"},{"Legacy Store Client":"READY"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-01-31 04:35:04.205 INFO [src.node.waku_node] Node protocols are initialized !!
2026-01-31 04:35:04.206 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:35715/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-01-31 04:35:04.208 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.223.219/tcp/35716/p2p/16Uiu2HAmFWYZZUt4bErJjMndz9bycVBHe68hDGZC6bkFGnkQ8PmM","/ip4/172.18.223.219/tcp/35717/ws/p2p/16Uiu2HAmFWYZZUt4bErJjMndz9bycVBHe68hDGZC6bkFGnkQ8PmM"],"enrUri":"enr:-L24QDEV01ZsNXxDPBZ-Tx1ZBGLviw_ZO_S_8R9tjuNJIFbTbNgJ5tw8OMDTXsSgKIVh2UlBULokewiTpXENatWFP2ACgmlkgnY0gmlwhKwS39uKbXVsdGlhZGRyc5YACASsEt_bBouEAAoErBLf2waLhd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDKmlBVv0u60MMleC7tnseALZCeq-HZROKbS1YloNik0yDdGNwgouEg3VkcIKLhoV3YWt1MgM"}'
2026-01-31 04:35:04.208 INFO [src.node.waku_node] REST service is ready !!
2026-01-31 04:35:04.209 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:35715/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.221.232/tcp/18568/p2p/16Uiu2HAmJR61eWqjUydJTsQ7C35odNtYwam5wVjgBsdCXJZzhg56"]'
2026-01-31 04:35:04.211 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-31 04:35:04.212 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:18567/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-01-31 04:35:04.214 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-31 04:35:04.214 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:35715/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-01-31 04:35:04.216 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-31 04:35:04.217 DEBUG [tests.store.test_time_filter] Running test with payload 3 sec Past
2026-01-31 04:35:04.218 DEBUG [src.steps.store] Relaying message
2026-01-31 04:35:04.218 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:18567/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-01-31 04:35:04.223 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-31 04:35:04.223 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-01-31 04:35:04.423 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2026-01-31 04:35:04.424 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18567/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
2026-01-31 04:35:04.427 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x37ae261ef609d9125eabda22d770bd1e097e15c5f5c0bc3fb4ffec0b393de1f2"}]}'
2026-01-31 04:35:04.427 DEBUG [src.steps.store] messages length is 1
2026-01-31 04:35:04.427 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2026-01-31 04:35:04.428 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:35715/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
2026-01-31 04:35:04.430 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x37ae261ef609d9125eabda22d770bd1e097e15c5f5c0bc3fb4ffec0b393de1f2"}]}'
2026-01-31 04:35:04.430 DEBUG [src.steps.store] messages length is 1
2026-01-31 04:35:04.430 DEBUG [tests.store.test_time_filter] Running test with payload 1 sec Past
2026-01-31 04:35:04.431 DEBUG [src.steps.store] Relaying message
2026-01-31 04:35:04.431 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:18567/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-01-31 04:35:04.436 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-31 04:35:04.436 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-01-31 04:35:04.637 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2026-01-31 04:35:04.637 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18567/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
2026-01-31 04:35:04.640 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x37ae261ef609d9125eabda22d770bd1e097e15c5f5c0bc3fb4ffec0b393de1f2"},{"messageHash":"0x902c8ed6420f606035ccb1c4f9b44010e663cbb6f4b76d791a03f13aa63012f1"}]}'
2026-01-31 04:35:04.640 DEBUG [src.steps.store] messages length is 2
2026-01-31 04:35:04.641 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2026-01-31 04:35:04.641 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:35715/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
2026-01-31 04:35:04.643 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x37ae261ef609d9125eabda22d770bd1e097e15c5f5c0bc3fb4ffec0b393de1f2"},{"messageHash":"0x902c8ed6420f606035ccb1c4f9b44010e663cbb6f4b76d791a03f13aa63012f1"}]}'
2026-01-31 04:35:04.644 DEBUG [src.steps.store] messages length is 2
2026-01-31 04:35:04.644 DEBUG [tests.store.test_time_filter] Running test with payload 0.1 sec Past
2026-01-31 04:35:04.644 DEBUG [src.steps.store] Relaying message
2026-01-31 04:35:04.644 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:18567/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-01-31 04:35:04.649 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-31 04:35:04.649 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-01-31 04:35:04.850 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2026-01-31 04:35:04.850 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18567/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
2026-01-31 04:35:04.853 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x37ae261ef609d9125eabda22d770bd1e097e15c5f5c0bc3fb4ffec0b393de1f2"},{"messageHash":"0x902c8ed6420f606035ccb1c4f9b44010e663cbb6f4b76d791a03f13aa63012f1"},{"messageHash":"0x3bc0737d9fc9e83bba938f8f1af9100188342f7e595af1db4c455a4e219573a2"}]}'
2026-01-31 04:35:04.853 DEBUG [src.steps.store] messages length is 3
2026-01-31 04:35:04.854 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2026-01-31 04:35:04.854 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:35715/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
2026-01-31 04:35:04.857 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x37ae261ef609d9125eabda22d770bd1e097e15c5f5c0bc3fb4ffec0b393de1f2"},{"messageHash":"0x902c8ed6420f606035ccb1c4f9b44010e663cbb6f4b76d791a03f13aa63012f1"},{"messageHash":"0x3bc0737d9fc9e83bba938f8f1af9100188342f7e595af1db4c455a4e219573a2"}]}'
2026-01-31 04:35:04.857 DEBUG [src.steps.store] messages length is 3
2026-01-31 04:35:04.857 DEBUG [tests.store.test_time_filter] Running test with payload 0.1 sec Future
2026-01-31 04:35:04.858 DEBUG [src.steps.store] Relaying message
2026-01-31 04:35:04.858 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:18567/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-01-31 04:35:04.863 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-31 04:35:04.863 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-01-31 04:35:05.064 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2026-01-31 04:35:05.064 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18567/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
2026-01-31 04:35:05.067 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x37ae261ef609d9125eabda22d770bd1e097e15c5f5c0bc3fb4ffec0b393de1f2"},{"messageHash":"0x902c8ed6420f606035ccb1c4f9b44010e663cbb6f4b76d791a03f13aa63012f1"},{"messageHash":"0x3bc0737d9fc9e83bba938f8f1af9100188342f7e595af1db4c455a4e219573a2"},{"messageHash":"0xc6ecb5828889b420a8b90c496526b62f3d6ad8dbd1b956a6a94944cb0e047933"}]}'
2026-01-31 04:35:05.067 DEBUG [src.steps.store] messages length is 4
2026-01-31 04:35:05.068 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2026-01-31 04:35:05.068 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:35715/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
2026-01-31 04:35:05.071 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x37ae261ef609d9125eabda22d770bd1e097e15c5f5c0bc3fb4ffec0b393de1f2"},{"messageHash":"0x902c8ed6420f606035ccb1c4f9b44010e663cbb6f4b76d791a03f13aa63012f1"},{"messageHash":"0x3bc0737d9fc9e83bba938f8f1af9100188342f7e595af1db4c455a4e219573a2"},{"messageHash":"0xc6ecb5828889b420a8b90c496526b62f3d6ad8dbd1b956a6a94944cb0e047933"}]}'
2026-01-31 04:35:05.071 DEBUG [src.steps.store] messages length is 4
2026-01-31 04:35:05.071 DEBUG [tests.store.test_time_filter] Running test with payload 2 sec Future
2026-01-31 04:35:05.072 DEBUG [src.steps.store] Relaying message
2026-01-31 04:35:05.072 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:18567/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-01-31 04:35:05.076 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-31 04:35:05.077 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-01-31 04:35:05.277 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2026-01-31 04:35:05.278 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18567/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
2026-01-31 04:35:05.281 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x37ae261ef609d9125eabda22d770bd1e097e15c5f5c0bc3fb4ffec0b393de1f2"},{"messageHash":"0x902c8ed6420f606035ccb1c4f9b44010e663cbb6f4b76d791a03f13aa63012f1"},{"messageHash":"0x3bc0737d9fc9e83bba938f8f1af9100188342f7e595af1db4c455a4e219573a2"},{"messageHash":"0xc6ecb5828889b420a8b90c496526b62f3d6ad8dbd1b956a6a94944cb0e047933"},{"messageHash":"0xf718529401cae9ed131955a4a2ee81bbb89723ce5d96a531dce8e3bfd488758c"}]}'
2026-01-31 04:35:05.281 DEBUG [src.steps.store] messages length is 5
2026-01-31 04:35:05.281 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2026-01-31 04:35:05.282 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:35715/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
2026-01-31 04:35:05.284 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x37ae261ef609d9125eabda22d770bd1e097e15c5f5c0bc3fb4ffec0b393de1f2"},{"messageHash":"0x902c8ed6420f606035ccb1c4f9b44010e663cbb6f4b76d791a03f13aa63012f1"},{"messageHash":"0x3bc0737d9fc9e83bba938f8f1af9100188342f7e595af1db4c455a4e219573a2"},{"messageHash":"0xc6ecb5828889b420a8b90c496526b62f3d6ad8dbd1b956a6a94944cb0e047933"},{"messageHash":"0xf718529401cae9ed131955a4a2ee81bbb89723ce5d96a531dce8e3bfd488758c"}]}'
2026-01-31 04:35:05.285 DEBUG [src.steps.store] messages length is 5
2026-01-31 04:35:05.285 DEBUG [tests.store.test_time_filter] Running test with payload 10 sec Future
2026-01-31 04:35:05.285 DEBUG [src.steps.store] Relaying message
2026-01-31 04:35:05.285 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:18567/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-01-31 04:35:05.290 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-31 04:35:05.290 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-01-31 04:35:05.491 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2026-01-31 04:35:05.491 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18567/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
2026-01-31 04:35:05.495 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x37ae261ef609d9125eabda22d770bd1e097e15c5f5c0bc3fb4ffec0b393de1f2"},{"messageHash":"0x902c8ed6420f606035ccb1c4f9b44010e663cbb6f4b76d791a03f13aa63012f1"},{"messageHash":"0x3bc0737d9fc9e83bba938f8f1af9100188342f7e595af1db4c455a4e219573a2"},{"messageHash":"0xc6ecb5828889b420a8b90c496526b62f3d6ad8dbd1b956a6a94944cb0e047933"},{"messageHash":"0xf718529401cae9ed131955a4a2ee81bbb89723ce5d96a531dce8e3bfd488758c"},{"messageHash":"0x340b7f0aeefd51a82cdec3873b39907383d9a4b9734da6ad1c9a15e8bc45c60c"}]}'
2026-01-31 04:35:05.495 DEBUG [src.steps.store] messages length is 6
2026-01-31 04:35:05.495 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2026-01-31 04:35:05.495 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:35715/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
2026-01-31 04:35:05.498 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x37ae261ef609d9125eabda22d770bd1e097e15c5f5c0bc3fb4ffec0b393de1f2"},{"messageHash":"0x902c8ed6420f606035ccb1c4f9b44010e663cbb6f4b76d791a03f13aa63012f1"},{"messageHash":"0x3bc0737d9fc9e83bba938f8f1af9100188342f7e595af1db4c455a4e219573a2"},{"messageHash":"0xc6ecb5828889b420a8b90c496526b62f3d6ad8dbd1b956a6a94944cb0e047933"},{"messageHash":"0xf718529401cae9ed131955a4a2ee81bbb89723ce5d96a531dce8e3bfd488758c"},{"messageHash":"0x340b7f0aeefd51a82cdec3873b39907383d9a4b9734da6ad1c9a15e8bc45c60c"}]}'
2026-01-31 04:35:05.498 DEBUG [src.steps.store] messages length is 6
2026-01-31 04:35:05.500 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-01-31 04:35:05.501 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-01-31 04:35:05.502 DEBUG [src.node.waku_node] Stopping container with id 59d84494371d
2026-01-31 04:35:06.070 DEBUG [src.node.waku_node] Container stopped.
2026-01-31 04:35:06.071 DEBUG [src.node.waku_node] Stopping container with id 5392543af1d1
2026-01-31 04:35:06.595 DEBUG [src.node.waku_node] Container stopped.
2026-01-31 04:35:06.596 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-01-31 04:35:06.604 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-01-31 04:35:06.611 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
