2026-01-31 04:31:52.356 DEBUG [tests.conftest] Running fixture setup: test_id
2026-01-31 04:31:52.357 DEBUG [tests.conftest] Running test: test_filter_unsubscribe_with_content_topic_string_instead_of_list with id: 2026-01-31_04-31-52__7950483e-e004-463f-b5ed-a035ab7b31a6
2026-01-31 04:31:52.357 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-01-31 04:31:52.357 DEBUG [src.steps.filter] Running fixture setup: filter_setup
2026-01-31 04:31:52.357 DEBUG [src.steps.filter] Running fixture setup: setup_main_relay_node
2026-01-31 04:31:52.364 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-01-31 04:31:52.364 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2026-01-31_04-31-52__7950483e-e004-463f-b5ed-a035ab7b31a6__wakuorg_nwaku:latest.log
2026-01-31 04:31:52.364 DEBUG [src.node.waku_node] Starting Node...
2026-01-31 04:31:52.364 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-01-31 04:31:52.365 DEBUG [src.node.docker_mananger] Network waku already exists
2026-01-31 04:31:52.366 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.92.69
2026-01-31 04:31:52.366 DEBUG [src.node.docker_mananger] Generated ports ['6278', '6279', '6280', '6281', '6282']
2026-01-31 04:31:52.366 DEBUG [src.node.waku_node] RLN credentials were not set
2026-01-31 04:31:52.366 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-01-31 04:31:52.366 DEBUG [src.node.waku_node] Using volumes []
2026-01-31 04:31:52.366 DEBUG [src.node.docker_mananger] docker run -i -t -p 6278:6278 -p 6279:6279 -p 6280:6280 -p 6281:6281 -p 6282:6282 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=6280 --rest-port=6278 --tcp-port=6279 --discv5-udp-port=6281 --rest-address=0.0.0.0 --nat=extip:172.18.92.69 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=6c7aa21cafdfff4b7af9eda1e6d2fa5d41d70eaffeeecbc185ebff76de1d9bbb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=6282 --metrics-logging=true --relay=true --filter=true
2026-01-31 04:31:52.548 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.92.69 waku 0c40e7234aa50e557df3c76190a39a5b9e30e4a3a778ba41261602aa37e565e9
2026-01-31 04:31:52.583 DEBUG [src.node.docker_mananger] Container started with ID 0c40e7234aa5. Setting up logs at ./log/docker/node1_2026-01-31_04-31-52__7950483e-e004-463f-b5ed-a035ab7b31a6__wakuorg_nwaku:latest.log
2026-01-31 04:31:52.583 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 6278
2026-01-31 04:31:52.585 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-01-31 04:31:52.596 ERROR [src.node.docker_mananger] Max retries reached for container 229ec0c39a86. Exiting log stream.
2026-01-31 04:31:53.162 ERROR [src.node.docker_mananger] Max retries reached for container 9cb03431e91b. Exiting log stream.
2026-01-31 04:31:53.585 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:6278/health" -H "Content-Type: application/json" -d 'None'
2026-01-31 04:31:53.588 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_READY","desc":"Relay is not ready, filter will not be able to sort out messages"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-01-31 04:31:53.588 INFO [src.node.waku_node] Node protocols are initialized !!
2026-01-31 04:31:53.589 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:6278/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-01-31 04:31:53.591 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.92.69/tcp/6279/p2p/16Uiu2HAmC8KqACBY8YFFQLvYZfGcim6vc4QAhHZsnje3xkrzR3Y7","/ip4/172.18.92.69/tcp/6280/ws/p2p/16Uiu2HAmC8KqACBY8YFFQLvYZfGcim6vc4QAhHZsnje3xkrzR3Y7"],"enrUri":"enr:-L24QCjYLDdqSWTWo64UG9upV11XvqvfE9xaDFv87MaekEWPSmQynAiw9aUuQOqzB_8ioz4FCHiROyLJnRVqS0FlfiACgmlkgnY0gmlwhKwSXEWKbXVsdGlhZGRyc5YACASsElxFBhiHAAoErBJcRQYYiN0DgnJzhQADAQAAiXNlY3AyNTZrMaEC-CUFh38MUe78ep1Hi3D7bu13BPe6YAoVUTzrQAMOY4SDdGNwghiHg3VkcIIYiYV3YWt1MgU"}'
2026-01-31 04:31:53.591 INFO [src.node.waku_node] REST service is ready !!
2026-01-31 04:31:53.592 DEBUG [src.steps.filter] Running fixture setup: setup_main_filter_node
2026-01-31 04:31:53.598 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-01-31 04:31:53.598 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2026-01-31_04-31-52__7950483e-e004-463f-b5ed-a035ab7b31a6__wakuorg_nwaku:latest.log
2026-01-31 04:31:53.599 DEBUG [src.node.waku_node] Starting Node...
2026-01-31 04:31:53.599 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-01-31 04:31:53.600 DEBUG [src.node.docker_mananger] Network waku already exists
2026-01-31 04:31:53.600 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.158.229
2026-01-31 04:31:53.600 DEBUG [src.node.docker_mananger] Generated ports ['3859', '3860', '3861', '3862', '3863']
2026-01-31 04:31:53.601 DEBUG [src.node.waku_node] RLN credentials were not set
2026-01-31 04:31:53.601 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-01-31 04:31:53.601 DEBUG [src.node.waku_node] Using volumes []
2026-01-31 04:31:53.601 DEBUG [src.node.docker_mananger] docker run -i -t -p 3859:3859 -p 3860:3860 -p 3861:3861 -p 3862:3862 -p 3863:3863 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=3861 --rest-port=3859 --tcp-port=3860 --discv5-udp-port=3862 --rest-address=0.0.0.0 --nat=extip:172.18.158.229 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=7fbc077fdc98833b6bd1aaf9e4aebcbd0aa3fc5253b76cbaaf1f70eef2559535 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=3863 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QCjYLDdqSWTWo64UG9upV11XvqvfE9xaDFv87MaekEWPSmQynAiw9aUuQOqzB_8ioz4FCHiROyLJnRVqS0FlfiACgmlkgnY0gmlwhKwSXEWKbXVsdGlhZGRyc5YACASsElxFBhiHAAoErBJcRQYYiN0DgnJzhQADAQAAiXNlY3AyNTZrMaEC-CUFh38MUe78ep1Hi3D7bu13BPe6YAoVUTzrQAMOY4SDdGNwghiHg3VkcIIYiYV3YWt1MgU --filternode=/ip4/172.18.92.69/tcp/6279/p2p/16Uiu2HAmC8KqACBY8YFFQLvYZfGcim6vc4QAhHZsnje3xkrzR3Y7
2026-01-31 04:31:53.784 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.158.229 waku 7a75001f15e755edde31ce4b3eee8278da1f3e198c267c5e2014fe422451a91c
2026-01-31 04:31:53.817 DEBUG [src.node.docker_mananger] Container started with ID 7a75001f15e7. Setting up logs at ./log/docker/node2_2026-01-31_04-31-52__7950483e-e004-463f-b5ed-a035ab7b31a6__wakuorg_nwaku:latest.log
2026-01-31 04:31:53.817 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 3859
2026-01-31 04:31:53.817 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-01-31 04:31:54.818 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:3859/health" -H "Content-Type: application/json" -d 'None'
2026-01-31 04:31:54.822 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_MOUNTED"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"READY"}]}'
2026-01-31 04:31:54.822 INFO [src.node.waku_node] Node protocols are initialized !!
2026-01-31 04:31:54.822 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:3859/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-01-31 04:31:54.825 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.158.229/tcp/3860/p2p/16Uiu2HAmPfYuhfdepLsUQpzheEEvaPY7jqgeDjEBLo4iqKY2G4eR","/ip4/172.18.158.229/tcp/3861/ws/p2p/16Uiu2HAmPfYuhfdepLsUQpzheEEvaPY7jqgeDjEBLo4iqKY2G4eR"],"enrUri":"enr:-L24QC6RAiMAhtv1limnDe0KgcKji6ECBohO4t-374ZKdpJWcUAkn3Dg--gk6fSwqjfTmPza3iF3OqUUpBJIYyp6pwMCgmlkgnY0gmlwhKwSnuWKbXVsdGlhZGRyc5YACASsEp7lBg8UAAoErBKe5QYPFd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDo5Ve3gM4Kzx7lwi0rwCwo5RgveoCQEgamBMZd91Hky6DdGNwgg8Ug3VkcIIPFoV3YWt1MgA"}'
2026-01-31 04:31:54.825 INFO [src.node.waku_node] REST service is ready !!
2026-01-31 04:31:54.825 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:3859/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.92.69/tcp/6279/p2p/16Uiu2HAmC8KqACBY8YFFQLvYZfGcim6vc4QAhHZsnje3xkrzR3Y7"]'
2026-01-31 04:31:54.856 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-31 04:31:54.857 DEBUG [src.steps.filter] Running fixture setup: subscribe_main_nodes
2026-01-31 04:31:54.858 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:6278/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2026-01-31 04:31:54.870 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-31 04:31:54.871 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:3859/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "f9c62d93-018a-4adc-a289-cd85266c3719", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
2026-01-31 04:31:54.882 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"f9c62d93-018a-4adc-a289-cd85266c3719","statusDesc":"OK"}'
2026-01-31 04:31:54.885 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:3859/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": "/test/1/waku-filter/proto", "pubsubTopic": "/waku/2/rs/3/1"}'
2026-01-31 04:31:54.887 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:3859/filter/v2/subscriptions. Response content: b'{"requestId":"unknown","statusDesc":"BAD_REQUEST: Failed to decode request: (status: 400 Bad Request, headers: , kind: Error, errobj: (status: 400 Bad Request, message: \\"Invalid content body, could not decode. Unable to deserialize data: \\", contentType: \\"text/plain\\"))"}'
2026-01-31 04:31:54.890 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-01-31 04:31:54.891 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-01-31 04:31:54.891 DEBUG [src.node.waku_node] Stopping container with id 0c40e7234aa5
2026-01-31 04:31:55.415 DEBUG [src.node.waku_node] Container stopped.
2026-01-31 04:31:55.415 DEBUG [src.node.waku_node] Stopping container with id 7a75001f15e7
2026-01-31 04:31:55.919 DEBUG [src.node.waku_node] Container stopped.
2026-01-31 04:31:55.921 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-01-31 04:31:55.927 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-01-31 04:31:55.931 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
