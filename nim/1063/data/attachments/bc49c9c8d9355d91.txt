2026-01-31 04:32:44.611 DEBUG [tests.conftest] Running fixture setup: test_id
2026-01-31 04:32:44.612 DEBUG [tests.conftest] Running test: test_unsubscribe_from_some_content_topics[content_topic_list1] with id: 2026-01-31_04-32-44__e01c8ab1-0c67-48f4-b87a-9fdebf73015b
2026-01-31 04:32:44.612 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-01-31 04:32:44.614 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2026-01-31 04:32:44.615 DEBUG [src.steps.sharding] Running fixture setup: sharding_setup
2026-01-31 04:32:44.626 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-01-31 04:32:44.627 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2026-01-31_04-32-44__e01c8ab1-0c67-48f4-b87a-9fdebf73015b__wakuorg_nwaku:latest.log
2026-01-31 04:32:44.627 DEBUG [src.node.waku_node] Starting Node...
2026-01-31 04:32:44.627 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-01-31 04:32:44.628 DEBUG [src.node.docker_mananger] Network waku already exists
2026-01-31 04:32:44.628 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.96.125
2026-01-31 04:32:44.629 DEBUG [src.node.docker_mananger] Generated ports ['47004', '47005', '47006', '47007', '47008']
2026-01-31 04:32:44.629 DEBUG [src.node.waku_node] RLN credentials were not set
2026-01-31 04:32:44.629 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-01-31 04:32:44.629 DEBUG [src.node.waku_node] Using volumes []
2026-01-31 04:32:44.629 DEBUG [src.node.docker_mananger] docker run -i -t -p 47004:47004 -p 47005:47005 -p 47006:47006 -p 47007:47007 -p 47008:47008 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=47006 --rest-port=47004 --tcp-port=47005 --discv5-udp-port=47007 --rest-address=0.0.0.0 --nat=extip:172.18.96.125 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=b4f303cc9bef81e513accf350da232c4ae708f461b533a6d84acc3051a8f1bf4 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=47008 --metrics-logging=true --relay=true --filter=true --content-topic=/myapp/1/latest/proto --num-shards-in-network=8
2026-01-31 04:32:44.805 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.96.125 waku 4983fbdb375df2c0f6de9e7c24eb3b551d140eb6b5386adaec26c674424778ff
2026-01-31 04:32:44.839 DEBUG [src.node.docker_mananger] Container started with ID 4983fbdb375d. Setting up logs at ./log/docker/node1_2026-01-31_04-32-44__e01c8ab1-0c67-48f4-b87a-9fdebf73015b__wakuorg_nwaku:latest.log
2026-01-31 04:32:44.840 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 47004
2026-01-31 04:32:44.840 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-01-31 04:32:44.857 ERROR [src.node.docker_mananger] Max retries reached for container 17851449e35c. Exiting log stream.
2026-01-31 04:32:45.436 ERROR [src.node.docker_mananger] Max retries reached for container f723e1214a12. Exiting log stream.
2026-01-31 04:32:45.840 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:47004/health" -H "Content-Type: application/json" -d 'None'
2026-01-31 04:32:45.843 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_READY","desc":"Relay is not ready, filter will not be able to sort out messages"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-01-31 04:32:45.844 INFO [src.node.waku_node] Node protocols are initialized !!
2026-01-31 04:32:45.844 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:47004/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-01-31 04:32:45.846 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.96.125/tcp/47005/p2p/16Uiu2HAmH3QzxH3UfXxrMvZZWLh1x1Whws8BgxbQneHbpxGRamxJ","/ip4/172.18.96.125/tcp/47006/ws/p2p/16Uiu2HAmH3QzxH3UfXxrMvZZWLh1x1Whws8BgxbQneHbpxGRamxJ"],"enrUri":"enr:-L24QIQpdMmz-byPsboJnMxyasra8sIUtKWyUldYDyyxq7GDQqVmclVPDTPX-kRyro0upGwjmPBqxlgrlhkgFfb_1o8CgmlkgnY0gmlwhKwSYH2KbXVsdGlhZGRyc5YACASsEmB9BredAAoErBJgfQa3nt0DgnJzhQACAQAAiXNlY3AyNTZrMaEDQS1liqU9TR3Fzv5jKaWSkpye-mqqmZk-wZSDcImjHv-DdGNwgredg3VkcIK3n4V3YWt1MgU"}'
2026-01-31 04:32:45.846 INFO [src.node.waku_node] REST service is ready !!
2026-01-31 04:32:45.853 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-01-31 04:32:45.854 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2026-01-31_04-32-44__e01c8ab1-0c67-48f4-b87a-9fdebf73015b__wakuorg_nwaku:latest.log
2026-01-31 04:32:45.854 DEBUG [src.node.waku_node] Starting Node...
2026-01-31 04:32:45.854 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-01-31 04:32:45.855 DEBUG [src.node.docker_mananger] Network waku already exists
2026-01-31 04:32:45.855 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.39.1
2026-01-31 04:32:45.855 DEBUG [src.node.docker_mananger] Generated ports ['19853', '19854', '19855', '19856', '19857']
2026-01-31 04:32:45.856 DEBUG [src.node.waku_node] RLN credentials were not set
2026-01-31 04:32:45.856 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-01-31 04:32:45.856 DEBUG [src.node.waku_node] Using volumes []
2026-01-31 04:32:45.856 DEBUG [src.node.docker_mananger] docker run -i -t -p 19853:19853 -p 19854:19854 -p 19855:19855 -p 19856:19856 -p 19857:19857 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=19855 --rest-port=19853 --tcp-port=19854 --discv5-udp-port=19856 --rest-address=0.0.0.0 --nat=extip:172.18.39.1 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=b769bf9beddfcf5ffa7b9afce67e51bb3ae712ad38ee2c8cccaf3dd9aace87be --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=19857 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QIQpdMmz-byPsboJnMxyasra8sIUtKWyUldYDyyxq7GDQqVmclVPDTPX-kRyro0upGwjmPBqxlgrlhkgFfb_1o8CgmlkgnY0gmlwhKwSYH2KbXVsdGlhZGRyc5YACASsEmB9BredAAoErBJgfQa3nt0DgnJzhQACAQAAiXNlY3AyNTZrMaEDQS1liqU9TR3Fzv5jKaWSkpye-mqqmZk-wZSDcImjHv-DdGNwgredg3VkcIK3n4V3YWt1MgU --content-topic=/myapp/1/latest/proto --num-shards-in-network=8
2026-01-31 04:32:46.041 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.39.1 waku 41b23eded38b3301f41cf97f3bbc045dd538058e0c1db3bc0b4b1235e0400d4c
2026-01-31 04:32:46.073 DEBUG [src.node.docker_mananger] Container started with ID 41b23eded38b. Setting up logs at ./log/docker/node2_2026-01-31_04-32-44__e01c8ab1-0c67-48f4-b87a-9fdebf73015b__wakuorg_nwaku:latest.log
2026-01-31 04:32:46.073 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 19853
2026-01-31 04:32:46.073 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-01-31 04:32:47.074 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19853/health" -H "Content-Type: application/json" -d 'None'
2026-01-31 04:32:47.088 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"READY"}]}'
2026-01-31 04:32:47.089 INFO [src.node.waku_node] Node protocols are initialized !!
2026-01-31 04:32:47.089 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19853/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-01-31 04:32:47.095 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.39.1/tcp/19854/p2p/16Uiu2HAm42aiohN4sVkExbFbMDAQC1yk3HxSQk6B1XWvz4b7uFr4","/ip4/172.18.39.1/tcp/19855/ws/p2p/16Uiu2HAm42aiohN4sVkExbFbMDAQC1yk3HxSQk6B1XWvz4b7uFr4"],"enrUri":"enr:-L24QL-2ZbM8Rwiv2MTaQtNU7Y61hmZW-54Xb-KDTe_7svO0U0XkhQJY5zOcYiThDhn1YQPLg7XK6eE8Q6QZGYNdo90CgmlkgnY0gmlwhKwSJwGKbXVsdGlhZGRyc5YACASsEicBBk2OAAoErBInAQZNj90DgnJzhQACAQAAiXNlY3AyNTZrMaECf87gxn9-_6S2Azqpq13sGTbfFvcXoyLwkBqSMfHTiRWDdGNwgk2Og3VkcIJNkIV3YWt1MgE"}'
2026-01-31 04:32:47.096 INFO [src.node.waku_node] REST service is ready !!
2026-01-31 04:32:47.096 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:19853/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.96.125/tcp/47005/p2p/16Uiu2HAmH3QzxH3UfXxrMvZZWLh1x1Whws8BgxbQneHbpxGRamxJ"]'
2026-01-31 04:32:47.101 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-31 04:32:47.102 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:47004/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2026-01-31 04:32:47.111 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-31 04:32:47.114 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:19853/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2026-01-31 04:32:47.128 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-31 04:32:47.129 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:47004/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-01-31 04:32:47.143 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-31 04:32:47.144 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-01-31 04:32:47.245 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-01-31 04:32:47.246 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:47004/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2026-01-31 04:32:47.248 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1769833967129667946,"ephemeral":false,"proof":""}]'
2026-01-31 04:32:47.250 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-01-31 04:32:47.250 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19853/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2026-01-31 04:32:47.253 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1769833967129667946,"ephemeral":false,"proof":""}]'
2026-01-31 04:32:47.254 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:47004/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2026-01-31 04:32:47.259 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-31 04:32:47.259 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-01-31 04:32:47.360 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-01-31 04:32:47.361 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:47004/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2026-01-31 04:32:47.364 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/waku/2/content/test.js","version":0,"timestamp":1769833967254750050,"ephemeral":false,"proof":""}]'
2026-01-31 04:32:47.365 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-01-31 04:32:47.365 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19853/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2026-01-31 04:32:47.368 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/waku/2/content/test.js","version":0,"timestamp":1769833967254750050,"ephemeral":false,"proof":""}]'
2026-01-31 04:32:47.369 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:47004/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-01-31 04:32:47.374 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-31 04:32:47.374 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-01-31 04:32:47.474 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-01-31 04:32:47.475 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:47004/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-01-31 04:32:47.478 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/22/sometopic/someencoding","version":0,"timestamp":1769833967369611211,"ephemeral":false,"proof":""}]'
2026-01-31 04:32:47.479 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-01-31 04:32:47.479 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19853/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-01-31 04:32:47.482 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/22/sometopic/someencoding","version":0,"timestamp":1769833967369611211,"ephemeral":false,"proof":""}]'
2026-01-31 04:32:47.483 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:47004/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2026-01-31 04:32:47.488 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-31 04:32:47.489 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-01-31 04:32:47.589 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-01-31 04:32:47.590 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:47004/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2026-01-31 04:32:47.593 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1769833967483831664,"ephemeral":false,"proof":""}]'
2026-01-31 04:32:47.595 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-01-31 04:32:47.595 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19853/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2026-01-31 04:32:47.598 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1769833967483831664,"ephemeral":false,"proof":""}]'
2026-01-31 04:32:47.600 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:47004/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2026-01-31 04:32:47.605 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-31 04:32:47.605 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-01-31 04:32:47.706 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-01-31 04:32:47.706 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:47004/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2026-01-31 04:32:47.709 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1769833967599946937,"ephemeral":false,"proof":""}]'
2026-01-31 04:32:47.711 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-01-31 04:32:47.711 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19853/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2026-01-31 04:32:47.713 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1769833967599946937,"ephemeral":false,"proof":""}]'
2026-01-31 04:32:47.715 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:47004/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-01-31 04:32:47.719 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-31 04:32:47.719 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-01-31 04:32:47.820 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-01-31 04:32:47.820 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:47004/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-01-31 04:32:47.823 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1769833967715379347,"ephemeral":false,"proof":""}]'
2026-01-31 04:32:47.825 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-01-31 04:32:47.825 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19853/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-01-31 04:32:47.827 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1769833967715379347,"ephemeral":false,"proof":""}]'
2026-01-31 04:32:47.829 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:47004/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-01-31 04:32:47.834 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-31 04:32:47.834 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-01-31 04:32:47.934 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-01-31 04:32:47.935 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:47004/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-01-31 04:32:47.938 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1769833967829420918,"ephemeral":false,"proof":""}]'
2026-01-31 04:32:47.939 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-01-31 04:32:47.939 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19853/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-01-31 04:32:47.942 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1769833967829420918,"ephemeral":false,"proof":""}]'
2026-01-31 04:32:47.944 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:47004/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-01-31 04:32:47.948 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-31 04:32:47.949 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-01-31 04:32:48.049 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-01-31 04:32:48.050 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:47004/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-01-31 04:32:48.054 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1769833967943916100,"ephemeral":false,"proof":""}]'
2026-01-31 04:32:48.055 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-01-31 04:32:48.056 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19853/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-01-31 04:32:48.058 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1769833967943916100,"ephemeral":false,"proof":""}]'
2026-01-31 04:32:48.060 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:47004/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding"]'
2026-01-31 04:32:48.067 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-31 04:32:48.068 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:19853/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding"]'
2026-01-31 04:32:48.077 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-31 04:32:48.078 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:47004/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-01-31 04:32:48.082 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-31 04:32:48.082 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-01-31 04:32:48.182 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-01-31 04:32:48.183 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:47004/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2026-01-31 04:32:48.186 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:47004/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto. Response content: b'/myapp/1/latest/proto'
2026-01-31 04:32:48.187 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:47004/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2026-01-31 04:32:48.190 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-31 04:32:48.191 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-01-31 04:32:48.291 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-01-31 04:32:48.291 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:47004/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2026-01-31 04:32:48.294 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:47004/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js. Response content: b'/waku/2/content/test.js'
2026-01-31 04:32:48.296 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:47004/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-01-31 04:32:48.299 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-31 04:32:48.299 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-01-31 04:32:48.399 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-01-31 04:32:48.400 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:47004/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-01-31 04:32:48.403 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:47004/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding. Response content: b'/app/22/sometopic/someencoding'
2026-01-31 04:32:48.404 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:47004/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2026-01-31 04:32:48.409 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-31 04:32:48.410 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-01-31 04:32:48.510 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-01-31 04:32:48.511 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:47004/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2026-01-31 04:32:48.513 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1769833968404366019,"ephemeral":false,"proof":""}]'
2026-01-31 04:32:48.515 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-01-31 04:32:48.515 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19853/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2026-01-31 04:32:48.517 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1769833968404366019,"ephemeral":false,"proof":""}]'
2026-01-31 04:32:48.519 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:47004/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2026-01-31 04:32:48.523 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-31 04:32:48.523 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-01-31 04:32:48.625 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-01-31 04:32:48.625 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:47004/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2026-01-31 04:32:48.628 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1769833968519348896,"ephemeral":false,"proof":""}]'
2026-01-31 04:32:48.629 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-01-31 04:32:48.630 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19853/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2026-01-31 04:32:48.632 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1769833968519348896,"ephemeral":false,"proof":""}]'
2026-01-31 04:32:48.634 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:47004/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-01-31 04:32:48.638 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-31 04:32:48.638 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-01-31 04:32:48.739 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-01-31 04:32:48.739 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:47004/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-01-31 04:32:48.742 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1769833968634063631,"ephemeral":false,"proof":""}]'
2026-01-31 04:32:48.743 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-01-31 04:32:48.744 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19853/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-01-31 04:32:48.746 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1769833968634063631,"ephemeral":false,"proof":""}]'
2026-01-31 04:32:48.748 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:47004/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-01-31 04:32:48.752 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-31 04:32:48.752 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-01-31 04:32:48.852 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-01-31 04:32:48.853 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:47004/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-01-31 04:32:48.856 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1769833968747991591,"ephemeral":false,"proof":""}]'
2026-01-31 04:32:48.857 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-01-31 04:32:48.857 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19853/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-01-31 04:32:48.860 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1769833968747991591,"ephemeral":false,"proof":""}]'
2026-01-31 04:32:48.862 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:47004/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-01-31 04:32:48.867 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-01-31 04:32:48.867 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-01-31 04:32:48.967 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-01-31 04:32:48.968 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:47004/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-01-31 04:32:48.970 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1769833968862060017,"ephemeral":false,"proof":""}]'
2026-01-31 04:32:48.972 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-01-31 04:32:48.972 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19853/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-01-31 04:32:48.975 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1769833968862060017,"ephemeral":false,"proof":""}]'
2026-01-31 04:32:48.978 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-01-31 04:32:48.979 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-01-31 04:32:48.979 DEBUG [src.node.waku_node] Stopping container with id 4983fbdb375d
2026-01-31 04:32:49.550 DEBUG [src.node.waku_node] Container stopped.
2026-01-31 04:32:49.553 DEBUG [src.node.waku_node] Stopping container with id 41b23eded38b
2026-01-31 04:32:50.126 DEBUG [src.node.waku_node] Container stopped.
2026-01-31 04:32:50.126 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-01-31 04:32:50.149 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-01-31 04:32:50.161 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
