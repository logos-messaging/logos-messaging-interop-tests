2026-02-10 04:46:24.014 DEBUG [tests.conftest] Running fixture setup: test_id
2026-02-10 04:46:24.014 DEBUG [tests.conftest] Running test: test_store_without_pubsub_topic_and_content_topic with id: 2026-02-10_04-46-24__a27750e2-b262-439e-b509-a4527e13b514
2026-02-10 04:46:24.015 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-02-10 04:46:24.015 DEBUG [src.steps.store] Running fixture setup: store_setup
2026-02-10 04:46:24.015 DEBUG [src.steps.store] Running fixture setup: node_setup
2026-02-10 04:46:24.022 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-10 04:46:24.022 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/publishing_node1_2026-02-10_04-46-24__a27750e2-b262-439e-b509-a4527e13b514__wakuorg_nwaku:latest.log
2026-02-10 04:46:24.022 DEBUG [src.node.waku_node] Starting Node...
2026-02-10 04:46:24.022 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-10 04:46:24.024 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-10 04:46:24.024 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.229.175
2026-02-10 04:46:24.024 DEBUG [src.node.docker_mananger] Generated ports ['15314', '15315', '15316', '15317', '15318']
2026-02-10 04:46:24.024 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-10 04:46:24.024 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-10 04:46:24.025 DEBUG [src.node.waku_node] Using volumes []
2026-02-10 04:46:24.025 DEBUG [src.node.docker_mananger] docker run -i -t -p 15314:15314 -p 15315:15315 -p 15316:15316 -p 15317:15317 -p 15318:15318 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=15316 --rest-port=15314 --tcp-port=15315 --discv5-udp-port=15317 --rest-address=0.0.0.0 --nat=extip:172.18.229.175 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a2f05aeaff06ff4d786e26b196ec38dcf54bb4f50447c99e5467fbffc5f7b03f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=15318 --metrics-logging=true --store=true --relay=true
2026-02-10 04:46:24.218 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.229.175 waku 85c84cf6e776bb89feaceccb7ede91da295d0fc5b5f3530ac5aad8d6be4f7991
2026-02-10 04:46:24.249 DEBUG [src.node.docker_mananger] Container started with ID 85c84cf6e776. Setting up logs at ./log/docker/publishing_node1_2026-02-10_04-46-24__a27750e2-b262-439e-b509-a4527e13b514__wakuorg_nwaku:latest.log
2026-02-10 04:46:24.250 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 15314
2026-02-10 04:46:24.250 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-10 04:46:24.277 ERROR [src.node.docker_mananger] Max retries reached for container 2ac340bcd965. Exiting log stream.
2026-02-10 04:46:24.802 ERROR [src.node.docker_mananger] Max retries reached for container 3655e77a1dcf. Exiting log stream.
2026-02-10 04:46:25.251 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15314/health" -H "Content-Type: application/json" -d 'None'
2026-02-10 04:46:25.255 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"READY"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"READY"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-10 04:46:25.255 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-10 04:46:25.255 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15314/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-10 04:46:25.257 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.229.175/tcp/15315/p2p/16Uiu2HAkv8wCJmZS9bfZ6CUf5GqQR6prvYVzcsUsp7HQ4YdtgPTa","/ip4/172.18.229.175/tcp/15316/ws/p2p/16Uiu2HAkv8wCJmZS9bfZ6CUf5GqQR6prvYVzcsUsp7HQ4YdtgPTa"],"enrUri":"enr:-L24QOZVZbkcE_gDV9QohUN95gs_XjpPs2ISbSxtrL3H6BFVEqMHyURljbFSbjcN_ZMOQtgG-oRPuxlvfCsycpR7gLcCgmlkgnY0gmlwhKwS5a-KbXVsdGlhZGRyc5YACASsEuWvBjvTAAoErBLlrwY71N0DgnJzhQADAQAAiXNlY3AyNTZrMaECCpIEhpF-J5fjfv4gC9BPOg7R7wT_2A3_dzFavNUsMCWDdGNwgjvTg3VkcII71YV3YWt1MgM"}'
2026-02-10 04:46:25.258 INFO [src.node.waku_node] REST service is ready !!
2026-02-10 04:46:25.265 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-10 04:46:25.265 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/store_node1_2026-02-10_04-46-24__a27750e2-b262-439e-b509-a4527e13b514__wakuorg_nwaku:latest.log
2026-02-10 04:46:25.265 DEBUG [src.node.waku_node] Starting Node...
2026-02-10 04:46:25.265 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-10 04:46:25.267 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-10 04:46:25.267 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.76.12
2026-02-10 04:46:25.267 DEBUG [src.node.docker_mananger] Generated ports ['4976', '4977', '4978', '4979', '4980']
2026-02-10 04:46:25.267 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-10 04:46:25.267 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-10 04:46:25.268 DEBUG [src.node.waku_node] Using volumes []
2026-02-10 04:46:25.268 DEBUG [src.node.docker_mananger] docker run -i -t -p 4976:4976 -p 4977:4977 -p 4978:4978 -p 4979:4979 -p 4980:4980 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=4978 --rest-port=4976 --tcp-port=4977 --discv5-udp-port=4979 --rest-address=0.0.0.0 --nat=extip:172.18.76.12 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=22ff2ce812f9a14e5fca16636a0f4bff6ab5cdf7d054aefa4dceef96ec7d2c9e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=4980 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QOZVZbkcE_gDV9QohUN95gs_XjpPs2ISbSxtrL3H6BFVEqMHyURljbFSbjcN_ZMOQtgG-oRPuxlvfCsycpR7gLcCgmlkgnY0gmlwhKwS5a-KbXVsdGlhZGRyc5YACASsEuWvBjvTAAoErBLlrwY71N0DgnJzhQADAQAAiXNlY3AyNTZrMaECCpIEhpF-J5fjfv4gC9BPOg7R7wT_2A3_dzFavNUsMCWDdGNwgjvTg3VkcII71YV3YWt1MgM --storenode=/ip4/172.18.229.175/tcp/15315/p2p/16Uiu2HAkv8wCJmZS9bfZ6CUf5GqQR6prvYVzcsUsp7HQ4YdtgPTa --store=true --relay=true
2026-02-10 04:46:25.469 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.76.12 waku 54ad5c5feeca936b926f0b3f6bc1f5ba446c72d9fcb6bdfa356fac32befba19d
2026-02-10 04:46:25.499 DEBUG [src.node.docker_mananger] Container started with ID 54ad5c5feeca. Setting up logs at ./log/docker/store_node1_2026-02-10_04-46-24__a27750e2-b262-439e-b509-a4527e13b514__wakuorg_nwaku:latest.log
2026-02-10 04:46:25.501 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 4976
2026-02-10 04:46:25.501 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-10 04:46:26.501 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:4976/health" -H "Content-Type: application/json" -d 'None'
2026-02-10 04:46:26.506 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"READY"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"READY"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"READY"},{"Legacy Store Client":"READY"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-10 04:46:26.506 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-10 04:46:26.506 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:4976/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-10 04:46:26.508 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.76.12/tcp/4977/p2p/16Uiu2HAmJz2FmBhPeWb7h6Zed2HmXG9ACntJD3Yb7kJL1dwA3mhW","/ip4/172.18.76.12/tcp/4978/ws/p2p/16Uiu2HAmJz2FmBhPeWb7h6Zed2HmXG9ACntJD3Yb7kJL1dwA3mhW"],"enrUri":"enr:-L24QAu-IRb3B3rhMVKeCCVKo0dVrHhN-h8y7PzaBxyGyI0_asFG9DcccXSddHcXMelil8Ebxu32htlp1GHH2Vlf-r0CgmlkgnY0gmlwhKwSTAyKbXVsdGlhZGRyc5YACASsEkwMBhNxAAoErBJMDAYTct0DgnJzhQADAQAAiXNlY3AyNTZrMaEDXgZPgnY4wb7Fp4hGj3xmKrVcQlSNg5VqUBbswM1Sjv2DdGNwghNxg3VkcIITc4V3YWt1MgM"}'
2026-02-10 04:46:26.508 INFO [src.node.waku_node] REST service is ready !!
2026-02-10 04:46:26.509 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4976/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.229.175/tcp/15315/p2p/16Uiu2HAkv8wCJmZS9bfZ6CUf5GqQR6prvYVzcsUsp7HQ4YdtgPTa"]'
2026-02-10 04:46:26.511 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-10 04:46:26.512 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:15314/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-10 04:46:26.514 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-10 04:46:26.514 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4976/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-10 04:46:26.517 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-10 04:46:26.517 DEBUG [src.steps.store] Relaying message
2026-02-10 04:46:26.517 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:15314/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-10 04:46:26.522 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-10 04:46:26.523 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-10 04:46:26.724 DEBUG [src.steps.store] Relaying message
2026-02-10 04:46:26.724 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:15314/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2026-02-10 04:46:26.729 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-10 04:46:26.730 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-10 04:46:26.931 DEBUG [src.steps.store] Relaying message
2026-02-10 04:46:26.931 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:15314/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-02-10 04:46:26.936 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-10 04:46:26.936 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-10 04:46:27.137 DEBUG [src.steps.store] Relaying message
2026-02-10 04:46:27.138 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:15314/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2026-02-10 04:46:27.143 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-10 04:46:27.143 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-10 04:46:27.344 DEBUG [src.steps.store] Relaying message
2026-02-10 04:46:27.345 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:15314/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2026-02-10 04:46:27.350 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-10 04:46:27.351 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-10 04:46:27.552 DEBUG [src.steps.store] Relaying message
2026-02-10 04:46:27.552 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:15314/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-02-10 04:46:27.557 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-10 04:46:27.557 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-10 04:46:27.758 DEBUG [src.steps.store] Relaying message
2026-02-10 04:46:27.759 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:15314/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-02-10 04:46:27.764 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-10 04:46:27.764 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-10 04:46:27.965 DEBUG [src.steps.store] Relaying message
2026-02-10 04:46:27.965 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:15314/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-02-10 04:46:27.969 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-10 04:46:27.970 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-10 04:46:28.171 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15314/store/v3/messages?pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
2026-02-10 04:46:28.175 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x13072e17e6a9d163ce3540213b18a06d421cb1d4c3a572ee49eb6887d6ea580a"},{"messageHash":"0x4d7a5152aacda557af9240386def8da769a95f2dd8f589ab3ed8d9fb0347acd2"},{"messageHash":"0x5354da88bc507267e9734153cdb3e7c14c62cc5f14b2a12c44ef5622e8390c23"},{"messageHash":"0xba2a62233219f7a0ef6679bc0d8114c102283d21bdf7ef47efba6a96476da894"},{"messageHash":"0x3c3cbc20709986f8d04e4caec6fccbfa3c2d905121d3ceced62dd1254c4a798b"},{"messageHash":"0x53e27891dd764f2b9863bfe930bd38c020229b004f683e947aa7e8cb89c644de"},{"messageHash":"0xa6e183bdf0d3e4a79c7da450160c4a17e5d036c11215abca1fb49dbdf652a0c9"},{"messageHash":"0x1316408dd27315e768160bc13adfa360ab6452bd6dc628491fd66d2ae3e81302"}]}'
2026-02-10 04:46:28.175 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:4976/store/v3/messages?pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
2026-02-10 04:46:28.178 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x13072e17e6a9d163ce3540213b18a06d421cb1d4c3a572ee49eb6887d6ea580a"},{"messageHash":"0x4d7a5152aacda557af9240386def8da769a95f2dd8f589ab3ed8d9fb0347acd2"},{"messageHash":"0x5354da88bc507267e9734153cdb3e7c14c62cc5f14b2a12c44ef5622e8390c23"},{"messageHash":"0xba2a62233219f7a0ef6679bc0d8114c102283d21bdf7ef47efba6a96476da894"},{"messageHash":"0x3c3cbc20709986f8d04e4caec6fccbfa3c2d905121d3ceced62dd1254c4a798b"},{"messageHash":"0x53e27891dd764f2b9863bfe930bd38c020229b004f683e947aa7e8cb89c644de"},{"messageHash":"0xa6e183bdf0d3e4a79c7da450160c4a17e5d036c11215abca1fb49dbdf652a0c9"},{"messageHash":"0x1316408dd27315e768160bc13adfa360ab6452bd6dc628491fd66d2ae3e81302"}]}'
2026-02-10 04:46:28.180 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-02-10 04:46:28.181 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-02-10 04:46:28.181 DEBUG [src.node.waku_node] Stopping container with id 85c84cf6e776
2026-02-10 04:46:28.705 DEBUG [src.node.waku_node] Container stopped.
2026-02-10 04:46:28.707 DEBUG [src.node.waku_node] Stopping container with id 54ad5c5feeca
2026-02-10 04:46:29.227 DEBUG [src.node.waku_node] Container stopped.
2026-02-10 04:46:29.229 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-02-10 04:46:29.238 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-10 04:46:29.245 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
