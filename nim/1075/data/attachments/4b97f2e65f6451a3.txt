2026-02-10 04:46:15.545 DEBUG [tests.conftest] Running fixture setup: test_id
2026-02-10 04:46:15.545 DEBUG [tests.conftest] Running test: test_unsubscribe_from_some_content_topics[content_topic_list1] with id: 2026-02-10_04-46-15__11fb93e4-0e2d-40cf-aeaf-680fa674e061
2026-02-10 04:46:15.546 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-02-10 04:46:15.546 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2026-02-10 04:46:15.546 DEBUG [src.steps.sharding] Running fixture setup: sharding_setup
2026-02-10 04:46:15.555 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-10 04:46:15.555 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2026-02-10_04-46-15__11fb93e4-0e2d-40cf-aeaf-680fa674e061__wakuorg_nwaku:latest.log
2026-02-10 04:46:15.555 DEBUG [src.node.waku_node] Starting Node...
2026-02-10 04:46:15.555 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-10 04:46:15.557 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-10 04:46:15.557 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.74.165
2026-02-10 04:46:15.557 DEBUG [src.node.docker_mananger] Generated ports ['55237', '55238', '55239', '55240', '55241']
2026-02-10 04:46:15.557 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-10 04:46:15.557 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-10 04:46:15.558 DEBUG [src.node.waku_node] Using volumes []
2026-02-10 04:46:15.558 DEBUG [src.node.docker_mananger] docker run -i -t -p 55237:55237 -p 55238:55238 -p 55239:55239 -p 55240:55240 -p 55241:55241 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=55239 --rest-port=55237 --tcp-port=55238 --discv5-udp-port=55240 --rest-address=0.0.0.0 --nat=extip:172.18.74.165 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=3fd75968ccd0be3737bd3c884defb4c4bdf1c932b5a74e81e7610a46ef282ecb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=55241 --metrics-logging=true --relay=true --filter=true --content-topic=/myapp/1/latest/proto --num-shards-in-network=8
2026-02-10 04:46:15.754 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.74.165 waku ed44d81a92bcb391d92c98cfb79bcc40ae7fa08fc305f7ac49bcac0e7f916724
2026-02-10 04:46:15.776 ERROR [src.node.docker_mananger] Max retries reached for container 1f880e2b37df. Exiting log stream.
2026-02-10 04:46:15.794 DEBUG [src.node.docker_mananger] Container started with ID ed44d81a92bc. Setting up logs at ./log/docker/node1_2026-02-10_04-46-15__11fb93e4-0e2d-40cf-aeaf-680fa674e061__wakuorg_nwaku:latest.log
2026-02-10 04:46:15.795 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 55237
2026-02-10 04:46:15.796 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-10 04:46:16.348 ERROR [src.node.docker_mananger] Max retries reached for container cf0693f1bbc6. Exiting log stream.
2026-02-10 04:46:16.796 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55237/health" -H "Content-Type: application/json" -d 'None'
2026-02-10 04:46:16.799 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_READY","desc":"Relay is not ready, filter will not be able to sort out messages"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-10 04:46:16.800 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-10 04:46:16.800 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55237/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-10 04:46:16.802 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.74.165/tcp/55238/p2p/16Uiu2HAm5qm4K6AvYo4jaT5XVFcm1H5FE8C7bAzH7wGUHZMCh7D2","/ip4/172.18.74.165/tcp/55239/ws/p2p/16Uiu2HAm5qm4K6AvYo4jaT5XVFcm1H5FE8C7bAzH7wGUHZMCh7D2"],"enrUri":"enr:-L24QFeyPuWYl6vtUwV9ilrPk6jaOQPc3ZVeq5KrW_jeM-j1fkTuDsWYkeZSi7SmOHZjS0kMXbKz3WxQlXzC0U40s5ICgmlkgnY0gmlwhKwSSqWKbXVsdGlhZGRyc5YACASsEkqlBtfGAAoErBJKpQbXx90DgnJzhQACAQAAiXNlY3AyNTZrMaECmsCM4HrZ6ZXBmQswUsPCa9wo0nXFuIsSTo7CQtJvAQGDdGNwgtfGg3VkcILXyIV3YWt1MgU"}'
2026-02-10 04:46:16.802 INFO [src.node.waku_node] REST service is ready !!
2026-02-10 04:46:16.809 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-10 04:46:16.809 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2026-02-10_04-46-15__11fb93e4-0e2d-40cf-aeaf-680fa674e061__wakuorg_nwaku:latest.log
2026-02-10 04:46:16.809 DEBUG [src.node.waku_node] Starting Node...
2026-02-10 04:46:16.810 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-10 04:46:16.811 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-10 04:46:16.811 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.137.66
2026-02-10 04:46:16.811 DEBUG [src.node.docker_mananger] Generated ports ['24053', '24054', '24055', '24056', '24057']
2026-02-10 04:46:16.811 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-10 04:46:16.812 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-10 04:46:16.812 DEBUG [src.node.waku_node] Using volumes []
2026-02-10 04:46:16.812 DEBUG [src.node.docker_mananger] docker run -i -t -p 24053:24053 -p 24054:24054 -p 24055:24055 -p 24056:24056 -p 24057:24057 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=24055 --rest-port=24053 --tcp-port=24054 --discv5-udp-port=24056 --rest-address=0.0.0.0 --nat=extip:172.18.137.66 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=4d5ffc7f59badbadf291ec6bae0fe5ebbed63ceb2db0fa90858faa26febc0059 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=24057 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QFeyPuWYl6vtUwV9ilrPk6jaOQPc3ZVeq5KrW_jeM-j1fkTuDsWYkeZSi7SmOHZjS0kMXbKz3WxQlXzC0U40s5ICgmlkgnY0gmlwhKwSSqWKbXVsdGlhZGRyc5YACASsEkqlBtfGAAoErBJKpQbXx90DgnJzhQACAQAAiXNlY3AyNTZrMaECmsCM4HrZ6ZXBmQswUsPCa9wo0nXFuIsSTo7CQtJvAQGDdGNwgtfGg3VkcILXyIV3YWt1MgU --content-topic=/myapp/1/latest/proto --num-shards-in-network=8
2026-02-10 04:46:17.004 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.137.66 waku 4a11b688c470958386e58f7bcbd45cba7cf5ecb11c74856428c37bb83ee89806
2026-02-10 04:46:17.038 DEBUG [src.node.docker_mananger] Container started with ID 4a11b688c470. Setting up logs at ./log/docker/node2_2026-02-10_04-46-15__11fb93e4-0e2d-40cf-aeaf-680fa674e061__wakuorg_nwaku:latest.log
2026-02-10 04:46:17.038 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 24053
2026-02-10 04:46:17.039 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-10 04:46:18.039 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:24053/health" -H "Content-Type: application/json" -d 'None'
2026-02-10 04:46:18.048 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"READY"}]}'
2026-02-10 04:46:18.049 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-10 04:46:18.049 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:24053/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-10 04:46:18.053 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.137.66/tcp/24054/p2p/16Uiu2HAkzjbm2uxdib3BYnZZPKHQrWN3AXgaAwyejSfWZidUSPWn","/ip4/172.18.137.66/tcp/24055/ws/p2p/16Uiu2HAkzjbm2uxdib3BYnZZPKHQrWN3AXgaAwyejSfWZidUSPWn"],"enrUri":"enr:-L24QOks8tiIvsRe_Fqu0K2vEYCnF-UZ7gY-t7NdWe1vbjbWK9m75RGzGqeuCIu-I-p4ki7_u4anFE13Q9RpbVzLwkkCgmlkgnY0gmlwhKwSiUKKbXVsdGlhZGRyc5YACASsEolCBl32AAoErBKJQgZd990DgnJzhQACAQAAiXNlY3AyNTZrMaECTuIeHRfsQUriTsRjVYpOu7plvMG5wftO75P88gx8Di-DdGNwgl32g3VkcIJd-IV3YWt1MgE"}'
2026-02-10 04:46:18.055 INFO [src.node.waku_node] REST service is ready !!
2026-02-10 04:46:18.056 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:24053/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.74.165/tcp/55238/p2p/16Uiu2HAm5qm4K6AvYo4jaT5XVFcm1H5FE8C7bAzH7wGUHZMCh7D2"]'
2026-02-10 04:46:18.060 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-10 04:46:18.060 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55237/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2026-02-10 04:46:18.070 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-10 04:46:18.072 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:24053/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2026-02-10 04:46:18.083 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-10 04:46:18.087 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55237/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-10 04:46:18.096 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-10 04:46:18.096 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-10 04:46:18.197 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-10 04:46:18.197 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55237/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2026-02-10 04:46:18.201 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770698778086875200,"ephemeral":false,"proof":""}]'
2026-02-10 04:46:18.202 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-10 04:46:18.203 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:24053/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2026-02-10 04:46:18.205 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770698778086875200,"ephemeral":false,"proof":""}]'
2026-02-10 04:46:18.207 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55237/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2026-02-10 04:46:18.212 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-10 04:46:18.213 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-10 04:46:18.313 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-10 04:46:18.313 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55237/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2026-02-10 04:46:18.316 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/waku/2/content/test.js","version":0,"timestamp":1770698778207199737,"ephemeral":false,"proof":""}]'
2026-02-10 04:46:18.318 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-10 04:46:18.318 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:24053/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2026-02-10 04:46:18.321 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/waku/2/content/test.js","version":0,"timestamp":1770698778207199737,"ephemeral":false,"proof":""}]'
2026-02-10 04:46:18.323 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55237/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-02-10 04:46:18.327 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-10 04:46:18.327 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-10 04:46:18.428 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-10 04:46:18.428 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55237/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-02-10 04:46:18.431 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/22/sometopic/someencoding","version":0,"timestamp":1770698778322892341,"ephemeral":false,"proof":""}]'
2026-02-10 04:46:18.433 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-10 04:46:18.433 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:24053/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-02-10 04:46:18.435 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/22/sometopic/someencoding","version":0,"timestamp":1770698778322892341,"ephemeral":false,"proof":""}]'
2026-02-10 04:46:18.437 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55237/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2026-02-10 04:46:18.442 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-10 04:46:18.442 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-10 04:46:18.543 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-10 04:46:18.543 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55237/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2026-02-10 04:46:18.546 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1770698778437379474,"ephemeral":false,"proof":""}]'
2026-02-10 04:46:18.547 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-10 04:46:18.548 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:24053/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2026-02-10 04:46:18.550 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1770698778437379474,"ephemeral":false,"proof":""}]'
2026-02-10 04:46:18.552 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55237/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2026-02-10 04:46:18.556 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-10 04:46:18.557 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-10 04:46:18.658 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-10 04:46:18.659 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55237/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2026-02-10 04:46:18.662 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1770698778552291964,"ephemeral":false,"proof":""}]'
2026-02-10 04:46:18.663 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-10 04:46:18.663 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:24053/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2026-02-10 04:46:18.666 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1770698778552291964,"ephemeral":false,"proof":""}]'
2026-02-10 04:46:18.668 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55237/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-02-10 04:46:18.673 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-10 04:46:18.673 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-10 04:46:18.774 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-10 04:46:18.774 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55237/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-02-10 04:46:18.777 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1770698778668096351,"ephemeral":false,"proof":""}]'
2026-02-10 04:46:18.778 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-10 04:46:18.779 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:24053/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-02-10 04:46:18.781 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1770698778668096351,"ephemeral":false,"proof":""}]'
2026-02-10 04:46:18.783 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55237/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-02-10 04:46:18.787 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-10 04:46:18.788 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-10 04:46:18.888 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-10 04:46:18.889 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55237/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-02-10 04:46:18.892 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1770698778783207210,"ephemeral":false,"proof":""}]'
2026-02-10 04:46:18.893 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-10 04:46:18.894 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:24053/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-02-10 04:46:18.896 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1770698778783207210,"ephemeral":false,"proof":""}]'
2026-02-10 04:46:18.898 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55237/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-02-10 04:46:18.902 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-10 04:46:18.903 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-10 04:46:19.003 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-10 04:46:19.004 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55237/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-02-10 04:46:19.007 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1770698778898085777,"ephemeral":false,"proof":""}]'
2026-02-10 04:46:19.009 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-10 04:46:19.009 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:24053/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-02-10 04:46:19.014 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1770698778898085777,"ephemeral":false,"proof":""}]'
2026-02-10 04:46:19.016 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:55237/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding"]'
2026-02-10 04:46:19.023 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-10 04:46:19.024 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:24053/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding"]'
2026-02-10 04:46:19.032 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-10 04:46:19.033 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55237/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-10 04:46:19.036 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-10 04:46:19.037 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-10 04:46:19.137 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-10 04:46:19.137 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55237/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2026-02-10 04:46:19.140 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:55237/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto. Response content: b'/myapp/1/latest/proto'
2026-02-10 04:46:19.142 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55237/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2026-02-10 04:46:19.145 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-10 04:46:19.145 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-10 04:46:19.245 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-10 04:46:19.246 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55237/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2026-02-10 04:46:19.249 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:55237/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js. Response content: b'/waku/2/content/test.js'
2026-02-10 04:46:19.250 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55237/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-02-10 04:46:19.253 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-10 04:46:19.253 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-10 04:46:19.354 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-10 04:46:19.354 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55237/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-02-10 04:46:19.357 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:55237/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding. Response content: b'/app/22/sometopic/someencoding'
2026-02-10 04:46:19.358 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55237/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2026-02-10 04:46:19.363 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-10 04:46:19.364 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-10 04:46:19.464 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-10 04:46:19.464 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55237/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2026-02-10 04:46:19.467 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1770698779358712575,"ephemeral":false,"proof":""}]'
2026-02-10 04:46:19.469 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-10 04:46:19.469 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:24053/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2026-02-10 04:46:19.472 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1770698779358712575,"ephemeral":false,"proof":""}]'
2026-02-10 04:46:19.474 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55237/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2026-02-10 04:46:19.479 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-10 04:46:19.479 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-10 04:46:19.579 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-10 04:46:19.580 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55237/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2026-02-10 04:46:19.583 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1770698779473987159,"ephemeral":false,"proof":""}]'
2026-02-10 04:46:19.584 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-10 04:46:19.585 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:24053/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2026-02-10 04:46:19.587 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1770698779473987159,"ephemeral":false,"proof":""}]'
2026-02-10 04:46:19.589 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55237/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-02-10 04:46:19.594 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-10 04:46:19.594 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-10 04:46:19.694 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-10 04:46:19.695 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55237/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-02-10 04:46:19.697 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1770698779589193679,"ephemeral":false,"proof":""}]'
2026-02-10 04:46:19.699 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-10 04:46:19.699 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:24053/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-02-10 04:46:19.703 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1770698779589193679,"ephemeral":false,"proof":""}]'
2026-02-10 04:46:19.704 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55237/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-02-10 04:46:19.709 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-10 04:46:19.710 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-10 04:46:19.811 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-10 04:46:19.811 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55237/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-02-10 04:46:19.814 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1770698779704651707,"ephemeral":false,"proof":""}]'
2026-02-10 04:46:19.815 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-10 04:46:19.816 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:24053/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-02-10 04:46:19.818 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1770698779704651707,"ephemeral":false,"proof":""}]'
2026-02-10 04:46:19.844 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55237/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-02-10 04:46:19.849 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-10 04:46:19.849 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-10 04:46:19.950 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-10 04:46:19.950 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55237/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-02-10 04:46:19.953 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1770698779844041191,"ephemeral":false,"proof":""}]'
2026-02-10 04:46:19.954 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-10 04:46:19.955 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:24053/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-02-10 04:46:19.957 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1770698779844041191,"ephemeral":false,"proof":""}]'
2026-02-10 04:46:19.960 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-02-10 04:46:19.961 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-02-10 04:46:19.961 DEBUG [src.node.waku_node] Stopping container with id ed44d81a92bc
2026-02-10 04:46:20.507 DEBUG [src.node.waku_node] Container stopped.
2026-02-10 04:46:20.507 DEBUG [src.node.waku_node] Stopping container with id 4a11b688c470
2026-02-10 04:46:21.079 DEBUG [src.node.waku_node] Container stopped.
2026-02-10 04:46:21.081 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-02-10 04:46:21.095 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-10 04:46:21.106 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
