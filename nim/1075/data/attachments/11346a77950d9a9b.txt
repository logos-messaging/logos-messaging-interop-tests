2026-02-10 04:50:53.791 DEBUG [tests.conftest] Running fixture setup: test_id
2026-02-10 04:50:53.792 DEBUG [tests.conftest] Running test: test_relay_subscribe_with_invalid_pubsub_topic_format with id: 2026-02-10_04-50-53__11c1cf4d-ba44-4eac-9382-8ac93044eb55
2026-02-10 04:50:53.792 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-02-10 04:50:53.792 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2026-02-10 04:50:53.792 DEBUG [src.steps.relay] Running fixture setup: setup_main_relay_nodes
2026-02-10 04:50:53.799 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-10 04:50:53.799 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2026-02-10_04-50-53__11c1cf4d-ba44-4eac-9382-8ac93044eb55__wakuorg_nwaku:latest.log
2026-02-10 04:50:53.799 DEBUG [src.node.waku_node] Starting Node...
2026-02-10 04:50:53.799 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-10 04:50:53.800 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-10 04:50:53.800 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.73.198
2026-02-10 04:50:53.801 DEBUG [src.node.docker_mananger] Generated ports ['29367', '29368', '29369', '29370', '29371']
2026-02-10 04:50:53.801 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-10 04:50:53.801 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-10 04:50:53.801 DEBUG [src.node.waku_node] Using volumes []
2026-02-10 04:50:53.801 DEBUG [src.node.docker_mananger] docker run -i -t -p 29367:29367 -p 29368:29368 -p 29369:29369 -p 29370:29370 -p 29371:29371 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=29369 --rest-port=29367 --tcp-port=29368 --discv5-udp-port=29370 --rest-address=0.0.0.0 --nat=extip:172.18.73.198 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=41aafbbf1cfb3e796bb91b0c04b9ed38b4d420f0b74e1c121b117dff7bef72ad --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=29371 --metrics-logging=true --relay=true
2026-02-10 04:50:53.978 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.73.198 waku 84878f993abe4ab1933b02e41c4cda12057b80ea03096d53cef9c205683737dc
2026-02-10 04:50:54.009 DEBUG [src.node.docker_mananger] Container started with ID 84878f993abe. Setting up logs at ./log/docker/node1_2026-02-10_04-50-53__11c1cf4d-ba44-4eac-9382-8ac93044eb55__wakuorg_nwaku:latest.log
2026-02-10 04:50:54.010 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 29367
2026-02-10 04:50:54.010 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-10 04:50:54.016 ERROR [src.node.docker_mananger] Max retries reached for container 559e9f90e520. Exiting log stream.
2026-02-10 04:50:54.595 ERROR [src.node.docker_mananger] Max retries reached for container bee992f2d7ec. Exiting log stream.
2026-02-10 04:50:55.011 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:29367/health" -H "Content-Type: application/json" -d 'None'
2026-02-10 04:50:55.014 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-10 04:50:55.015 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-10 04:50:55.015 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:29367/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-10 04:50:55.017 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.73.198/tcp/29368/p2p/16Uiu2HAmVE4ER7SceEWfhSsT566QTJBUsa5ZU5ftKCeDtHkXkdm3","/ip4/172.18.73.198/tcp/29369/ws/p2p/16Uiu2HAmVE4ER7SceEWfhSsT566QTJBUsa5ZU5ftKCeDtHkXkdm3"],"enrUri":"enr:-L24QPhhIVFq5unAQbpBCT_vlD4MHfihaw4MOe79BnOWnufTFOeTxnPi9hKh1xisNkn71Q9wEyDlz82tDKI4dZM_MdwCgmlkgnY0gmlwhKwSScaKbXVsdGlhZGRyc5YACASsEknGBnK4AAoErBJJxgZyud0DgnJzhQADAQAAiXNlY3AyNTZrMaED9jOL3PU7ESLj_plLVOfBiek0K4de6ZM-sQF0x3zlBwKDdGNwgnK4g3VkcIJyuoV3YWt1MgE"}'
2026-02-10 04:50:55.017 INFO [src.node.waku_node] REST service is ready !!
2026-02-10 04:50:55.023 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-10 04:50:55.024 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2026-02-10_04-50-53__11c1cf4d-ba44-4eac-9382-8ac93044eb55__wakuorg_nwaku:latest.log
2026-02-10 04:50:55.024 DEBUG [src.node.waku_node] Starting Node...
2026-02-10 04:50:55.024 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-10 04:50:55.025 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-10 04:50:55.025 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.127.156
2026-02-10 04:50:55.025 DEBUG [src.node.docker_mananger] Generated ports ['13025', '13026', '13027', '13028', '13029']
2026-02-10 04:50:55.025 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-10 04:50:55.026 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-10 04:50:55.026 DEBUG [src.node.waku_node] Using volumes []
2026-02-10 04:50:55.026 DEBUG [src.node.docker_mananger] docker run -i -t -p 13025:13025 -p 13026:13026 -p 13027:13027 -p 13028:13028 -p 13029:13029 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=13027 --rest-port=13025 --tcp-port=13026 --discv5-udp-port=13028 --rest-address=0.0.0.0 --nat=extip:172.18.127.156 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fddebeff4da2ed9fdfc6d9bc036dac81dcdc422b99a85eec15f6bea1c68b0afe --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=13029 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QPhhIVFq5unAQbpBCT_vlD4MHfihaw4MOe79BnOWnufTFOeTxnPi9hKh1xisNkn71Q9wEyDlz82tDKI4dZM_MdwCgmlkgnY0gmlwhKwSScaKbXVsdGlhZGRyc5YACASsEknGBnK4AAoErBJJxgZyud0DgnJzhQADAQAAiXNlY3AyNTZrMaED9jOL3PU7ESLj_plLVOfBiek0K4de6ZM-sQF0x3zlBwKDdGNwgnK4g3VkcIJyuoV3YWt1MgE
2026-02-10 04:50:55.222 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.127.156 waku 002064d0c26007c0210167bdac616cbe877d83cb5424cffe46b7632462e12304
2026-02-10 04:50:55.253 DEBUG [src.node.docker_mananger] Container started with ID 002064d0c260. Setting up logs at ./log/docker/node2_2026-02-10_04-50-53__11c1cf4d-ba44-4eac-9382-8ac93044eb55__wakuorg_nwaku:latest.log
2026-02-10 04:50:55.253 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 13025
2026-02-10 04:50:55.254 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-10 04:50:56.255 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:13025/health" -H "Content-Type: application/json" -d 'None'
2026-02-10 04:50:56.265 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-10 04:50:56.267 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-10 04:50:56.268 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:13025/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-10 04:50:56.271 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.127.156/tcp/13026/p2p/16Uiu2HAmE6yN13TdXwdZ1EhDxfhvqKBAij849nwmiVQ5Xpg4V56x","/ip4/172.18.127.156/tcp/13027/ws/p2p/16Uiu2HAmE6yN13TdXwdZ1EhDxfhvqKBAij849nwmiVQ5Xpg4V56x"],"enrUri":"enr:-L24QCCbmnzUh6Qs93M-QmkntiRLaO77lnl0SIK5l9A8QNAiSmhnPHJc1qt8W895z2rdQ24LsPFYt60jbqUGSclCH9ICgmlkgnY0gmlwhKwSf5yKbXVsdGlhZGRyc5YACASsEn-cBjLiAAoErBJ_nAYy490DgnJzhQADAQAAiXNlY3AyNTZrMaEDFYOrz1l-w8yQ4XxdoWSjZHmsqLw08cOrw9swhrYVV5mDdGNwgjLig3VkcIIy5IV3YWt1MgE"}'
2026-02-10 04:50:56.271 INFO [src.node.waku_node] REST service is ready !!
2026-02-10 04:50:56.273 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:13025/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.73.198/tcp/29368/p2p/16Uiu2HAmVE4ER7SceEWfhSsT566QTJBUsa5ZU5ftKCeDtHkXkdm3"]'
2026-02-10 04:50:56.276 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-10 04:50:56.277 DEBUG [tests.relay.test_subscribe] Running test with payload /test/2/rs/0/1
2026-02-10 04:50:56.278 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:29367/relay/v1/subscriptions" -H "Content-Type: application/json" -d '"/test/2/rs/0/1"'
2026-02-10 04:50:56.280 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:29367/relay/v1/subscriptions. Response content: b'Invalid content body, could not decode: Unable to deserialize data: '
2026-02-10 04:50:56.281 DEBUG [tests.relay.test_subscribe] Running test with payload /waku/3/rs/0/1
2026-02-10 04:50:56.281 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:29367/relay/v1/subscriptions" -H "Content-Type: application/json" -d '"/waku/3/rs/0/1"'
2026-02-10 04:50:56.283 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:29367/relay/v1/subscriptions. Response content: b'Invalid content body, could not decode: Unable to deserialize data: '
2026-02-10 04:50:56.284 DEBUG [tests.relay.test_subscribe] Running test with payload /waku/2/test/0/1
2026-02-10 04:50:56.284 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:29367/relay/v1/subscriptions" -H "Content-Type: application/json" -d '"/waku/2/test/0/1"'
2026-02-10 04:50:56.286 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:29367/relay/v1/subscriptions. Response content: b'Invalid content body, could not decode: Unable to deserialize data: '
2026-02-10 04:50:56.287 DEBUG [tests.relay.test_subscribe] Running test with payload /waku/2/rs/3/b
2026-02-10 04:50:56.287 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:29367/relay/v1/subscriptions" -H "Content-Type: application/json" -d '"/waku/2/rs/3/b"'
2026-02-10 04:50:56.289 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:29367/relay/v1/subscriptions. Response content: b'Invalid content body, could not decode: Unable to deserialize data: '
2026-02-10 04:50:56.290 DEBUG [tests.relay.test_subscribe] Running test with payload /waku/2/rs/0
2026-02-10 04:50:56.290 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:29367/relay/v1/subscriptions" -H "Content-Type: application/json" -d '"/waku/2/rs/0"'
2026-02-10 04:50:56.292 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:29367/relay/v1/subscriptions. Response content: b'Invalid content body, could not decode: Unable to deserialize data: '
2026-02-10 04:50:56.294 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-02-10 04:50:56.295 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-02-10 04:50:56.296 DEBUG [src.node.waku_node] Stopping container with id 84878f993abe
2026-02-10 04:50:56.857 DEBUG [src.node.waku_node] Container stopped.
2026-02-10 04:50:56.858 DEBUG [src.node.waku_node] Stopping container with id 002064d0c260
2026-02-10 04:50:57.392 DEBUG [src.node.waku_node] Container stopped.
2026-02-10 04:50:57.394 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-02-10 04:50:57.398 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-10 04:50:57.405 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
