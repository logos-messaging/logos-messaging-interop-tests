2026-02-10 04:45:24.679 DEBUG [tests.conftest] Running fixture setup: test_id
2026-02-10 04:45:24.679 DEBUG [tests.conftest] Running test: test_filter_subscribe_with_no_pubsub_topic with id: 2026-02-10_04-45-24__bc65919d-3384-413a-89ad-657d40a1aa2c
2026-02-10 04:45:24.680 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-02-10 04:45:24.680 DEBUG [src.steps.filter] Running fixture setup: filter_setup
2026-02-10 04:45:24.680 DEBUG [src.steps.filter] Running fixture setup: setup_main_relay_node
2026-02-10 04:45:24.688 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-10 04:45:24.688 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2026-02-10_04-45-24__bc65919d-3384-413a-89ad-657d40a1aa2c__wakuorg_nwaku:latest.log
2026-02-10 04:45:24.688 DEBUG [src.node.waku_node] Starting Node...
2026-02-10 04:45:24.688 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-10 04:45:24.690 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-10 04:45:24.690 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.234.253
2026-02-10 04:45:24.690 DEBUG [src.node.docker_mananger] Generated ports ['60737', '60738', '60739', '60740', '60741']
2026-02-10 04:45:24.690 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-10 04:45:24.690 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-10 04:45:24.691 DEBUG [src.node.waku_node] Using volumes []
2026-02-10 04:45:24.691 DEBUG [src.node.docker_mananger] docker run -i -t -p 60737:60737 -p 60738:60738 -p 60739:60739 -p 60740:60740 -p 60741:60741 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=60739 --rest-port=60737 --tcp-port=60738 --discv5-udp-port=60740 --rest-address=0.0.0.0 --nat=extip:172.18.234.253 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=6f9e0abcab9b1f4a8defce0db284cfd1a9208c1e7557abfc6d1b8ea4889cd708 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=60741 --metrics-logging=true --relay=true --filter=true
2026-02-10 04:45:24.882 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.234.253 waku 90bac71df36d9e67df7584d821dae77d36c61fd605dffcb4a6de7895b5b0f087
2026-02-10 04:45:24.913 DEBUG [src.node.docker_mananger] Container started with ID 90bac71df36d. Setting up logs at ./log/docker/node1_2026-02-10_04-45-24__bc65919d-3384-413a-89ad-657d40a1aa2c__wakuorg_nwaku:latest.log
2026-02-10 04:45:24.914 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 60737
2026-02-10 04:45:24.914 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-10 04:45:24.958 ERROR [src.node.docker_mananger] Max retries reached for container ab81d42ec733. Exiting log stream.
2026-02-10 04:45:25.487 ERROR [src.node.docker_mananger] Max retries reached for container 7a7f21f51ca0. Exiting log stream.
2026-02-10 04:45:25.915 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60737/health" -H "Content-Type: application/json" -d 'None'
2026-02-10 04:45:25.918 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_READY","desc":"Relay is not ready, filter will not be able to sort out messages"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-10 04:45:25.918 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-10 04:45:25.919 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60737/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-10 04:45:25.921 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.234.253/tcp/60738/p2p/16Uiu2HAm1GSfdyKRn6vq3YvAgwQxZwEAPAf8MTL517HMNFT5prJ6","/ip4/172.18.234.253/tcp/60739/ws/p2p/16Uiu2HAm1GSfdyKRn6vq3YvAgwQxZwEAPAf8MTL517HMNFT5prJ6"],"enrUri":"enr:-L24QBFUfFM8zo1PO1WO618s4-FbX14aLHFmS5nUKB8f5KodMpJSBmcTrGKYJf4e-l2vFhYJFPmwYR8EbD8qQz2WDggCgmlkgnY0gmlwhKwS6v2KbXVsdGlhZGRyc5YACASsEur9Bu1CAAoErBLq_QbtQ90DgnJzhQADAQAAiXNlY3AyNTZrMaECVsjXWIdyY153NwuNWn3xpTT4jge19pedsmRWFCTFW5uDdGNwgu1Cg3VkcILtRIV3YWt1MgU"}'
2026-02-10 04:45:25.921 INFO [src.node.waku_node] REST service is ready !!
2026-02-10 04:45:25.922 DEBUG [src.steps.filter] Running fixture setup: setup_main_filter_node
2026-02-10 04:45:25.929 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-10 04:45:25.929 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2026-02-10_04-45-24__bc65919d-3384-413a-89ad-657d40a1aa2c__wakuorg_nwaku:latest.log
2026-02-10 04:45:25.929 DEBUG [src.node.waku_node] Starting Node...
2026-02-10 04:45:25.929 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-10 04:45:25.931 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-10 04:45:25.931 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.121.63
2026-02-10 04:45:25.931 DEBUG [src.node.docker_mananger] Generated ports ['20638', '20639', '20640', '20641', '20642']
2026-02-10 04:45:25.931 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-10 04:45:25.931 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-10 04:45:25.931 DEBUG [src.node.waku_node] Using volumes []
2026-02-10 04:45:25.931 DEBUG [src.node.docker_mananger] docker run -i -t -p 20638:20638 -p 20639:20639 -p 20640:20640 -p 20641:20641 -p 20642:20642 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=20640 --rest-port=20638 --tcp-port=20639 --discv5-udp-port=20641 --rest-address=0.0.0.0 --nat=extip:172.18.121.63 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=7a29b0b555e0d3e3bf697e8e04fcabeb0b9b8be6916bac870ce4cceec9b9fe0f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=20642 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QBFUfFM8zo1PO1WO618s4-FbX14aLHFmS5nUKB8f5KodMpJSBmcTrGKYJf4e-l2vFhYJFPmwYR8EbD8qQz2WDggCgmlkgnY0gmlwhKwS6v2KbXVsdGlhZGRyc5YACASsEur9Bu1CAAoErBLq_QbtQ90DgnJzhQADAQAAiXNlY3AyNTZrMaECVsjXWIdyY153NwuNWn3xpTT4jge19pedsmRWFCTFW5uDdGNwgu1Cg3VkcILtRIV3YWt1MgU --filternode=/ip4/172.18.234.253/tcp/60738/p2p/16Uiu2HAm1GSfdyKRn6vq3YvAgwQxZwEAPAf8MTL517HMNFT5prJ6
2026-02-10 04:45:26.137 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.121.63 waku 88fc5c47001d239ad5d3dc1d8d852115aff520c7f24887bf6859e812a8b090fd
2026-02-10 04:45:26.169 DEBUG [src.node.docker_mananger] Container started with ID 88fc5c47001d. Setting up logs at ./log/docker/node2_2026-02-10_04-45-24__bc65919d-3384-413a-89ad-657d40a1aa2c__wakuorg_nwaku:latest.log
2026-02-10 04:45:26.169 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 20638
2026-02-10 04:45:26.170 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-10 04:45:27.171 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:20638/health" -H "Content-Type: application/json" -d 'None'
2026-02-10 04:45:27.175 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_MOUNTED"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"READY"}]}'
2026-02-10 04:45:27.175 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-10 04:45:27.176 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:20638/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-10 04:45:27.178 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.121.63/tcp/20639/p2p/16Uiu2HAm1AZakY2C6Vo8YtwWwcxnktPZhZBdVQVsW6EzuX2uZz91","/ip4/172.18.121.63/tcp/20640/ws/p2p/16Uiu2HAm1AZakY2C6Vo8YtwWwcxnktPZhZBdVQVsW6EzuX2uZz91"],"enrUri":"enr:-L24QByIVIbNLXuoHI0jCGPqDr6ZSIahEjTfhm-EL57AmkenFSt3CQP_nHJuHD6QNyCj8UBGdjSwMBOpPvdkgsll4cYCgmlkgnY0gmlwhKwSeT-KbXVsdGlhZGRyc5YACASsEnk_BlCfAAoErBJ5PwZQoN0DgnJzhQADAQAAiXNlY3AyNTZrMaECVUctDiZlBGDz0GUb2rKrFhstB4JtsOWzlUgmdkBZ1TSDdGNwglCfg3VkcIJQoYV3YWt1MgA"}'
2026-02-10 04:45:27.179 INFO [src.node.waku_node] REST service is ready !!
2026-02-10 04:45:27.179 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:20638/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.234.253/tcp/60738/p2p/16Uiu2HAm1GSfdyKRn6vq3YvAgwQxZwEAPAf8MTL517HMNFT5prJ6"]'
2026-02-10 04:45:27.208 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-10 04:45:27.211 DEBUG [src.steps.filter] Running fixture setup: subscribe_main_nodes
2026-02-10 04:45:27.211 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:60737/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2026-02-10 04:45:27.224 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-10 04:45:27.225 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:20638/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "5257e2a4-60c3-4a53-a377-a88a6a41b670", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
2026-02-10 04:45:27.237 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"5257e2a4-60c3-4a53-a377-a88a6a41b670","statusDesc":"OK"}'
2026-02-10 04:45:27.239 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:20638/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": ["/test/1/waku-filter/proto"]}'
2026-02-10 04:45:27.247 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"1","statusDesc":"OK"}'
2026-02-10 04:45:27.250 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-02-10 04:45:27.251 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-02-10 04:45:27.251 DEBUG [src.node.waku_node] Stopping container with id 90bac71df36d
2026-02-10 04:45:27.796 DEBUG [src.node.waku_node] Container stopped.
2026-02-10 04:45:27.796 DEBUG [src.node.waku_node] Stopping container with id 88fc5c47001d
2026-02-10 04:45:28.329 DEBUG [src.node.waku_node] Container stopped.
2026-02-10 04:45:28.332 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-02-10 04:45:28.337 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-10 04:45:28.342 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
