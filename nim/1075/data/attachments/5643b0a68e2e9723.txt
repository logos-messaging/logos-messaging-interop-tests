2026-02-10 04:46:53.704 DEBUG [tests.conftest] Running fixture setup: test_id
2026-02-10 04:46:53.704 DEBUG [tests.conftest] Running test: test_filter_update_subscription_with_no_pubsub_topic with id: 2026-02-10_04-46-53__955be6f1-64cf-4138-a6c3-cd8a2d9c838f
2026-02-10 04:46:53.705 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-02-10 04:46:53.705 DEBUG [src.steps.filter] Running fixture setup: filter_setup
2026-02-10 04:46:53.705 DEBUG [src.steps.filter] Running fixture setup: setup_main_relay_node
2026-02-10 04:46:53.711 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-10 04:46:53.712 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2026-02-10_04-46-53__955be6f1-64cf-4138-a6c3-cd8a2d9c838f__wakuorg_nwaku:latest.log
2026-02-10 04:46:53.712 DEBUG [src.node.waku_node] Starting Node...
2026-02-10 04:46:53.712 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-10 04:46:53.714 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-10 04:46:53.714 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.216.45
2026-02-10 04:46:53.714 DEBUG [src.node.docker_mananger] Generated ports ['29737', '29738', '29739', '29740', '29741']
2026-02-10 04:46:53.714 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-10 04:46:53.714 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-10 04:46:53.715 DEBUG [src.node.waku_node] Using volumes []
2026-02-10 04:46:53.715 DEBUG [src.node.docker_mananger] docker run -i -t -p 29737:29737 -p 29738:29738 -p 29739:29739 -p 29740:29740 -p 29741:29741 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=29739 --rest-port=29737 --tcp-port=29738 --discv5-udp-port=29740 --rest-address=0.0.0.0 --nat=extip:172.18.216.45 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=dcffeffee0dd64b8d3c1cd0b9bd70536db1cf1f7ed68edf163d2ae64acaf7620 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=29741 --metrics-logging=true --relay=true --filter=true
2026-02-10 04:46:53.905 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.216.45 waku 679eb0177d32ddfe87f80f9c8bb0eeefd5b7b78aad5d448d7ea724284a674bbc
2026-02-10 04:46:53.936 DEBUG [src.node.docker_mananger] Container started with ID 679eb0177d32. Setting up logs at ./log/docker/node1_2026-02-10_04-46-53__955be6f1-64cf-4138-a6c3-cd8a2d9c838f__wakuorg_nwaku:latest.log
2026-02-10 04:46:53.936 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 29737
2026-02-10 04:46:53.937 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-10 04:46:53.944 ERROR [src.node.docker_mananger] Max retries reached for container e81e482f1358. Exiting log stream.
2026-02-10 04:46:54.494 ERROR [src.node.docker_mananger] Max retries reached for container 5eb12989e05b. Exiting log stream.
2026-02-10 04:46:54.937 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:29737/health" -H "Content-Type: application/json" -d 'None'
2026-02-10 04:46:54.940 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_READY","desc":"Relay is not ready, filter will not be able to sort out messages"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-10 04:46:54.941 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-10 04:46:54.941 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:29737/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-10 04:46:54.943 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.216.45/tcp/29738/p2p/16Uiu2HAm5AEuuXU52NJjNYT5CH1vdyAD5iLRfgp7p16EU5BfgwB1","/ip4/172.18.216.45/tcp/29739/ws/p2p/16Uiu2HAm5AEuuXU52NJjNYT5CH1vdyAD5iLRfgp7p16EU5BfgwB1"],"enrUri":"enr:-L24QPynQMAvk0cQdOwFYjTyi_TJ3IAjBMCM22n9fjoCeiGyCfSOrUyNmeyec1yZ5ZXB9K0mzHo7gdLtrpA9SrTx-e8CgmlkgnY0gmlwhKwS2C2KbXVsdGlhZGRyc5YACASsEtgtBnQqAAoErBLYLQZ0K90DgnJzhQADAQAAiXNlY3AyNTZrMaECkKDQUn_sbHnacLN2ycL5cMn9PfYnDdx0D_47oT-3qBSDdGNwgnQqg3VkcIJ0LIV3YWt1MgU"}'
2026-02-10 04:46:54.943 INFO [src.node.waku_node] REST service is ready !!
2026-02-10 04:46:54.944 DEBUG [src.steps.filter] Running fixture setup: setup_main_filter_node
2026-02-10 04:46:54.950 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-10 04:46:54.950 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2026-02-10_04-46-53__955be6f1-64cf-4138-a6c3-cd8a2d9c838f__wakuorg_nwaku:latest.log
2026-02-10 04:46:54.950 DEBUG [src.node.waku_node] Starting Node...
2026-02-10 04:46:54.951 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-10 04:46:54.952 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-10 04:46:54.952 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.69.145
2026-02-10 04:46:54.952 DEBUG [src.node.docker_mananger] Generated ports ['19106', '19107', '19108', '19109', '19110']
2026-02-10 04:46:54.952 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-10 04:46:54.953 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-10 04:46:54.953 DEBUG [src.node.waku_node] Using volumes []
2026-02-10 04:46:54.953 DEBUG [src.node.docker_mananger] docker run -i -t -p 19106:19106 -p 19107:19107 -p 19108:19108 -p 19109:19109 -p 19110:19110 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=19108 --rest-port=19106 --tcp-port=19107 --discv5-udp-port=19109 --rest-address=0.0.0.0 --nat=extip:172.18.69.145 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f11e8e9f1da34c6f7a31dbeeaba43abbaedad3eea2b1eba7c0abf1bb7bad29e2 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=19110 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QPynQMAvk0cQdOwFYjTyi_TJ3IAjBMCM22n9fjoCeiGyCfSOrUyNmeyec1yZ5ZXB9K0mzHo7gdLtrpA9SrTx-e8CgmlkgnY0gmlwhKwS2C2KbXVsdGlhZGRyc5YACASsEtgtBnQqAAoErBLYLQZ0K90DgnJzhQADAQAAiXNlY3AyNTZrMaECkKDQUn_sbHnacLN2ycL5cMn9PfYnDdx0D_47oT-3qBSDdGNwgnQqg3VkcIJ0LIV3YWt1MgU --filternode=/ip4/172.18.216.45/tcp/29738/p2p/16Uiu2HAm5AEuuXU52NJjNYT5CH1vdyAD5iLRfgp7p16EU5BfgwB1
2026-02-10 04:46:55.155 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.69.145 waku 26b74f94e5e71b1e892294427ef77979e52f3dc783c8e3547478986bcf1753b5
2026-02-10 04:46:55.186 DEBUG [src.node.docker_mananger] Container started with ID 26b74f94e5e7. Setting up logs at ./log/docker/node2_2026-02-10_04-46-53__955be6f1-64cf-4138-a6c3-cd8a2d9c838f__wakuorg_nwaku:latest.log
2026-02-10 04:46:55.187 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 19106
2026-02-10 04:46:55.187 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-10 04:46:56.188 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19106/health" -H "Content-Type: application/json" -d 'None'
2026-02-10 04:46:56.192 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_MOUNTED"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"READY"}]}'
2026-02-10 04:46:56.192 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-10 04:46:56.192 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19106/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-10 04:46:56.195 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.69.145/tcp/19107/p2p/16Uiu2HAkxDz7gDVtDw3WVRb3LF4dGtiLjL8n3dsBs6HFuhNRT849","/ip4/172.18.69.145/tcp/19108/ws/p2p/16Uiu2HAkxDz7gDVtDw3WVRb3LF4dGtiLjL8n3dsBs6HFuhNRT849"],"enrUri":"enr:-L24QLWb6RV5zm8qdmWt8OYSL4n1Q3fA7SEUHY6PkvrNg1zoXnssLLLx-vLOEmzELsM6kEH1m3gfJ6z7cj6K7NlVNL4CgmlkgnY0gmlwhKwSRZGKbXVsdGlhZGRyc5YACASsEkWRBkqjAAoErBJFkQZKpN0DgnJzhQADAQAAiXNlY3AyNTZrMaECKZSY8J9gtvlHXNHS4_ZEDg4isEhf5_fRKzBh5lpfUmKDdGNwgkqjg3VkcIJKpYV3YWt1MgA"}'
2026-02-10 04:46:56.195 INFO [src.node.waku_node] REST service is ready !!
2026-02-10 04:46:56.196 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:19106/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.216.45/tcp/29738/p2p/16Uiu2HAm5AEuuXU52NJjNYT5CH1vdyAD5iLRfgp7p16EU5BfgwB1"]'
2026-02-10 04:46:56.229 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-10 04:46:56.230 DEBUG [src.steps.filter] Running fixture setup: subscribe_main_nodes
2026-02-10 04:46:56.231 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:29737/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2026-02-10 04:46:56.241 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-10 04:46:56.243 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:19106/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "fe5ce944-2aaa-4113-a15f-79cb72505ba0", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
2026-02-10 04:46:56.255 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"fe5ce944-2aaa-4113-a15f-79cb72505ba0","statusDesc":"OK"}'
2026-02-10 04:46:56.256 INFO [src.node.api_clients.base_client] curl -v -X PUT "http://127.0.0.1:19106/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": ["/test/2/waku-filter/proto"]}'
2026-02-10 04:46:56.265 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"1","statusDesc":"OK"}'
2026-02-10 04:46:56.266 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-02-10 04:46:56.267 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-02-10 04:46:56.267 DEBUG [src.node.waku_node] Stopping container with id 679eb0177d32
2026-02-10 04:46:56.809 DEBUG [src.node.waku_node] Container stopped.
2026-02-10 04:46:56.810 DEBUG [src.node.waku_node] Stopping container with id 26b74f94e5e7
2026-02-10 04:46:57.377 DEBUG [src.node.waku_node] Container stopped.
2026-02-10 04:46:57.380 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-02-10 04:46:57.385 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-10 04:46:57.389 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
