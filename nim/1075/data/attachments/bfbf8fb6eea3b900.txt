2026-02-10 04:49:54.815 DEBUG [tests.conftest] Running fixture setup: test_id
2026-02-10 04:49:54.816 DEBUG [tests.conftest] Running test: test_light_push_with_missing_content_topic with id: 2026-02-10_04-49-54__4e9f31a5-bf9d-4cf1-afb0-38e31666c70e
2026-02-10 04:49:54.816 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-02-10 04:49:54.816 DEBUG [src.steps.light_push] Running fixture setup: light_push_setup
2026-02-10 04:49:54.824 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-10 04:49:54.824 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node1_2026-02-10_04-49-54__4e9f31a5-bf9d-4cf1-afb0-38e31666c70e__wakuorg_nwaku:latest.log
2026-02-10 04:49:54.824 DEBUG [src.node.waku_node] Starting Node...
2026-02-10 04:49:54.824 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-10 04:49:54.826 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-10 04:49:54.826 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.154.69
2026-02-10 04:49:54.826 DEBUG [src.node.docker_mananger] Generated ports ['34718', '34719', '34720', '34721', '34722']
2026-02-10 04:49:54.826 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-10 04:49:54.826 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-10 04:49:54.826 DEBUG [src.node.waku_node] Using volumes []
2026-02-10 04:49:54.827 DEBUG [src.node.docker_mananger] docker run -i -t -p 34718:34718 -p 34719:34719 -p 34720:34720 -p 34721:34721 -p 34722:34722 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=34720 --rest-port=34718 --tcp-port=34719 --discv5-udp-port=34721 --rest-address=0.0.0.0 --nat=extip:172.18.154.69 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=cccd4412d7ff890ffe2f2d1167a0feab1ffa85cb6a5c1eebb598ad63dda7c182 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=34722 --metrics-logging=true --lightpush=true --relay=true
2026-02-10 04:49:55.017 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.154.69 waku 6050ed68a686b2a094a69185a7122eaadc2b64a19e2382db332b81b014b06642
2026-02-10 04:49:55.044 ERROR [src.node.docker_mananger] Max retries reached for container 0542fb36c8c1. Exiting log stream.
2026-02-10 04:49:55.048 DEBUG [src.node.docker_mananger] Container started with ID 6050ed68a686. Setting up logs at ./log/docker/receiving_node1_2026-02-10_04-49-54__4e9f31a5-bf9d-4cf1-afb0-38e31666c70e__wakuorg_nwaku:latest.log
2026-02-10 04:49:55.049 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 34718
2026-02-10 04:49:55.049 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-10 04:49:55.557 ERROR [src.node.docker_mananger] Max retries reached for container c07b3485cf4a. Exiting log stream.
2026-02-10 04:49:56.050 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:34718/health" -H "Content-Type: application/json" -d 'None'
2026-02-10 04:49:56.053 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_READY","desc":"Node has no relay peers to fullfill push requests"},{"Legacy Lightpush":"NOT_READY","desc":"Node has no relay peers to fullfill push requests"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-10 04:49:56.053 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-10 04:49:56.053 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:34718/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-10 04:49:56.056 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.154.69/tcp/34719/p2p/16Uiu2HAmJFRkNogmHPmJ2yPCgezQymRmBKn19jiC5k1UyhMBpugK","/ip4/172.18.154.69/tcp/34720/ws/p2p/16Uiu2HAmJFRkNogmHPmJ2yPCgezQymRmBKn19jiC5k1UyhMBpugK"],"enrUri":"enr:-L24QOt2yK5Vsmy25Oe4MPy-rnjKeabb5FA7VT3Dr8B95sYaTXq07Ci1sG4j8vd7DyBOa-rgVBrVvcRgdrtOk5ALuiACgmlkgnY0gmlwhKwSmkWKbXVsdGlhZGRyc5YACASsEppFBoefAAoErBKaRQaHoN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDUxzmWbxHQ21gSFrzc0BrY1X_XhA1IcK4QJ8YvU2R0bCDdGNwgoefg3VkcIKHoYV3YWt1Mgk"}'
2026-02-10 04:49:56.056 INFO [src.node.waku_node] REST service is ready !!
2026-02-10 04:49:56.064 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-10 04:49:56.064 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node2_2026-02-10_04-49-54__4e9f31a5-bf9d-4cf1-afb0-38e31666c70e__wakuorg_nwaku:latest.log
2026-02-10 04:49:56.064 DEBUG [src.node.waku_node] Starting Node...
2026-02-10 04:49:56.064 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-10 04:49:56.066 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-10 04:49:56.066 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.59.134
2026-02-10 04:49:56.066 DEBUG [src.node.docker_mananger] Generated ports ['63348', '63349', '63350', '63351', '63352']
2026-02-10 04:49:56.066 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-10 04:49:56.066 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-10 04:49:56.066 DEBUG [src.node.waku_node] Using volumes []
2026-02-10 04:49:56.067 DEBUG [src.node.docker_mananger] docker run -i -t -p 63348:63348 -p 63349:63349 -p 63350:63350 -p 63351:63351 -p 63352:63352 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=63350 --rest-port=63348 --tcp-port=63349 --discv5-udp-port=63351 --rest-address=0.0.0.0 --nat=extip:172.18.59.134 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=daac600ee7a8aeffa5db02eabe0da6fcbd68cb491ed6fe64cbf3d2dee57a7044 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=63352 --metrics-logging=true --lightpush=false --relay=true
2026-02-10 04:49:56.260 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.59.134 waku 446f304078d27ea9fb750278c1749384b66697024f8c5ef36b3fb25d2723b93a
2026-02-10 04:49:56.290 DEBUG [src.node.docker_mananger] Container started with ID 446f304078d2. Setting up logs at ./log/docker/receiving_node2_2026-02-10_04-49-54__4e9f31a5-bf9d-4cf1-afb0-38e31666c70e__wakuorg_nwaku:latest.log
2026-02-10 04:49:56.291 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 63348
2026-02-10 04:49:56.291 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-10 04:49:57.291 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:63348/health" -H "Content-Type: application/json" -d 'None'
2026-02-10 04:49:57.295 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-10 04:49:57.295 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-10 04:49:57.295 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:63348/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-10 04:49:57.298 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.59.134/tcp/63349/p2p/16Uiu2HAmAxBGosS3WV5FfCtXvjqCg9LTjE5XZvNus5dVLpop3ZJB","/ip4/172.18.59.134/tcp/63350/ws/p2p/16Uiu2HAmAxBGosS3WV5FfCtXvjqCg9LTjE5XZvNus5dVLpop3ZJB"],"enrUri":"enr:-L24QIF7lLKaU8Zkiy3L4oDDbFctUlZ1ap1lMmf7424q3CSlIAdMZrjechLexVosx1qO0bgO95ds8zUdst0TbQxbnXMCgmlkgnY0gmlwhKwSO4aKbXVsdGlhZGRyc5YACASsEjuGBvd1AAoErBI7hgb3dt0DgnJzhQADAQAAiXNlY3AyNTZrMaEC5q_ZrExaLIyych_cXqKszBr-hj-cq0rG_ri36pTadqSDdGNwgvd1g3VkcIL3d4V3YWt1MgE"}'
2026-02-10 04:49:57.298 INFO [src.node.waku_node] REST service is ready !!
2026-02-10 04:49:57.298 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:63348/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.154.69/tcp/34719/p2p/16Uiu2HAmJFRkNogmHPmJ2yPCgezQymRmBKn19jiC5k1UyhMBpugK"]'
2026-02-10 04:49:57.330 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-10 04:49:57.341 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-10 04:49:57.343 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/lightpush_node1_2026-02-10_04-49-54__4e9f31a5-bf9d-4cf1-afb0-38e31666c70e__wakuorg_nwaku:latest.log
2026-02-10 04:49:57.346 DEBUG [src.node.waku_node] Starting Node...
2026-02-10 04:49:57.346 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-10 04:49:57.348 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-10 04:49:57.349 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.9.110
2026-02-10 04:49:57.350 DEBUG [src.node.docker_mananger] Generated ports ['26862', '26863', '26864', '26865', '26866']
2026-02-10 04:49:57.350 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-10 04:49:57.350 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-10 04:49:57.350 DEBUG [src.node.waku_node] Using volumes []
2026-02-10 04:49:57.351 DEBUG [src.node.docker_mananger] docker run -i -t -p 26862:26862 -p 26863:26863 -p 26864:26864 -p 26865:26865 -p 26866:26866 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=26864 --rest-port=26862 --tcp-port=26863 --discv5-udp-port=26865 --rest-address=0.0.0.0 --nat=extip:172.18.9.110 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=afd75cb8a3cda3eb7ffaecc9143cab96fdeeedc5afddc9d34aaf9c968eda2ea8 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=26866 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QOt2yK5Vsmy25Oe4MPy-rnjKeabb5FA7VT3Dr8B95sYaTXq07Ci1sG4j8vd7DyBOa-rgVBrVvcRgdrtOk5ALuiACgmlkgnY0gmlwhKwSmkWKbXVsdGlhZGRyc5YACASsEppFBoefAAoErBKaRQaHoN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDUxzmWbxHQ21gSFrzc0BrY1X_XhA1IcK4QJ8YvU2R0bCDdGNwgoefg3VkcIKHoYV3YWt1Mgk --lightpushnode=/ip4/172.18.154.69/tcp/34719/p2p/16Uiu2HAmJFRkNogmHPmJ2yPCgezQymRmBKn19jiC5k1UyhMBpugK --lightpush=true --relay=true
2026-02-10 04:49:57.552 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.9.110 waku 665de8adbbf4f7af116fb32584be902ed9892749c2ef0de19bc7ef83bdc4f612
2026-02-10 04:49:57.583 DEBUG [src.node.docker_mananger] Container started with ID 665de8adbbf4. Setting up logs at ./log/docker/lightpush_node1_2026-02-10_04-49-54__4e9f31a5-bf9d-4cf1-afb0-38e31666c70e__wakuorg_nwaku:latest.log
2026-02-10 04:49:57.583 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 26862
2026-02-10 04:49:57.583 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-10 04:49:58.584 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26862/health" -H "Content-Type: application/json" -d 'None'
2026-02-10 04:49:58.587 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_READY","desc":"Node has no relay peers to fullfill push requests"},{"Legacy Lightpush":"NOT_READY","desc":"Node has no relay peers to fullfill push requests"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"READY"},{"Legacy Lightpush Client":"READY"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-10 04:49:58.588 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-10 04:49:58.588 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26862/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-10 04:49:58.590 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.9.110/tcp/26863/p2p/16Uiu2HAkwcoThq3hq8LxC9rijMB5fdpvnTG4mwCe3EPGnErAHB45","/ip4/172.18.9.110/tcp/26864/ws/p2p/16Uiu2HAkwcoThq3hq8LxC9rijMB5fdpvnTG4mwCe3EPGnErAHB45"],"enrUri":"enr:-L24QOkeSBvp0mxlIai2XkZf0mjLua8CD43A4wREqYHjEPknOru_UMXsHKo5sk4PYwRvWP-hPL9CSUD8fgpE681Ijg0CgmlkgnY0gmlwhKwSCW6KbXVsdGlhZGRyc5YACASsEgluBmjvAAoErBIJbgZo8N0DgnJzhQADAQAAiXNlY3AyNTZrMaECIJE4yCnfskU58xzrqag9ZABKWDvA4dS8TOI6aU9cqIqDdGNwgmjvg3VkcIJo8YV3YWt1Mgk"}'
2026-02-10 04:49:58.590 INFO [src.node.waku_node] REST service is ready !!
2026-02-10 04:49:58.591 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:26862/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.154.69/tcp/34719/p2p/16Uiu2HAmJFRkNogmHPmJ2yPCgezQymRmBKn19jiC5k1UyhMBpugK"]'
2026-02-10 04:49:58.623 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-10 04:49:58.624 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:26862/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.59.134/tcp/63349/p2p/16Uiu2HAmAxBGosS3WV5FfCtXvjqCg9LTjE5XZvNus5dVLpop3ZJB"]'
2026-02-10 04:49:58.647 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-10 04:49:58.648 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:34718/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-10 04:49:58.654 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-10 04:49:58.655 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:63348/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-10 04:49:58.660 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-10 04:49:58.660 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:26862/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-10 04:49:58.666 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-10 04:49:58.671 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:26862/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "timestamp": 1770698998670967808}}'
2026-02-10 04:49:58.679 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:26862/lightpush/v1/message. Response content: b'Invalid content body, could not decode: Unable to deserialize data: '
2026-02-10 04:49:58.684 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-02-10 04:49:58.688 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-02-10 04:49:58.688 DEBUG [src.node.waku_node] Stopping container with id 6050ed68a686
2026-02-10 04:49:59.276 DEBUG [src.node.waku_node] Container stopped.
2026-02-10 04:49:59.276 DEBUG [src.node.waku_node] Stopping container with id 446f304078d2
2026-02-10 04:49:59.887 DEBUG [src.node.waku_node] Container stopped.
2026-02-10 04:49:59.889 DEBUG [src.node.waku_node] Stopping container with id 665de8adbbf4
2026-02-10 04:50:00.093 ERROR [src.node.docker_mananger] Max retries reached for container 6050ed68a686. Exiting log stream.
2026-02-10 04:50:00.416 DEBUG [src.node.waku_node] Container stopped.
2026-02-10 04:50:00.418 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-02-10 04:50:00.426 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-10 04:50:00.433 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-10 04:50:00.440 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
