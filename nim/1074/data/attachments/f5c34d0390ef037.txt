2026-02-09 04:43:13.620 DEBUG [tests.conftest] Running fixture setup: test_id
2026-02-09 04:43:13.620 DEBUG [tests.conftest] Running test: test_time_filter_matches_one_message with id: 2026-02-09_04-43-13__4c81ecc6-600b-40b5-b316-9d1685e088f7
2026-02-09 04:43:13.621 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-02-09 04:43:13.621 DEBUG [src.steps.store] Running fixture setup: store_setup
2026-02-09 04:43:13.621 DEBUG [src.steps.store] Running fixture setup: node_setup
2026-02-09 04:43:13.627 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-09 04:43:13.627 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/publishing_node1_2026-02-09_04-43-13__4c81ecc6-600b-40b5-b316-9d1685e088f7__wakuorg_nwaku:latest.log
2026-02-09 04:43:13.628 DEBUG [src.node.waku_node] Starting Node...
2026-02-09 04:43:13.628 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-09 04:43:13.629 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-09 04:43:13.629 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.97.162
2026-02-09 04:43:13.629 DEBUG [src.node.docker_mananger] Generated ports ['35862', '35863', '35864', '35865', '35866']
2026-02-09 04:43:13.630 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-09 04:43:13.630 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-09 04:43:13.630 DEBUG [src.node.waku_node] Using volumes []
2026-02-09 04:43:13.630 DEBUG [src.node.docker_mananger] docker run -i -t -p 35862:35862 -p 35863:35863 -p 35864:35864 -p 35865:35865 -p 35866:35866 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=35864 --rest-port=35862 --tcp-port=35863 --discv5-udp-port=35865 --rest-address=0.0.0.0 --nat=extip:172.18.97.162 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f9af2fba38d6c9bcac32bbd272fad9ecba23f043730e6cdfd4ebf60eae4b0dbc --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=35866 --metrics-logging=true --store=true --relay=true
2026-02-09 04:43:13.809 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.97.162 waku 51ae340d791d8675bdf7ffb3e807462936ed25170fbc4957cd06150a2ba60142
2026-02-09 04:43:13.841 DEBUG [src.node.docker_mananger] Container started with ID 51ae340d791d. Setting up logs at ./log/docker/publishing_node1_2026-02-09_04-43-13__4c81ecc6-600b-40b5-b316-9d1685e088f7__wakuorg_nwaku:latest.log
2026-02-09 04:43:13.842 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 35862
2026-02-09 04:43:13.842 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-09 04:43:13.894 ERROR [src.node.docker_mananger] Max retries reached for container 65ddcc5ae00b. Exiting log stream.
2026-02-09 04:43:14.425 ERROR [src.node.docker_mananger] Max retries reached for container dc22dbe648f0. Exiting log stream.
2026-02-09 04:43:14.843 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:35862/health" -H "Content-Type: application/json" -d 'None'
2026-02-09 04:43:14.846 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"READY"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"READY"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-09 04:43:14.846 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-09 04:43:14.847 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:35862/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-09 04:43:14.849 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.97.162/tcp/35863/p2p/16Uiu2HAm9utHUSx4JvSeeGjgjLVfmXcJv3yUf8N4AxK3KEzchetL","/ip4/172.18.97.162/tcp/35864/ws/p2p/16Uiu2HAm9utHUSx4JvSeeGjgjLVfmXcJv3yUf8N4AxK3KEzchetL"],"enrUri":"enr:-L24QBJ_H8GGfCWBEh6d-30d1wRThzSOhqTatPUhKRmM3gvOFDRwwNUPbiLJaBYDM14nhzbE8FaBbiN9aGawel3_jwgCgmlkgnY0gmlwhKwSYaKKbXVsdGlhZGRyc5YACASsEmGiBowXAAoErBJhogaMGN0DgnJzhQADAQAAiXNlY3AyNTZrMaEC1z3K8WudETToxaOVK5ZTx5SX9tXjn7_jbhMDiuXHGiWDdGNwgowXg3VkcIKMGYV3YWt1MgM"}'
2026-02-09 04:43:14.849 INFO [src.node.waku_node] REST service is ready !!
2026-02-09 04:43:14.856 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-09 04:43:14.857 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/store_node1_2026-02-09_04-43-13__4c81ecc6-600b-40b5-b316-9d1685e088f7__wakuorg_nwaku:latest.log
2026-02-09 04:43:14.857 DEBUG [src.node.waku_node] Starting Node...
2026-02-09 04:43:14.857 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-09 04:43:14.858 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-09 04:43:14.858 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.159.106
2026-02-09 04:43:14.859 DEBUG [src.node.docker_mananger] Generated ports ['30616', '30617', '30618', '30619', '30620']
2026-02-09 04:43:14.859 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-09 04:43:14.859 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-09 04:43:14.859 DEBUG [src.node.waku_node] Using volumes []
2026-02-09 04:43:14.859 DEBUG [src.node.docker_mananger] docker run -i -t -p 30616:30616 -p 30617:30617 -p 30618:30618 -p 30619:30619 -p 30620:30620 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=30618 --rest-port=30616 --tcp-port=30617 --discv5-udp-port=30619 --rest-address=0.0.0.0 --nat=extip:172.18.159.106 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=81bf3ab5ec249fb56fccb4fd2e4add9041cab1fb509cff3d8ed73d09e7e3bcf7 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=30620 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QBJ_H8GGfCWBEh6d-30d1wRThzSOhqTatPUhKRmM3gvOFDRwwNUPbiLJaBYDM14nhzbE8FaBbiN9aGawel3_jwgCgmlkgnY0gmlwhKwSYaKKbXVsdGlhZGRyc5YACASsEmGiBowXAAoErBJhogaMGN0DgnJzhQADAQAAiXNlY3AyNTZrMaEC1z3K8WudETToxaOVK5ZTx5SX9tXjn7_jbhMDiuXHGiWDdGNwgowXg3VkcIKMGYV3YWt1MgM --storenode=/ip4/172.18.97.162/tcp/35863/p2p/16Uiu2HAm9utHUSx4JvSeeGjgjLVfmXcJv3yUf8N4AxK3KEzchetL --store=true --relay=true
2026-02-09 04:43:15.048 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.159.106 waku 9a1a72cdeef87228b8c740d7372172761827fca37dadfd9d36eb900f4f074b79
2026-02-09 04:43:15.081 DEBUG [src.node.docker_mananger] Container started with ID 9a1a72cdeef8. Setting up logs at ./log/docker/store_node1_2026-02-09_04-43-13__4c81ecc6-600b-40b5-b316-9d1685e088f7__wakuorg_nwaku:latest.log
2026-02-09 04:43:15.081 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 30616
2026-02-09 04:43:15.081 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-09 04:43:16.083 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30616/health" -H "Content-Type: application/json" -d 'None'
2026-02-09 04:43:16.087 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"READY"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"READY"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"READY"},{"Legacy Store Client":"READY"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-09 04:43:16.087 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-09 04:43:16.087 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30616/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-09 04:43:16.090 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.159.106/tcp/30617/p2p/16Uiu2HAm6hwSwjozPhvnK3AkdKo8EPHUAxgC8p6kf2yzKm6UuJRL","/ip4/172.18.159.106/tcp/30618/ws/p2p/16Uiu2HAm6hwSwjozPhvnK3AkdKo8EPHUAxgC8p6kf2yzKm6UuJRL"],"enrUri":"enr:-L24QLHhyLvVikJboYBlNGhEJQ4yqbO6t9xRWEOARwOYh7f-HgF2Z4NvsP-JEi-Z_394H58m5MyKqt7eL6P8_rhEjbACgmlkgnY0gmlwhKwSn2qKbXVsdGlhZGRyc5YACASsEp9qBneZAAoErBKfagZ3mt0DgnJzhQADAQAAiXNlY3AyNTZrMaECp5tWyHI2nRkqn2fAPd87mVxeOYFywWSA7D_2QeScvteDdGNwgneZg3VkcIJ3m4V3YWt1MgM"}'
2026-02-09 04:43:16.090 INFO [src.node.waku_node] REST service is ready !!
2026-02-09 04:43:16.090 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:30616/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.97.162/tcp/35863/p2p/16Uiu2HAm9utHUSx4JvSeeGjgjLVfmXcJv3yUf8N4AxK3KEzchetL"]'
2026-02-09 04:43:16.093 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-09 04:43:16.094 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:35862/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-09 04:43:16.096 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-09 04:43:16.096 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:30616/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-09 04:43:16.098 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-09 04:43:16.099 DEBUG [src.steps.store] Relaying message
2026-02-09 04:43:16.099 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:35862/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-09 04:43:16.104 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-09 04:43:16.104 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-09 04:43:16.305 DEBUG [src.steps.store] Relaying message
2026-02-09 04:43:16.305 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:35862/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-09 04:43:16.310 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-09 04:43:16.310 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-09 04:43:16.511 DEBUG [src.steps.store] Relaying message
2026-02-09 04:43:16.511 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:35862/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-09 04:43:16.517 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-09 04:43:16.517 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-09 04:43:16.718 DEBUG [src.steps.store] Relaying message
2026-02-09 04:43:16.718 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:35862/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-09 04:43:16.723 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-09 04:43:16.724 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-09 04:43:16.925 DEBUG [src.steps.store] Relaying message
2026-02-09 04:43:16.925 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:35862/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-09 04:43:16.931 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-09 04:43:16.931 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-09 04:43:17.132 DEBUG [src.steps.store] Relaying message
2026-02-09 04:43:17.132 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:35862/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-09 04:43:17.137 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-09 04:43:17.138 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-09 04:43:17.338 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:35862/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=1770612193099431008&endTime=1770612193099631008&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
2026-02-09 04:43:17.342 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xfdc32d188bab06b57df90d2b939dd9e95ea7067f22f52bfdd4986217160969bc"}]}'
2026-02-09 04:43:17.342 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30616/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=1770612193099431008&endTime=1770612193099631008&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
2026-02-09 04:43:17.345 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xfdc32d188bab06b57df90d2b939dd9e95ea7067f22f52bfdd4986217160969bc"}]}'
2026-02-09 04:43:17.347 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-02-09 04:43:17.348 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-02-09 04:43:17.348 DEBUG [src.node.waku_node] Stopping container with id 51ae340d791d
2026-02-09 04:43:17.876 DEBUG [src.node.waku_node] Container stopped.
2026-02-09 04:43:17.876 DEBUG [src.node.waku_node] Stopping container with id 9a1a72cdeef8
2026-02-09 04:43:18.418 DEBUG [src.node.waku_node] Container stopped.
2026-02-09 04:43:18.420 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-02-09 04:43:18.429 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-09 04:43:18.438 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
