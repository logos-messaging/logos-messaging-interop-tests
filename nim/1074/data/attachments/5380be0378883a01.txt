2026-02-09 04:51:38.350 DEBUG [tests.conftest] Running fixture setup: test_id
2026-02-09 04:51:38.350 DEBUG [tests.conftest] Running test: test_store_with_unknown_pubsub_topic with id: 2026-02-09_04-51-38__0e19867a-9106-4105-a3a3-5ccc49af9d46
2026-02-09 04:51:38.351 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-02-09 04:51:38.351 DEBUG [src.steps.store] Running fixture setup: store_setup
2026-02-09 04:51:38.351 DEBUG [src.steps.store] Running fixture setup: node_setup
2026-02-09 04:51:38.361 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-09 04:51:38.361 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/publishing_node1_2026-02-09_04-51-38__0e19867a-9106-4105-a3a3-5ccc49af9d46__wakuorg_nwaku:latest.log
2026-02-09 04:51:38.361 DEBUG [src.node.waku_node] Starting Node...
2026-02-09 04:51:38.362 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-09 04:51:38.364 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-09 04:51:38.365 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.123.118
2026-02-09 04:51:38.365 DEBUG [src.node.docker_mananger] Generated ports ['52868', '52869', '52870', '52871', '52872']
2026-02-09 04:51:38.365 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-09 04:51:38.366 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-09 04:51:38.366 DEBUG [src.node.waku_node] Using volumes []
2026-02-09 04:51:38.366 DEBUG [src.node.docker_mananger] docker run -i -t -p 52868:52868 -p 52869:52869 -p 52870:52870 -p 52871:52871 -p 52872:52872 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=52870 --rest-port=52868 --tcp-port=52869 --discv5-udp-port=52871 --rest-address=0.0.0.0 --nat=extip:172.18.123.118 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=981adde8a9082ba71a380640a0bbe5bea9654dbffeb2af22b4eef84eccdbd4bb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=52872 --metrics-logging=true --store=true --relay=true
2026-02-09 04:51:38.552 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.123.118 waku e24208d4932f2f2d5fe77811896e11f84c6783989f44a0bed87924163a074912
2026-02-09 04:51:38.574 ERROR [src.node.docker_mananger] Max retries reached for container 8d77d4f71135. Exiting log stream.
2026-02-09 04:51:38.584 DEBUG [src.node.docker_mananger] Container started with ID e24208d4932f. Setting up logs at ./log/docker/publishing_node1_2026-02-09_04-51-38__0e19867a-9106-4105-a3a3-5ccc49af9d46__wakuorg_nwaku:latest.log
2026-02-09 04:51:38.586 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 52868
2026-02-09 04:51:38.587 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-09 04:51:39.191 ERROR [src.node.docker_mananger] Max retries reached for container 4e88b06a576a. Exiting log stream.
2026-02-09 04:51:39.588 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52868/health" -H "Content-Type: application/json" -d 'None'
2026-02-09 04:51:39.591 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"READY"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"READY"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-09 04:51:39.592 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-09 04:51:39.592 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52868/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-09 04:51:39.594 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.123.118/tcp/52869/p2p/16Uiu2HAm4VYi45ua5AHzKcsm39KyKJWWJU44J4iig59ZV8critKD","/ip4/172.18.123.118/tcp/52870/ws/p2p/16Uiu2HAm4VYi45ua5AHzKcsm39KyKJWWJU44J4iig59ZV8critKD"],"enrUri":"enr:-L24QMJ-oA2YCgnkI5W7v28sxBmXYEm5NZBbE5Pf3HpVfy2nTURNtiOQmCfXugs72MWVNFX66epQWtjt6CCJ2CF_ySwCgmlkgnY0gmlwhKwSe3aKbXVsdGlhZGRyc5YACASsEnt2Bs6FAAoErBJ7dgbOht0DgnJzhQADAQAAiXNlY3AyNTZrMaEChrdIp6VNaww7PfHF26QsIcye0F2URVlL9HVH5I4f4WSDdGNwgs6Fg3VkcILOh4V3YWt1MgM"}'
2026-02-09 04:51:39.594 INFO [src.node.waku_node] REST service is ready !!
2026-02-09 04:51:39.601 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-09 04:51:39.601 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/store_node1_2026-02-09_04-51-38__0e19867a-9106-4105-a3a3-5ccc49af9d46__wakuorg_nwaku:latest.log
2026-02-09 04:51:39.602 DEBUG [src.node.waku_node] Starting Node...
2026-02-09 04:51:39.602 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-09 04:51:39.603 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-09 04:51:39.603 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.242.91
2026-02-09 04:51:39.603 DEBUG [src.node.docker_mananger] Generated ports ['31372', '31373', '31374', '31375', '31376']
2026-02-09 04:51:39.603 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-09 04:51:39.603 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-09 04:51:39.604 DEBUG [src.node.waku_node] Using volumes []
2026-02-09 04:51:39.604 DEBUG [src.node.docker_mananger] docker run -i -t -p 31372:31372 -p 31373:31373 -p 31374:31374 -p 31375:31375 -p 31376:31376 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=31374 --rest-port=31372 --tcp-port=31373 --discv5-udp-port=31375 --rest-address=0.0.0.0 --nat=extip:172.18.242.91 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=8a171e4add31154aece09e1ebb80286da8c4fcdf5771b348d6ac2e52dfd6ab0d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=31376 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QMJ-oA2YCgnkI5W7v28sxBmXYEm5NZBbE5Pf3HpVfy2nTURNtiOQmCfXugs72MWVNFX66epQWtjt6CCJ2CF_ySwCgmlkgnY0gmlwhKwSe3aKbXVsdGlhZGRyc5YACASsEnt2Bs6FAAoErBJ7dgbOht0DgnJzhQADAQAAiXNlY3AyNTZrMaEChrdIp6VNaww7PfHF26QsIcye0F2URVlL9HVH5I4f4WSDdGNwgs6Fg3VkcILOh4V3YWt1MgM --storenode=/ip4/172.18.123.118/tcp/52869/p2p/16Uiu2HAm4VYi45ua5AHzKcsm39KyKJWWJU44J4iig59ZV8critKD --store=true --relay=true
2026-02-09 04:51:39.795 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.242.91 waku aadab40124327e0460ad864714d41342726b0e3befbcf00aa75b9b50796b6ac8
2026-02-09 04:51:39.828 DEBUG [src.node.docker_mananger] Container started with ID aadab4012432. Setting up logs at ./log/docker/store_node1_2026-02-09_04-51-38__0e19867a-9106-4105-a3a3-5ccc49af9d46__wakuorg_nwaku:latest.log
2026-02-09 04:51:39.830 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 31372
2026-02-09 04:51:39.830 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-09 04:51:40.830 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31372/health" -H "Content-Type: application/json" -d 'None'
2026-02-09 04:51:40.835 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"READY"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"READY"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"READY"},{"Legacy Store Client":"READY"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-09 04:51:40.835 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-09 04:51:40.835 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31372/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-09 04:51:40.838 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.242.91/tcp/31373/p2p/16Uiu2HAm3Y7WEW8xm2z5ucBCnCR1rHq9QMqSxt81N1RRZgM7nbik","/ip4/172.18.242.91/tcp/31374/ws/p2p/16Uiu2HAm3Y7WEW8xm2z5ucBCnCR1rHq9QMqSxt81N1RRZgM7nbik"],"enrUri":"enr:-L24QJiRMiMm062XOzdfA74zfEjEvNSDc3Zf8tBbxN1NOQkiBAUTAUcCaR_bF4d_SQdavDe-n66bUmG2LBdncxA29fsCgmlkgnY0gmlwhKwS8luKbXVsdGlhZGRyc5YACASsEvJbBnqNAAoErBLyWwZ6jt0DgnJzhQADAQAAiXNlY3AyNTZrMaECeIPXXj3C6LvuysRXOEHK0YYt-wuXGmwvUtLu6BXmk-WDdGNwgnqNg3VkcIJ6j4V3YWt1MgM"}'
2026-02-09 04:51:40.838 INFO [src.node.waku_node] REST service is ready !!
2026-02-09 04:51:40.838 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:31372/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.123.118/tcp/52869/p2p/16Uiu2HAm4VYi45ua5AHzKcsm39KyKJWWJU44J4iig59ZV8critKD"]'
2026-02-09 04:51:40.841 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-09 04:51:40.841 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:52868/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-09 04:51:40.844 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-09 04:51:40.844 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:31372/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-09 04:51:40.846 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-09 04:51:40.847 DEBUG [src.steps.store] Relaying message
2026-02-09 04:51:40.847 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:52868/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-09 04:51:40.852 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-09 04:51:40.852 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-09 04:51:41.054 DEBUG [src.steps.store] Relaying message
2026-02-09 04:51:41.054 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:52868/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2026-02-09 04:51:41.059 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-09 04:51:41.059 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-09 04:51:41.260 DEBUG [src.steps.store] Relaying message
2026-02-09 04:51:41.261 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:52868/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-02-09 04:51:41.266 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-09 04:51:41.267 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-09 04:51:41.468 DEBUG [src.steps.store] Relaying message
2026-02-09 04:51:41.469 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:52868/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2026-02-09 04:51:41.474 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-09 04:51:41.474 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-09 04:51:41.675 DEBUG [src.steps.store] Relaying message
2026-02-09 04:51:41.676 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:52868/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2026-02-09 04:51:41.681 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-09 04:51:41.681 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-09 04:51:41.882 DEBUG [src.steps.store] Relaying message
2026-02-09 04:51:41.882 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:52868/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-02-09 04:51:41.888 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-09 04:51:41.889 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-09 04:51:42.090 DEBUG [src.steps.store] Relaying message
2026-02-09 04:51:42.090 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:52868/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-02-09 04:51:42.096 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-09 04:51:42.096 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-09 04:51:42.297 DEBUG [src.steps.store] Relaying message
2026-02-09 04:51:42.297 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:52868/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-02-09 04:51:42.303 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-09 04:51:42.304 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-09 04:51:42.505 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52868/store/v3/messages?pubsubTopic=test&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
2026-02-09 04:51:42.508 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[]}'
2026-02-09 04:51:42.508 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31372/store/v3/messages?pubsubTopic=test&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
2026-02-09 04:51:42.511 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[]}'
2026-02-09 04:51:42.513 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-02-09 04:51:42.515 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-02-09 04:51:42.515 DEBUG [src.node.waku_node] Stopping container with id e24208d4932f
2026-02-09 04:51:43.072 DEBUG [src.node.waku_node] Container stopped.
2026-02-09 04:51:43.072 DEBUG [src.node.waku_node] Stopping container with id aadab4012432
2026-02-09 04:51:43.599 DEBUG [src.node.waku_node] Container stopped.
2026-02-09 04:51:43.600 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-02-09 04:51:43.607 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-09 04:51:43.615 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
