2026-02-09 04:47:33.084 DEBUG [tests.conftest] Running fixture setup: test_id
2026-02-09 04:47:33.085 DEBUG [tests.conftest] Running test: test_light_push_on_non_subscribed_pubsub_topic with id: 2026-02-09_04-47-33__cbecc22a-00c6-4c58-9d60-acdeb88fedb2
2026-02-09 04:47:33.085 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-02-09 04:47:33.085 DEBUG [src.steps.light_push] Running fixture setup: light_push_setup
2026-02-09 04:47:33.092 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-09 04:47:33.092 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node1_2026-02-09_04-47-33__cbecc22a-00c6-4c58-9d60-acdeb88fedb2__wakuorg_nwaku:latest.log
2026-02-09 04:47:33.092 DEBUG [src.node.waku_node] Starting Node...
2026-02-09 04:47:33.093 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-09 04:47:33.094 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-09 04:47:33.094 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.172.235
2026-02-09 04:47:33.094 DEBUG [src.node.docker_mananger] Generated ports ['30758', '30759', '30760', '30761', '30762']
2026-02-09 04:47:33.094 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-09 04:47:33.094 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-09 04:47:33.094 DEBUG [src.node.waku_node] Using volumes []
2026-02-09 04:47:33.095 DEBUG [src.node.docker_mananger] docker run -i -t -p 30758:30758 -p 30759:30759 -p 30760:30760 -p 30761:30761 -p 30762:30762 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=30760 --rest-port=30758 --tcp-port=30759 --discv5-udp-port=30761 --rest-address=0.0.0.0 --nat=extip:172.18.172.235 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f04dfc925dbeba3febf35ff1ceecaaa35344ebb3a2e7e82dd410176b8f4b8a9d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=30762 --metrics-logging=true --lightpush=true --relay=true
2026-02-09 04:47:33.279 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.172.235 waku 7b39aabc7145425f2f71c8e9c4f69c83736439d28e0c2bea19926e39ebfc172c
2026-02-09 04:47:33.309 DEBUG [src.node.docker_mananger] Container started with ID 7b39aabc7145. Setting up logs at ./log/docker/receiving_node1_2026-02-09_04-47-33__cbecc22a-00c6-4c58-9d60-acdeb88fedb2__wakuorg_nwaku:latest.log
2026-02-09 04:47:33.310 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 30758
2026-02-09 04:47:33.310 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-09 04:47:33.326 ERROR [src.node.docker_mananger] Max retries reached for container 95c384a9debb. Exiting log stream.
2026-02-09 04:47:33.869 ERROR [src.node.docker_mananger] Max retries reached for container cce71256aca3. Exiting log stream.
2026-02-09 04:47:34.312 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30758/health" -H "Content-Type: application/json" -d 'None'
2026-02-09 04:47:34.315 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_READY","desc":"Node has no relay peers to fullfill push requests"},{"Legacy Lightpush":"NOT_READY","desc":"Node has no relay peers to fullfill push requests"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-09 04:47:34.315 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-09 04:47:34.315 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30758/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-09 04:47:34.317 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.172.235/tcp/30759/p2p/16Uiu2HAkzMoWa3sR7sDnP5mLKLdWj6D5T8zgVgZZJ66FvQ9jioN9","/ip4/172.18.172.235/tcp/30760/ws/p2p/16Uiu2HAkzMoWa3sR7sDnP5mLKLdWj6D5T8zgVgZZJ66FvQ9jioN9"],"enrUri":"enr:-L24QMEe9SXCwtjli5ILDYFdzCNUGV-6kuKfMOZbmPayAjJ1ERPan52HIA0kPy2_J_0IvxJOk2VcxngEXepSQl2dO14CgmlkgnY0gmlwhKwSrOuKbXVsdGlhZGRyc5YACASsEqzrBngnAAoErBKs6wZ4KN0DgnJzhQADAQAAiXNlY3AyNTZrMaECSUygVlMrRKRfWNYzfjIi3FvUcycJJNffd_mYAJ9fC4qDdGNwgngng3VkcIJ4KYV3YWt1Mgk"}'
2026-02-09 04:47:34.318 INFO [src.node.waku_node] REST service is ready !!
2026-02-09 04:47:34.325 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-09 04:47:34.325 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node2_2026-02-09_04-47-33__cbecc22a-00c6-4c58-9d60-acdeb88fedb2__wakuorg_nwaku:latest.log
2026-02-09 04:47:34.325 DEBUG [src.node.waku_node] Starting Node...
2026-02-09 04:47:34.325 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-09 04:47:34.326 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-09 04:47:34.327 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.2.216
2026-02-09 04:47:34.327 DEBUG [src.node.docker_mananger] Generated ports ['55388', '55389', '55390', '55391', '55392']
2026-02-09 04:47:34.327 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-09 04:47:34.327 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-09 04:47:34.327 DEBUG [src.node.waku_node] Using volumes []
2026-02-09 04:47:34.327 DEBUG [src.node.docker_mananger] docker run -i -t -p 55388:55388 -p 55389:55389 -p 55390:55390 -p 55391:55391 -p 55392:55392 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=55390 --rest-port=55388 --tcp-port=55389 --discv5-udp-port=55391 --rest-address=0.0.0.0 --nat=extip:172.18.2.216 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=68d4cef340b543e8ac3375e5418b639d4d308f22d4cee935ffc67cfc83333456 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=55392 --metrics-logging=true --lightpush=false --relay=true
2026-02-09 04:47:34.515 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.2.216 waku cbb8f72b3de8295b34fdee8aa84b5c4fcc40b2211d8da62910712fe8cb224417
2026-02-09 04:47:34.552 DEBUG [src.node.docker_mananger] Container started with ID cbb8f72b3de8. Setting up logs at ./log/docker/receiving_node2_2026-02-09_04-47-33__cbecc22a-00c6-4c58-9d60-acdeb88fedb2__wakuorg_nwaku:latest.log
2026-02-09 04:47:34.552 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 55388
2026-02-09 04:47:34.552 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-09 04:47:35.553 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55388/health" -H "Content-Type: application/json" -d 'None'
2026-02-09 04:47:35.556 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-09 04:47:35.556 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-09 04:47:35.557 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55388/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-09 04:47:35.559 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.2.216/tcp/55389/p2p/16Uiu2HAm3FsMzAkGdjSJbHJf7FB12tZWu9xuJb2ZD9dE2LwfkC5s","/ip4/172.18.2.216/tcp/55390/ws/p2p/16Uiu2HAm3FsMzAkGdjSJbHJf7FB12tZWu9xuJb2ZD9dE2LwfkC5s"],"enrUri":"enr:-L24QKTWm3P1Hl_bebw1is1OS-Ww8RScUARGibM69cgemo_CckHysryL8qie8uFDzCdi_845sovQiIJtP99qW-xdlm0CgmlkgnY0gmlwhKwSAtiKbXVsdGlhZGRyc5YACASsEgLYBthdAAoErBIC2AbYXt0DgnJzhQADAQAAiXNlY3AyNTZrMaECdFqOxgNBd9NPpAphEMW-peleEHDVp7OicOo0ZmgMDL6DdGNwgthdg3VkcILYX4V3YWt1MgE"}'
2026-02-09 04:47:35.559 INFO [src.node.waku_node] REST service is ready !!
2026-02-09 04:47:35.559 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55388/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.172.235/tcp/30759/p2p/16Uiu2HAkzMoWa3sR7sDnP5mLKLdWj6D5T8zgVgZZJ66FvQ9jioN9"]'
2026-02-09 04:47:35.590 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-09 04:47:35.600 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-09 04:47:35.600 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/lightpush_node1_2026-02-09_04-47-33__cbecc22a-00c6-4c58-9d60-acdeb88fedb2__wakuorg_nwaku:latest.log
2026-02-09 04:47:35.600 DEBUG [src.node.waku_node] Starting Node...
2026-02-09 04:47:35.600 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-09 04:47:35.601 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-09 04:47:35.602 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.92.16
2026-02-09 04:47:35.602 DEBUG [src.node.docker_mananger] Generated ports ['15808', '15809', '15810', '15811', '15812']
2026-02-09 04:47:35.602 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-09 04:47:35.602 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-09 04:47:35.602 DEBUG [src.node.waku_node] Using volumes []
2026-02-09 04:47:35.602 DEBUG [src.node.docker_mananger] docker run -i -t -p 15808:15808 -p 15809:15809 -p 15810:15810 -p 15811:15811 -p 15812:15812 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=15810 --rest-port=15808 --tcp-port=15809 --discv5-udp-port=15811 --rest-address=0.0.0.0 --nat=extip:172.18.92.16 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=8f7ad6ed8cd72b68fbc2a1d6d0ad78f29d2dc63adbb5a3bde7be08b6b2decbf1 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=15812 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QMEe9SXCwtjli5ILDYFdzCNUGV-6kuKfMOZbmPayAjJ1ERPan52HIA0kPy2_J_0IvxJOk2VcxngEXepSQl2dO14CgmlkgnY0gmlwhKwSrOuKbXVsdGlhZGRyc5YACASsEqzrBngnAAoErBKs6wZ4KN0DgnJzhQADAQAAiXNlY3AyNTZrMaECSUygVlMrRKRfWNYzfjIi3FvUcycJJNffd_mYAJ9fC4qDdGNwgngng3VkcIJ4KYV3YWt1Mgk --lightpushnode=/ip4/172.18.172.235/tcp/30759/p2p/16Uiu2HAkzMoWa3sR7sDnP5mLKLdWj6D5T8zgVgZZJ66FvQ9jioN9 --lightpush=true --relay=true
2026-02-09 04:47:35.791 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.92.16 waku 37b206e7755d5e70cfe72898b93779382275f742953d17dbad9da70f460fd6ba
2026-02-09 04:47:35.822 DEBUG [src.node.docker_mananger] Container started with ID 37b206e7755d. Setting up logs at ./log/docker/lightpush_node1_2026-02-09_04-47-33__cbecc22a-00c6-4c58-9d60-acdeb88fedb2__wakuorg_nwaku:latest.log
2026-02-09 04:47:35.823 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 15808
2026-02-09 04:47:35.824 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-09 04:47:36.824 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15808/health" -H "Content-Type: application/json" -d 'None'
2026-02-09 04:47:36.837 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_READY","desc":"Node has no relay peers to fullfill push requests"},{"Legacy Lightpush":"NOT_READY","desc":"Node has no relay peers to fullfill push requests"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"READY"},{"Legacy Lightpush Client":"READY"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-09 04:47:36.837 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-09 04:47:36.840 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15808/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-09 04:47:36.843 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.92.16/tcp/15809/p2p/16Uiu2HAmBPcx971hBkKcHtzCsHKhdX6DbxdAJfUtw8UEsawN1FbN","/ip4/172.18.92.16/tcp/15810/ws/p2p/16Uiu2HAmBPcx971hBkKcHtzCsHKhdX6DbxdAJfUtw8UEsawN1FbN"],"enrUri":"enr:-L24QBb5x_QQISBGWKfqDCK4Z_Aa0pITov-yLLkZGDNW2DI9YNeU38LSZgO4W5O88uWYxOE8vGNCsw39B7P2qiqWrB0CgmlkgnY0gmlwhKwSXBCKbXVsdGlhZGRyc5YACASsElwQBj3BAAoErBJcEAY9wt0DgnJzhQADAQAAiXNlY3AyNTZrMaEC7TRnpW1EpG0g_Ux2KR-3XQJMgHC1JpAhpxoqfltwhBGDdGNwgj3Bg3VkcII9w4V3YWt1Mgk"}'
2026-02-09 04:47:36.844 INFO [src.node.waku_node] REST service is ready !!
2026-02-09 04:47:36.844 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:15808/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.172.235/tcp/30759/p2p/16Uiu2HAkzMoWa3sR7sDnP5mLKLdWj6D5T8zgVgZZJ66FvQ9jioN9"]'
2026-02-09 04:47:36.847 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-09 04:47:36.847 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:15808/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.2.216/tcp/55389/p2p/16Uiu2HAm3FsMzAkGdjSJbHJf7FB12tZWu9xuJb2ZD9dE2LwfkC5s"]'
2026-02-09 04:47:36.870 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-09 04:47:36.872 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:30758/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-09 04:47:36.876 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-09 04:47:36.877 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55388/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-09 04:47:36.881 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-09 04:47:36.882 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:15808/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-09 04:47:36.885 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-09 04:47:36.888 DEBUG [src.steps.light_push] Lightpushing message
2026-02-09 04:47:36.888 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:15808/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/1", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1770612456888125713}}'
2026-02-09 04:47:36.896 ERROR [src.node.api_clients.base_client] HTTP error occurred: 503 Server Error: Service Unavailable for url: http://127.0.0.1:15808/lightpush/v1/message. Response content: b'Failed to request a message push: not_published_to_any_peer'
2026-02-09 04:47:36.898 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-02-09 04:47:36.899 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-02-09 04:47:36.900 DEBUG [src.node.waku_node] Stopping container with id 7b39aabc7145
2026-02-09 04:47:37.458 DEBUG [src.node.waku_node] Container stopped.
2026-02-09 04:47:37.458 DEBUG [src.node.waku_node] Stopping container with id cbb8f72b3de8
2026-02-09 04:47:38.031 DEBUG [src.node.waku_node] Container stopped.
2026-02-09 04:47:38.032 DEBUG [src.node.waku_node] Stopping container with id 37b206e7755d
2026-02-09 04:47:38.272 ERROR [src.node.docker_mananger] Max retries reached for container 7b39aabc7145. Exiting log stream.
2026-02-09 04:47:38.587 DEBUG [src.node.waku_node] Container stopped.
2026-02-09 04:47:38.589 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-02-09 04:47:38.598 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-09 04:47:38.606 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-09 04:47:38.614 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
