2026-02-09 04:43:13.963 DEBUG [tests.conftest] Running fixture setup: test_id
2026-02-09 04:43:13.964 DEBUG [tests.conftest] Running test: test_unsubscribe_from_some_content_topics[content_topic_list1] with id: 2026-02-09_04-43-13__459048f4-9488-46b8-ba17-7bf525991c9e
2026-02-09 04:43:13.964 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-02-09 04:43:13.964 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2026-02-09 04:43:13.965 DEBUG [src.steps.sharding] Running fixture setup: sharding_setup
2026-02-09 04:43:13.973 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-09 04:43:13.974 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2026-02-09_04-43-13__459048f4-9488-46b8-ba17-7bf525991c9e__wakuorg_nwaku:latest.log
2026-02-09 04:43:13.974 DEBUG [src.node.waku_node] Starting Node...
2026-02-09 04:43:13.974 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-09 04:43:13.975 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-09 04:43:13.975 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.236.150
2026-02-09 04:43:13.976 DEBUG [src.node.docker_mananger] Generated ports ['6918', '6919', '6920', '6921', '6922']
2026-02-09 04:43:13.976 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-09 04:43:13.976 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-09 04:43:13.976 DEBUG [src.node.waku_node] Using volumes []
2026-02-09 04:43:13.976 DEBUG [src.node.docker_mananger] docker run -i -t -p 6918:6918 -p 6919:6919 -p 6920:6920 -p 6921:6921 -p 6922:6922 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=6920 --rest-port=6918 --tcp-port=6919 --discv5-udp-port=6921 --rest-address=0.0.0.0 --nat=extip:172.18.236.150 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=cbbaf4b9bb6a451cf2d2e7139af539ade30c8aa8107a71fdf087bb2baf6cfab5 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=6922 --metrics-logging=true --relay=true --filter=true --content-topic=/myapp/1/latest/proto --num-shards-in-network=8
2026-02-09 04:43:14.169 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.236.150 waku 7c1088e1d1f84d93cf0fbd3fad9cd45c359053a36616fa32d8bd32477184009f
2026-02-09 04:43:14.201 DEBUG [src.node.docker_mananger] Container started with ID 7c1088e1d1f8. Setting up logs at ./log/docker/node1_2026-02-09_04-43-13__459048f4-9488-46b8-ba17-7bf525991c9e__wakuorg_nwaku:latest.log
2026-02-09 04:43:14.202 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 6918
2026-02-09 04:43:14.203 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-09 04:43:14.210 ERROR [src.node.docker_mananger] Max retries reached for container 051edc83c891. Exiting log stream.
2026-02-09 04:43:14.767 ERROR [src.node.docker_mananger] Max retries reached for container dd01f226bfbe. Exiting log stream.
2026-02-09 04:43:15.203 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:6918/health" -H "Content-Type: application/json" -d 'None'
2026-02-09 04:43:15.207 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_READY","desc":"Relay is not ready, filter will not be able to sort out messages"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-09 04:43:15.207 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-09 04:43:15.207 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:6918/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-09 04:43:15.209 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.236.150/tcp/6919/p2p/16Uiu2HAkxXJfmtrJoBzioYC13bfnsxuptvcx6zfuhxaWberBhFcE","/ip4/172.18.236.150/tcp/6920/ws/p2p/16Uiu2HAkxXJfmtrJoBzioYC13bfnsxuptvcx6zfuhxaWberBhFcE"],"enrUri":"enr:-L24QJQZ3qgZiYrcuIhrtwPs6Pr7xkMA2qFXn56Kw3v20u2jEaZkO5QH-nTCLTty39sssjieRAJLyQbOYdo82c67N7MCgmlkgnY0gmlwhKwS7JaKbXVsdGlhZGRyc5YACASsEuyWBhsHAAoErBLslgYbCN0DgnJzhQACAQAAiXNlY3AyNTZrMaECLgRzGA-KLu-NYOrZFgHSmh2xW53xKyYZrQkawvtTO7ODdGNwghsHg3VkcIIbCYV3YWt1MgU"}'
2026-02-09 04:43:15.209 INFO [src.node.waku_node] REST service is ready !!
2026-02-09 04:43:15.217 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-09 04:43:15.217 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2026-02-09_04-43-13__459048f4-9488-46b8-ba17-7bf525991c9e__wakuorg_nwaku:latest.log
2026-02-09 04:43:15.217 DEBUG [src.node.waku_node] Starting Node...
2026-02-09 04:43:15.217 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-09 04:43:15.218 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-09 04:43:15.219 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.28.40
2026-02-09 04:43:15.219 DEBUG [src.node.docker_mananger] Generated ports ['28245', '28246', '28247', '28248', '28249']
2026-02-09 04:43:15.219 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-09 04:43:15.219 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-09 04:43:15.219 DEBUG [src.node.waku_node] Using volumes []
2026-02-09 04:43:15.219 DEBUG [src.node.docker_mananger] docker run -i -t -p 28245:28245 -p 28246:28246 -p 28247:28247 -p 28248:28248 -p 28249:28249 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=28247 --rest-port=28245 --tcp-port=28246 --discv5-udp-port=28248 --rest-address=0.0.0.0 --nat=extip:172.18.28.40 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=c6a67ef838eddbdbbf1d7c63ee4c69d7dd18fe7bea1f2d3211c812f81238e93b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=28249 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QJQZ3qgZiYrcuIhrtwPs6Pr7xkMA2qFXn56Kw3v20u2jEaZkO5QH-nTCLTty39sssjieRAJLyQbOYdo82c67N7MCgmlkgnY0gmlwhKwS7JaKbXVsdGlhZGRyc5YACASsEuyWBhsHAAoErBLslgYbCN0DgnJzhQACAQAAiXNlY3AyNTZrMaECLgRzGA-KLu-NYOrZFgHSmh2xW53xKyYZrQkawvtTO7ODdGNwghsHg3VkcIIbCYV3YWt1MgU --content-topic=/myapp/1/latest/proto --num-shards-in-network=8
2026-02-09 04:43:15.405 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.28.40 waku b6c4c9d7aaf32e4d435323036b45c824739048d9de021cfea2b8eb1d3b746a5a
2026-02-09 04:43:15.438 DEBUG [src.node.docker_mananger] Container started with ID b6c4c9d7aaf3. Setting up logs at ./log/docker/node2_2026-02-09_04-43-13__459048f4-9488-46b8-ba17-7bf525991c9e__wakuorg_nwaku:latest.log
2026-02-09 04:43:15.439 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 28245
2026-02-09 04:43:15.440 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-09 04:43:16.440 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28245/health" -H "Content-Type: application/json" -d 'None'
2026-02-09 04:43:16.452 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"READY"}]}'
2026-02-09 04:43:16.454 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-09 04:43:16.455 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28245/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-09 04:43:16.462 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.28.40/tcp/28246/p2p/16Uiu2HAm5er3hKhM91wNvGVK5CbFHhv9eHgnvpRSf1hNUj7r9a1S","/ip4/172.18.28.40/tcp/28247/ws/p2p/16Uiu2HAm5er3hKhM91wNvGVK5CbFHhv9eHgnvpRSf1hNUj7r9a1S"],"enrUri":"enr:-L24QKsBBZ75f7Sn9AbstmxpLV7_NhxOK8_0o9asMBzCiE6zcr-q5R-ITH3EWJiBEuo-75NtDJDiZ7pRocWPDzVE7KgCgmlkgnY0gmlwhKwSHCiKbXVsdGlhZGRyc5YACASsEhwoBm5WAAoErBIcKAZuV90DgnJzhQACAQAAiXNlY3AyNTZrMaECl_TNiqGD5XETvK2a0z7zP6u9p5H3ilmVtf8K_Jo9K82DdGNwgm5Wg3VkcIJuWIV3YWt1MgE"}'
2026-02-09 04:43:16.462 INFO [src.node.waku_node] REST service is ready !!
2026-02-09 04:43:16.463 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:28245/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.236.150/tcp/6919/p2p/16Uiu2HAkxXJfmtrJoBzioYC13bfnsxuptvcx6zfuhxaWberBhFcE"]'
2026-02-09 04:43:16.466 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-09 04:43:16.466 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:6918/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2026-02-09 04:43:16.475 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-09 04:43:16.475 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:28245/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2026-02-09 04:43:16.488 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-09 04:43:16.491 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:6918/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-09 04:43:16.499 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-09 04:43:16.500 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-09 04:43:16.602 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-09 04:43:16.603 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:6918/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2026-02-09 04:43:16.606 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770612196490608703,"ephemeral":false,"proof":""}]'
2026-02-09 04:43:16.608 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-09 04:43:16.608 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28245/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2026-02-09 04:43:16.611 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770612196490608703,"ephemeral":false,"proof":""}]'
2026-02-09 04:43:16.612 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:6918/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2026-02-09 04:43:16.618 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-09 04:43:16.618 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-09 04:43:16.718 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-09 04:43:16.719 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:6918/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2026-02-09 04:43:16.722 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/waku/2/content/test.js","version":0,"timestamp":1770612196612796445,"ephemeral":false,"proof":""}]'
2026-02-09 04:43:16.724 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-09 04:43:16.725 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28245/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2026-02-09 04:43:16.728 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/waku/2/content/test.js","version":0,"timestamp":1770612196612796445,"ephemeral":false,"proof":""}]'
2026-02-09 04:43:16.729 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:6918/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-02-09 04:43:16.734 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-09 04:43:16.734 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-09 04:43:16.834 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-09 04:43:16.835 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:6918/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-02-09 04:43:16.838 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/22/sometopic/someencoding","version":0,"timestamp":1770612196729828520,"ephemeral":false,"proof":""}]'
2026-02-09 04:43:16.839 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-09 04:43:16.840 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28245/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-02-09 04:43:16.842 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/22/sometopic/someencoding","version":0,"timestamp":1770612196729828520,"ephemeral":false,"proof":""}]'
2026-02-09 04:43:16.844 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:6918/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2026-02-09 04:43:16.849 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-09 04:43:16.849 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-09 04:43:16.950 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-09 04:43:16.950 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:6918/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2026-02-09 04:43:16.953 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1770612196844392897,"ephemeral":false,"proof":""}]'
2026-02-09 04:43:16.955 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-09 04:43:16.955 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28245/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2026-02-09 04:43:16.958 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1770612196844392897,"ephemeral":false,"proof":""}]'
2026-02-09 04:43:16.959 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:6918/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2026-02-09 04:43:16.963 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-09 04:43:16.963 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-09 04:43:17.064 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-09 04:43:17.064 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:6918/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2026-02-09 04:43:17.067 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1770612196959455007,"ephemeral":false,"proof":""}]'
2026-02-09 04:43:17.068 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-09 04:43:17.069 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28245/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2026-02-09 04:43:17.071 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1770612196959455007,"ephemeral":false,"proof":""}]'
2026-02-09 04:43:17.073 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:6918/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-02-09 04:43:17.077 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-09 04:43:17.078 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-09 04:43:17.178 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-09 04:43:17.179 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:6918/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-02-09 04:43:17.182 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1770612197073173352,"ephemeral":false,"proof":""}]'
2026-02-09 04:43:17.184 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-09 04:43:17.184 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28245/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-02-09 04:43:17.187 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1770612197073173352,"ephemeral":false,"proof":""}]'
2026-02-09 04:43:17.188 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:6918/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-02-09 04:43:17.193 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-09 04:43:17.193 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-09 04:43:17.294 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-09 04:43:17.294 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:6918/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-02-09 04:43:17.297 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1770612197188766502,"ephemeral":false,"proof":""}]'
2026-02-09 04:43:17.299 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-09 04:43:17.299 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28245/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-02-09 04:43:17.301 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1770612197188766502,"ephemeral":false,"proof":""}]'
2026-02-09 04:43:17.303 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:6918/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-02-09 04:43:17.308 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-09 04:43:17.309 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-09 04:43:17.409 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-09 04:43:17.410 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:6918/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-02-09 04:43:17.413 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1770612197303531244,"ephemeral":false,"proof":""}]'
2026-02-09 04:43:17.415 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-09 04:43:17.415 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28245/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-02-09 04:43:17.419 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1770612197303531244,"ephemeral":false,"proof":""}]'
2026-02-09 04:43:17.420 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:6918/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding"]'
2026-02-09 04:43:17.427 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-09 04:43:17.431 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:28245/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding"]'
2026-02-09 04:43:17.437 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-09 04:43:17.438 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:6918/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-09 04:43:17.441 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-09 04:43:17.441 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-09 04:43:17.541 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-09 04:43:17.542 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:6918/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2026-02-09 04:43:17.545 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:6918/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto. Response content: b'/myapp/1/latest/proto'
2026-02-09 04:43:17.547 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:6918/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2026-02-09 04:43:17.550 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-09 04:43:17.550 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-09 04:43:17.650 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-09 04:43:17.651 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:6918/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2026-02-09 04:43:17.654 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:6918/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js. Response content: b'/waku/2/content/test.js'
2026-02-09 04:43:17.655 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:6918/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-02-09 04:43:17.658 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-09 04:43:17.658 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-09 04:43:17.759 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-09 04:43:17.759 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:6918/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-02-09 04:43:17.762 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:6918/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding. Response content: b'/app/22/sometopic/someencoding'
2026-02-09 04:43:17.764 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:6918/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2026-02-09 04:43:17.769 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-09 04:43:17.770 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-09 04:43:17.870 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-09 04:43:17.871 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:6918/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2026-02-09 04:43:17.873 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1770612197764233868,"ephemeral":false,"proof":""}]'
2026-02-09 04:43:17.875 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-09 04:43:17.875 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28245/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2026-02-09 04:43:17.878 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1770612197764233868,"ephemeral":false,"proof":""}]'
2026-02-09 04:43:17.879 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:6918/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2026-02-09 04:43:17.884 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-09 04:43:17.885 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-09 04:43:17.985 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-09 04:43:17.986 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:6918/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2026-02-09 04:43:17.989 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1770612197879729798,"ephemeral":false,"proof":""}]'
2026-02-09 04:43:17.991 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-09 04:43:17.991 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28245/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2026-02-09 04:43:17.994 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1770612197879729798,"ephemeral":false,"proof":""}]'
2026-02-09 04:43:17.995 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:6918/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-02-09 04:43:18.000 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-09 04:43:18.000 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-09 04:43:18.101 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-09 04:43:18.101 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:6918/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-02-09 04:43:18.104 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1770612197995611450,"ephemeral":false,"proof":""}]'
2026-02-09 04:43:18.106 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-09 04:43:18.106 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28245/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-02-09 04:43:18.136 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1770612197995611450,"ephemeral":false,"proof":""}]'
2026-02-09 04:43:18.138 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:6918/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-02-09 04:43:18.143 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-09 04:43:18.144 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-09 04:43:18.244 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-09 04:43:18.245 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:6918/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-02-09 04:43:18.248 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1770612198138666269,"ephemeral":false,"proof":""}]'
2026-02-09 04:43:18.249 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-09 04:43:18.250 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28245/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-02-09 04:43:18.252 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1770612198138666269,"ephemeral":false,"proof":""}]'
2026-02-09 04:43:18.254 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:6918/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-02-09 04:43:18.258 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-09 04:43:18.258 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-09 04:43:18.359 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-09 04:43:18.359 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:6918/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-02-09 04:43:18.362 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1770612198254140769,"ephemeral":false,"proof":""}]'
2026-02-09 04:43:18.363 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-09 04:43:18.364 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28245/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-02-09 04:43:18.366 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1770612198254140769,"ephemeral":false,"proof":""}]'
2026-02-09 04:43:18.369 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-02-09 04:43:18.370 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-02-09 04:43:18.370 DEBUG [src.node.waku_node] Stopping container with id 7c1088e1d1f8
2026-02-09 04:43:18.933 DEBUG [src.node.waku_node] Container stopped.
2026-02-09 04:43:18.934 DEBUG [src.node.waku_node] Stopping container with id b6c4c9d7aaf3
2026-02-09 04:43:19.522 DEBUG [src.node.waku_node] Container stopped.
2026-02-09 04:43:19.523 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-02-09 04:43:19.537 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-09 04:43:19.548 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
