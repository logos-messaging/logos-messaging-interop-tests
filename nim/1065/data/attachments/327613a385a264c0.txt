2026-02-02 04:42:58.708 DEBUG [tests.conftest] Running fixture setup: test_id
2026-02-02 04:42:58.708 DEBUG [tests.conftest] Running test: test_unsubscribe_from_all_content_topics_one_by_one with id: 2026-02-02_04-42-58__beb5b020-306d-482c-afaa-bb11f96bdf45
2026-02-02 04:42:58.708 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-02-02 04:42:58.709 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2026-02-02 04:42:58.709 DEBUG [src.steps.sharding] Running fixture setup: sharding_setup
2026-02-02 04:42:58.716 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-02 04:42:58.716 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2026-02-02_04-42-58__beb5b020-306d-482c-afaa-bb11f96bdf45__wakuorg_nwaku:latest.log
2026-02-02 04:42:58.716 DEBUG [src.node.waku_node] Starting Node...
2026-02-02 04:42:58.716 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-02 04:42:58.718 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-02 04:42:58.718 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.171.31
2026-02-02 04:42:58.718 DEBUG [src.node.docker_mananger] Generated ports ['25614', '25615', '25616', '25617', '25618']
2026-02-02 04:42:58.718 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-02 04:42:58.718 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-02 04:42:58.719 DEBUG [src.node.waku_node] Using volumes []
2026-02-02 04:42:58.719 DEBUG [src.node.docker_mananger] docker run -i -t -p 25614:25614 -p 25615:25615 -p 25616:25616 -p 25617:25617 -p 25618:25618 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=25616 --rest-port=25614 --tcp-port=25615 --discv5-udp-port=25617 --rest-address=0.0.0.0 --nat=extip:172.18.171.31 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=b6bffc9f9d6dd1b1cdf85462f8e00e021f13c6c362dae4d56f778aac8aea0b35 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=25618 --metrics-logging=true --relay=true --filter=true --content-topic=/myapp/1/latest/proto --num-shards-in-network=8
2026-02-02 04:42:58.902 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.171.31 waku 9630c75e5682c94f32ea887eb19e3b2889123649da42ef8536f03e5f6e4537c0
2026-02-02 04:42:58.933 DEBUG [src.node.docker_mananger] Container started with ID 9630c75e5682. Setting up logs at ./log/docker/node1_2026-02-02_04-42-58__beb5b020-306d-482c-afaa-bb11f96bdf45__wakuorg_nwaku:latest.log
2026-02-02 04:42:58.934 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 25614
2026-02-02 04:42:58.934 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-02 04:42:58.984 ERROR [src.node.docker_mananger] Max retries reached for container 3a40f3fc8707. Exiting log stream.
2026-02-02 04:42:59.504 ERROR [src.node.docker_mananger] Max retries reached for container c5ce92a95a2c. Exiting log stream.
2026-02-02 04:42:59.935 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25614/health" -H "Content-Type: application/json" -d 'None'
2026-02-02 04:42:59.938 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_READY","desc":"Relay is not ready, filter will not be able to sort out messages"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-02 04:42:59.938 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-02 04:42:59.938 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25614/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-02 04:42:59.940 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.171.31/tcp/25615/p2p/16Uiu2HAm2rfrF5kakYzCka7uRHVgUYboqs64gK58NT3H8c3pnH9S","/ip4/172.18.171.31/tcp/25616/ws/p2p/16Uiu2HAm2rfrF5kakYzCka7uRHVgUYboqs64gK58NT3H8c3pnH9S"],"enrUri":"enr:-L24QKohnFVoLELX8xRLlk7fdCAuEzM1d_9MixPEtYp8wLQdF6UBn8V43z1F6DGLC3WxBKZQisydw6VfsWypjPt6aj0CgmlkgnY0gmlwhKwSqx-KbXVsdGlhZGRyc5YACASsEqsfBmQPAAoErBKrHwZkEN0DgnJzhQACAQAAiXNlY3AyNTZrMaECbmkueIitsVKr96QgkRKKUG_b375GAtxhzvuyLdT3xqGDdGNwgmQPg3VkcIJkEYV3YWt1MgU"}'
2026-02-02 04:42:59.940 INFO [src.node.waku_node] REST service is ready !!
2026-02-02 04:42:59.947 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-02 04:42:59.948 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2026-02-02_04-42-58__beb5b020-306d-482c-afaa-bb11f96bdf45__wakuorg_nwaku:latest.log
2026-02-02 04:42:59.948 DEBUG [src.node.waku_node] Starting Node...
2026-02-02 04:42:59.948 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-02 04:42:59.949 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-02 04:42:59.949 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.60.6
2026-02-02 04:42:59.949 DEBUG [src.node.docker_mananger] Generated ports ['32927', '32928', '32929', '32930', '32931']
2026-02-02 04:42:59.950 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-02 04:42:59.950 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-02 04:42:59.950 DEBUG [src.node.waku_node] Using volumes []
2026-02-02 04:42:59.950 DEBUG [src.node.docker_mananger] docker run -i -t -p 32927:32927 -p 32928:32928 -p 32929:32929 -p 32930:32930 -p 32931:32931 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=32929 --rest-port=32927 --tcp-port=32928 --discv5-udp-port=32930 --rest-address=0.0.0.0 --nat=extip:172.18.60.6 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=acf064fde9b93eb9e0059470d8f6b9dfea7e41b7f52cf6a76f65cd4bbfede07a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=32931 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QKohnFVoLELX8xRLlk7fdCAuEzM1d_9MixPEtYp8wLQdF6UBn8V43z1F6DGLC3WxBKZQisydw6VfsWypjPt6aj0CgmlkgnY0gmlwhKwSqx-KbXVsdGlhZGRyc5YACASsEqsfBmQPAAoErBKrHwZkEN0DgnJzhQACAQAAiXNlY3AyNTZrMaECbmkueIitsVKr96QgkRKKUG_b375GAtxhzvuyLdT3xqGDdGNwgmQPg3VkcIJkEYV3YWt1MgU --content-topic=/myapp/1/latest/proto --num-shards-in-network=8
2026-02-02 04:43:00.154 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.60.6 waku 91d0e0f0fe6a3f97aedb5ff6b4ed67924f8782d9ea9bf39798ff3cdc37a12889
2026-02-02 04:43:00.188 DEBUG [src.node.docker_mananger] Container started with ID 91d0e0f0fe6a. Setting up logs at ./log/docker/node2_2026-02-02_04-42-58__beb5b020-306d-482c-afaa-bb11f96bdf45__wakuorg_nwaku:latest.log
2026-02-02 04:43:00.188 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 32927
2026-02-02 04:43:00.188 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-02 04:43:01.189 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32927/health" -H "Content-Type: application/json" -d 'None'
2026-02-02 04:43:01.198 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"READY"}]}'
2026-02-02 04:43:01.199 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-02 04:43:01.199 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32927/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-02 04:43:01.204 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.60.6/tcp/32928/p2p/16Uiu2HAkw7E9BPVjgNKGMbJzyzhF1hgcKePSrv229hwp9AeBQwAV","/ip4/172.18.60.6/tcp/32929/ws/p2p/16Uiu2HAkw7E9BPVjgNKGMbJzyzhF1hgcKePSrv229hwp9AeBQwAV"],"enrUri":"enr:-L24QHxRxuwW68SdQpArnbiVUlQJXojP9lL8e3Zp-6-6-ow3dxbysa-bIEyraksNdQMyFCjWzxMHgJYm1HQCGR1l-xICgmlkgnY0gmlwhKwSPAaKbXVsdGlhZGRyc5YACASsEjwGBoCgAAoErBI8BgaAod0DgnJzhQACAQAAiXNlY3AyNTZrMaECGP20ODHx_6BXXJWNJlWxPUTPe3NqZ9oWZialN_S1C1aDdGNwgoCgg3VkcIKAooV3YWt1MgE"}'
2026-02-02 04:43:01.204 INFO [src.node.waku_node] REST service is ready !!
2026-02-02 04:43:01.205 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:32927/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.171.31/tcp/25615/p2p/16Uiu2HAm2rfrF5kakYzCka7uRHVgUYboqs64gK58NT3H8c3pnH9S"]'
2026-02-02 04:43:01.208 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-02 04:43:01.209 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:25614/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2026-02-02 04:43:01.218 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-02 04:43:01.218 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:32927/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2026-02-02 04:43:01.229 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-02 04:43:01.232 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:25614/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-02 04:43:01.240 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-02 04:43:01.241 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-02 04:43:01.342 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-02 04:43:01.342 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25614/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2026-02-02 04:43:01.345 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770007381232089192,"ephemeral":false,"proof":""}]'
2026-02-02 04:43:01.347 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-02 04:43:01.347 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32927/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2026-02-02 04:43:01.349 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770007381232089192,"ephemeral":false,"proof":""}]'
2026-02-02 04:43:01.351 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:25614/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2026-02-02 04:43:01.355 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-02 04:43:01.356 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-02 04:43:01.456 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-02 04:43:01.457 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25614/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2026-02-02 04:43:01.459 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/waku/2/content/test.js","version":0,"timestamp":1770007381351378276,"ephemeral":false,"proof":""}]'
2026-02-02 04:43:01.461 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-02 04:43:01.461 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32927/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2026-02-02 04:43:01.463 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/waku/2/content/test.js","version":0,"timestamp":1770007381351378276,"ephemeral":false,"proof":""}]'
2026-02-02 04:43:01.465 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:25614/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-02-02 04:43:01.470 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-02 04:43:01.470 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-02 04:43:01.570 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-02 04:43:01.571 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25614/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-02-02 04:43:01.573 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/22/sometopic/someencoding","version":0,"timestamp":1770007381465555325,"ephemeral":false,"proof":""}]'
2026-02-02 04:43:01.575 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-02 04:43:01.575 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32927/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-02-02 04:43:01.577 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/22/sometopic/someencoding","version":0,"timestamp":1770007381465555325,"ephemeral":false,"proof":""}]'
2026-02-02 04:43:01.579 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:25614/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2026-02-02 04:43:01.583 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-02 04:43:01.584 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-02 04:43:01.684 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-02 04:43:01.685 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25614/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2026-02-02 04:43:01.687 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1770007381579419733,"ephemeral":false,"proof":""}]'
2026-02-02 04:43:01.689 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-02 04:43:01.689 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32927/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2026-02-02 04:43:01.691 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1770007381579419733,"ephemeral":false,"proof":""}]'
2026-02-02 04:43:01.693 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:25614/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2026-02-02 04:43:01.698 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-02 04:43:01.698 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-02 04:43:01.799 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-02 04:43:01.799 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25614/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2026-02-02 04:43:01.802 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1770007381693395281,"ephemeral":false,"proof":""}]'
2026-02-02 04:43:01.804 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-02 04:43:01.805 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32927/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2026-02-02 04:43:01.807 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1770007381693395281,"ephemeral":false,"proof":""}]'
2026-02-02 04:43:01.809 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:25614/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-02-02 04:43:01.812 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-02 04:43:01.813 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-02 04:43:01.914 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-02 04:43:01.914 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25614/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-02-02 04:43:01.917 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1770007381808840805,"ephemeral":false,"proof":""}]'
2026-02-02 04:43:01.918 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-02 04:43:01.918 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32927/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-02-02 04:43:01.920 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1770007381808840805,"ephemeral":false,"proof":""}]'
2026-02-02 04:43:01.922 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:25614/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-02-02 04:43:01.926 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-02 04:43:01.927 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-02 04:43:02.027 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-02 04:43:02.028 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25614/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-02-02 04:43:02.030 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1770007381922432771,"ephemeral":false,"proof":""}]'
2026-02-02 04:43:02.032 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-02 04:43:02.032 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32927/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-02-02 04:43:02.034 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1770007381922432771,"ephemeral":false,"proof":""}]'
2026-02-02 04:43:02.036 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:25614/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-02-02 04:43:02.041 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-02 04:43:02.041 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-02 04:43:02.141 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-02 04:43:02.142 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25614/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-02-02 04:43:02.144 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1770007382036230823,"ephemeral":false,"proof":""}]'
2026-02-02 04:43:02.146 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2026-02-02 04:43:02.146 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32927/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-02-02 04:43:02.148 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1770007382036230823,"ephemeral":false,"proof":""}]'
2026-02-02 04:43:02.150 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:25614/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto"]'
2026-02-02 04:43:02.154 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-02 04:43:02.155 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:32927/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto"]'
2026-02-02 04:43:02.159 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-02 04:43:02.159 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:25614/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/content/test.js"]'
2026-02-02 04:43:02.164 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-02 04:43:02.164 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:32927/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/content/test.js"]'
2026-02-02 04:43:02.169 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-02 04:43:02.170 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:25614/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/app/22/sometopic/someencoding"]'
2026-02-02 04:43:02.174 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-02 04:43:02.174 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:32927/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/app/22/sometopic/someencoding"]'
2026-02-02 04:43:02.179 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-02 04:43:02.179 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:25614/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/toychat/2/huilong/proto"]'
2026-02-02 04:43:02.182 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-02 04:43:02.183 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:32927/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/toychat/2/huilong/proto"]'
2026-02-02 04:43:02.187 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-02 04:43:02.188 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:25614/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/statusim/1/community/cbor"]'
2026-02-02 04:43:02.192 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-02 04:43:02.193 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:32927/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/statusim/1/community/cbor"]'
2026-02-02 04:43:02.197 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-02 04:43:02.197 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:25614/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/app/27/sometopic/someencoding"]'
2026-02-02 04:43:02.202 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-02 04:43:02.202 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:32927/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/app/27/sometopic/someencoding"]'
2026-02-02 04:43:02.206 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-02 04:43:02.207 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:25614/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/app/29/sometopic/someencoding"]'
2026-02-02 04:43:02.211 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-02 04:43:02.211 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:32927/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/app/29/sometopic/someencoding"]'
2026-02-02 04:43:02.218 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-02 04:43:02.218 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:25614/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/app/20/sometopic/someencoding"]'
2026-02-02 04:43:02.223 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-02 04:43:02.223 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:32927/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/app/20/sometopic/someencoding"]'
2026-02-02 04:43:02.227 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-02 04:43:02.228 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:25614/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-02 04:43:02.231 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-02 04:43:02.231 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-02 04:43:02.331 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-02 04:43:02.332 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25614/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2026-02-02 04:43:02.334 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:25614/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto. Response content: b'/myapp/1/latest/proto'
2026-02-02 04:43:02.336 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:25614/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2026-02-02 04:43:02.339 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-02 04:43:02.339 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-02 04:43:02.439 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-02 04:43:02.440 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25614/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2026-02-02 04:43:02.443 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:25614/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js. Response content: b'/waku/2/content/test.js'
2026-02-02 04:43:02.444 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:25614/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-02-02 04:43:02.447 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-02 04:43:02.447 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-02 04:43:02.547 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-02 04:43:02.548 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25614/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-02-02 04:43:02.551 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:25614/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding. Response content: b'/app/22/sometopic/someencoding'
2026-02-02 04:43:02.552 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:25614/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2026-02-02 04:43:02.554 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-02 04:43:02.555 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-02 04:43:02.655 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-02 04:43:02.655 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25614/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2026-02-02 04:43:02.658 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:25614/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto. Response content: b'/toychat/2/huilong/proto'
2026-02-02 04:43:02.660 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:25614/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2026-02-02 04:43:02.662 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-02 04:43:02.663 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-02 04:43:02.763 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-02 04:43:02.763 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25614/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2026-02-02 04:43:02.766 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:25614/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor. Response content: b'/statusim/1/community/cbor'
2026-02-02 04:43:02.768 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:25614/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-02-02 04:43:02.771 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-02 04:43:02.771 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-02 04:43:02.871 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-02 04:43:02.872 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25614/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-02-02 04:43:02.875 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:25614/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding. Response content: b'/app/27/sometopic/someencoding'
2026-02-02 04:43:02.876 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:25614/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-02-02 04:43:02.879 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-02 04:43:02.879 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-02 04:43:02.979 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-02 04:43:02.980 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25614/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-02-02 04:43:02.982 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:25614/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding. Response content: b'/app/29/sometopic/someencoding'
2026-02-02 04:43:02.984 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:25614/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-02-02 04:43:02.986 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-02 04:43:02.986 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-02 04:43:03.087 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2026-02-02 04:43:03.087 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25614/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2026-02-02 04:43:03.090 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:25614/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding. Response content: b'/app/20/sometopic/someencoding'
2026-02-02 04:43:03.092 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-02-02 04:43:03.093 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-02-02 04:43:03.093 DEBUG [src.node.waku_node] Stopping container with id 9630c75e5682
2026-02-02 04:43:03.644 DEBUG [src.node.waku_node] Container stopped.
2026-02-02 04:43:03.645 DEBUG [src.node.waku_node] Stopping container with id 91d0e0f0fe6a
2026-02-02 04:43:04.157 DEBUG [src.node.waku_node] Container stopped.
2026-02-02 04:43:04.158 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-02-02 04:43:04.171 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-02 04:43:04.183 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
