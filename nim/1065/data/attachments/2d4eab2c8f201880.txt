2026-02-02 04:49:55.086 DEBUG [tests.conftest] Running fixture setup: test_id
2026-02-02 04:49:55.086 DEBUG [tests.conftest] Running test: test_store_sort_ascending[false] with id: 2026-02-02_04-49-55__2fc31463-220c-48d1-a7a3-29469448f1f6
2026-02-02 04:49:55.087 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-02-02 04:49:55.088 DEBUG [src.steps.store] Running fixture setup: store_setup
2026-02-02 04:49:55.089 DEBUG [src.steps.store] Running fixture setup: node_setup
2026-02-02 04:49:55.101 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-02 04:49:55.101 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/publishing_node1_2026-02-02_04-49-55__2fc31463-220c-48d1-a7a3-29469448f1f6__wakuorg_nwaku:latest.log
2026-02-02 04:49:55.102 DEBUG [src.node.waku_node] Starting Node...
2026-02-02 04:49:55.102 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-02 04:49:55.104 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-02 04:49:55.105 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.23.141
2026-02-02 04:49:55.105 DEBUG [src.node.docker_mananger] Generated ports ['54121', '54122', '54123', '54124', '54125']
2026-02-02 04:49:55.105 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-02 04:49:55.105 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-02 04:49:55.106 DEBUG [src.node.waku_node] Using volumes []
2026-02-02 04:49:55.106 DEBUG [src.node.docker_mananger] docker run -i -t -p 54121:54121 -p 54122:54122 -p 54123:54123 -p 54124:54124 -p 54125:54125 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=54123 --rest-port=54121 --tcp-port=54122 --discv5-udp-port=54124 --rest-address=0.0.0.0 --nat=extip:172.18.23.141 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bdbdd2cc8b9a4f90ad6ebcc7406e3dd0c7cf48342afed69cd16d841fdaacf2ca --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=54125 --metrics-logging=true --store=true --relay=true
2026-02-02 04:49:55.228 ERROR [src.node.docker_mananger] Max retries reached for container d033bd871573. Exiting log stream.
2026-02-02 04:49:55.300 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.23.141 waku 142e574b976ad73132a5bd30af133aa5f4e87c03f78216154ef69e19486401e7
2026-02-02 04:49:55.333 DEBUG [src.node.docker_mananger] Container started with ID 142e574b976a. Setting up logs at ./log/docker/publishing_node1_2026-02-02_04-49-55__2fc31463-220c-48d1-a7a3-29469448f1f6__wakuorg_nwaku:latest.log
2026-02-02 04:49:55.335 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 54121
2026-02-02 04:49:55.336 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-02 04:49:55.923 ERROR [src.node.docker_mananger] Max retries reached for container 0f25a655a7fe. Exiting log stream.
2026-02-02 04:49:56.337 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:54121/health" -H "Content-Type: application/json" -d 'None'
2026-02-02 04:49:56.340 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"READY"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"READY"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-02 04:49:56.340 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-02 04:49:56.340 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:54121/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-02 04:49:56.342 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.23.141/tcp/54122/p2p/16Uiu2HAmK4U9NNb6UTomdnaMJto4aTHu7rzBUEAEmSNA73kKCWnK","/ip4/172.18.23.141/tcp/54123/ws/p2p/16Uiu2HAmK4U9NNb6UTomdnaMJto4aTHu7rzBUEAEmSNA73kKCWnK"],"enrUri":"enr:-L24QHOPfXehAVCeXyeeGuFBRanafzI7m8FU4Yyq2sm5DzMwYSA4JeBvD10Yp-iFm5CsARIl6te_iqhhsLmzZWDQeYkCgmlkgnY0gmlwhKwSF42KbXVsdGlhZGRyc5YACASsEheNBtNqAAoErBIXjQbTa90DgnJzhQADAQAAiXNlY3AyNTZrMaEDXynoUHIxsUgYN3i8lYvrj2dd4HxqiYWFsXa-5BxffpCDdGNwgtNqg3VkcILTbIV3YWt1MgM"}'
2026-02-02 04:49:56.343 INFO [src.node.waku_node] REST service is ready !!
2026-02-02 04:49:56.350 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-02 04:49:56.350 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/store_node1_2026-02-02_04-49-55__2fc31463-220c-48d1-a7a3-29469448f1f6__wakuorg_nwaku:latest.log
2026-02-02 04:49:56.350 DEBUG [src.node.waku_node] Starting Node...
2026-02-02 04:49:56.350 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-02 04:49:56.352 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-02 04:49:56.352 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.46.74
2026-02-02 04:49:56.352 DEBUG [src.node.docker_mananger] Generated ports ['51340', '51341', '51342', '51343', '51344']
2026-02-02 04:49:56.352 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-02 04:49:56.352 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-02 04:49:56.352 DEBUG [src.node.waku_node] Using volumes []
2026-02-02 04:49:56.352 DEBUG [src.node.docker_mananger] docker run -i -t -p 51340:51340 -p 51341:51341 -p 51342:51342 -p 51343:51343 -p 51344:51344 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=51342 --rest-port=51340 --tcp-port=51341 --discv5-udp-port=51343 --rest-address=0.0.0.0 --nat=extip:172.18.46.74 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d724bced5ced8fbaad2ed090b975bd5e97d10274907eeda8c93bbc0f46ad2cac --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=51344 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QHOPfXehAVCeXyeeGuFBRanafzI7m8FU4Yyq2sm5DzMwYSA4JeBvD10Yp-iFm5CsARIl6te_iqhhsLmzZWDQeYkCgmlkgnY0gmlwhKwSF42KbXVsdGlhZGRyc5YACASsEheNBtNqAAoErBIXjQbTa90DgnJzhQADAQAAiXNlY3AyNTZrMaEDXynoUHIxsUgYN3i8lYvrj2dd4HxqiYWFsXa-5BxffpCDdGNwgtNqg3VkcILTbIV3YWt1MgM --storenode=/ip4/172.18.23.141/tcp/54122/p2p/16Uiu2HAmK4U9NNb6UTomdnaMJto4aTHu7rzBUEAEmSNA73kKCWnK --store=true --relay=true
2026-02-02 04:49:56.546 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.46.74 waku 659df09baa6dfce020ca2e72496b8560266ccf4e01ba4a4d491a65aa8b7d2879
2026-02-02 04:49:56.580 DEBUG [src.node.docker_mananger] Container started with ID 659df09baa6d. Setting up logs at ./log/docker/store_node1_2026-02-02_04-49-55__2fc31463-220c-48d1-a7a3-29469448f1f6__wakuorg_nwaku:latest.log
2026-02-02 04:49:56.580 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 51340
2026-02-02 04:49:56.580 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-02 04:49:57.582 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:51340/health" -H "Content-Type: application/json" -d 'None'
2026-02-02 04:49:57.586 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"READY"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"READY"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"READY"},{"Legacy Store Client":"READY"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-02 04:49:57.586 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-02 04:49:57.586 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:51340/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-02 04:49:57.589 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.46.74/tcp/51341/p2p/16Uiu2HAkyFkFsVKr4iyMLNYUJ7gQz3Gm65dbdf3BzC2JsD6dbFJA","/ip4/172.18.46.74/tcp/51342/ws/p2p/16Uiu2HAkyFkFsVKr4iyMLNYUJ7gQz3Gm65dbdf3BzC2JsD6dbFJA"],"enrUri":"enr:-L24QK1JQXDf0YJyTIGAamG657dmTlsQ4fwlCZ_esXXxL1HiFMvX23t7Qh235Yp0eVqjOHvfv6OftEkBYmNfYtp5qcUCgmlkgnY0gmlwhKwSLkqKbXVsdGlhZGRyc5YACASsEi5KBsiNAAoErBIuSgbIjt0DgnJzhQADAQAAiXNlY3AyNTZrMaECOOPGnwJg0G2utISQdadpwav1EQAtZZGE6atvSQwN7ouDdGNwgsiNg3VkcILIj4V3YWt1MgM"}'
2026-02-02 04:49:57.589 INFO [src.node.waku_node] REST service is ready !!
2026-02-02 04:49:57.590 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:51340/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.23.141/tcp/54122/p2p/16Uiu2HAmK4U9NNb6UTomdnaMJto4aTHu7rzBUEAEmSNA73kKCWnK"]'
2026-02-02 04:49:57.592 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-02 04:49:57.593 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:54121/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-02 04:49:57.595 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-02 04:49:57.595 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:51340/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-02 04:49:57.598 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-02 04:49:57.599 DEBUG [src.steps.store] Relaying message
2026-02-02 04:49:57.599 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:54121/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8w", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-02 04:49:57.611 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-02 04:49:57.612 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-02 04:49:57.813 DEBUG [src.steps.store] Relaying message
2026-02-02 04:49:57.813 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:54121/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8x", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-02 04:49:57.819 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-02 04:49:57.819 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-02 04:49:58.021 DEBUG [src.steps.store] Relaying message
2026-02-02 04:49:58.021 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:54121/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8y", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-02 04:49:58.026 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-02 04:49:58.028 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-02 04:49:58.229 DEBUG [src.steps.store] Relaying message
2026-02-02 04:49:58.229 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:54121/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8z", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-02 04:49:58.235 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-02 04:49:58.236 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-02 04:49:58.436 DEBUG [src.steps.store] Relaying message
2026-02-02 04:49:58.437 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:54121/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV80", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-02 04:49:58.443 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-02 04:49:58.443 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-02 04:49:58.644 DEBUG [src.steps.store] Relaying message
2026-02-02 04:49:58.644 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:54121/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV81", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-02 04:49:58.650 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-02 04:49:58.650 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-02 04:49:58.851 DEBUG [src.steps.store] Relaying message
2026-02-02 04:49:58.851 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:54121/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV82", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-02 04:49:58.857 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-02 04:49:58.858 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-02 04:49:59.059 DEBUG [src.steps.store] Relaying message
2026-02-02 04:49:59.059 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:54121/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV83", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-02 04:49:59.064 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-02 04:49:59.065 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-02 04:49:59.266 DEBUG [src.steps.store] Relaying message
2026-02-02 04:49:59.266 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:54121/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV84", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-02 04:49:59.272 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-02 04:49:59.272 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-02 04:49:59.474 DEBUG [src.steps.store] Relaying message
2026-02-02 04:49:59.474 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:54121/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV85", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-02 04:49:59.483 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-02 04:49:59.483 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-02 04:49:59.684 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:54121/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=5&ascending=false" -H "Content-Type: application/json" -d 'None'
2026-02-02 04:49:59.688 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x432dda4234f203a59cc8aa41525e91e2dae0c07809c1cb81dba79629c9543d4f"},{"messageHash":"0x621e83cb1614f39e6dac690d77c75ae963d6ff4008bd07bef1d4fc629e5f5903"},{"messageHash":"0x8720ca8a3a1b82559d91a02f10019dd3a049c293f878ae7651bf6b9b3566cc49"},{"messageHash":"0x60bd14efedbf75e1d86d98e631befacc1e250d09c161d2bef2b71f61bad78cba"},{"messageHash":"0x844086565924fe1e5a4d33adc972e672fa1bf943cd96cdedcb170ae196492c41"}],"paginationCursor":"0x432dda4234f203a59cc8aa41525e91e2dae0c07809c1cb81dba79629c9543d4f"}'
2026-02-02 04:49:59.688 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:51340/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=5&ascending=false" -H "Content-Type: application/json" -d 'None'
2026-02-02 04:49:59.691 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x432dda4234f203a59cc8aa41525e91e2dae0c07809c1cb81dba79629c9543d4f"},{"messageHash":"0x621e83cb1614f39e6dac690d77c75ae963d6ff4008bd07bef1d4fc629e5f5903"},{"messageHash":"0x8720ca8a3a1b82559d91a02f10019dd3a049c293f878ae7651bf6b9b3566cc49"},{"messageHash":"0x60bd14efedbf75e1d86d98e631befacc1e250d09c161d2bef2b71f61bad78cba"},{"messageHash":"0x844086565924fe1e5a4d33adc972e672fa1bf943cd96cdedcb170ae196492c41"}],"paginationCursor":"0x432dda4234f203a59cc8aa41525e91e2dae0c07809c1cb81dba79629c9543d4f"}'
2026-02-02 04:49:59.693 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-02-02 04:49:59.694 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-02-02 04:49:59.694 DEBUG [src.node.waku_node] Stopping container with id 142e574b976a
2026-02-02 04:50:00.279 DEBUG [src.node.waku_node] Container stopped.
2026-02-02 04:50:00.281 DEBUG [src.node.waku_node] Stopping container with id 659df09baa6d
2026-02-02 04:50:00.839 DEBUG [src.node.waku_node] Container stopped.
2026-02-02 04:50:00.842 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-02-02 04:50:00.849 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-02 04:50:00.856 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
