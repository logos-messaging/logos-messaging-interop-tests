2026-02-02 04:47:01.130 DEBUG [tests.conftest] Running fixture setup: test_id
2026-02-02 04:47:01.130 DEBUG [tests.conftest] Running test: test_light_push_with_valid_timestamps with id: 2026-02-02_04-47-01__3d68712c-fc42-4f4f-947d-b53304ea56a7
2026-02-02 04:47:01.131 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-02-02 04:47:01.131 DEBUG [src.steps.light_push] Running fixture setup: light_push_setup
2026-02-02 04:47:01.138 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-02 04:47:01.138 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node1_2026-02-02_04-47-01__3d68712c-fc42-4f4f-947d-b53304ea56a7__wakuorg_nwaku:latest.log
2026-02-02 04:47:01.138 DEBUG [src.node.waku_node] Starting Node...
2026-02-02 04:47:01.138 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-02 04:47:01.140 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-02 04:47:01.140 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.83.213
2026-02-02 04:47:01.140 DEBUG [src.node.docker_mananger] Generated ports ['16011', '16012', '16013', '16014', '16015']
2026-02-02 04:47:01.140 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-02 04:47:01.140 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-02 04:47:01.140 DEBUG [src.node.waku_node] Using volumes []
2026-02-02 04:47:01.141 DEBUG [src.node.docker_mananger] docker run -i -t -p 16011:16011 -p 16012:16012 -p 16013:16013 -p 16014:16014 -p 16015:16015 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=16013 --rest-port=16011 --tcp-port=16012 --discv5-udp-port=16014 --rest-address=0.0.0.0 --nat=extip:172.18.83.213 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f5bec676ba78073f942ab9df1bb6d977d97f625b2c4cfe9bcb5de0137d106f38 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=16015 --metrics-logging=true --lightpush=true --relay=true
2026-02-02 04:47:01.322 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.83.213 waku ec65df79dffd5d39bc8ec460f5a4bf143619a43fe08cb588319902d05a21d543
2026-02-02 04:47:01.352 DEBUG [src.node.docker_mananger] Container started with ID ec65df79dffd. Setting up logs at ./log/docker/receiving_node1_2026-02-02_04-47-01__3d68712c-fc42-4f4f-947d-b53304ea56a7__wakuorg_nwaku:latest.log
2026-02-02 04:47:01.353 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 16011
2026-02-02 04:47:01.353 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-02 04:47:01.371 ERROR [src.node.docker_mananger] Max retries reached for container f0a32769c31d. Exiting log stream.
2026-02-02 04:47:01.923 ERROR [src.node.docker_mananger] Max retries reached for container 4c4b4ed8146f. Exiting log stream.
2026-02-02 04:47:02.354 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:16011/health" -H "Content-Type: application/json" -d 'None'
2026-02-02 04:47:02.357 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_READY","desc":"Node has no relay peers to fullfill push requests"},{"Legacy Lightpush":"NOT_READY","desc":"Node has no relay peers to fullfill push requests"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-02 04:47:02.357 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-02 04:47:02.357 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:16011/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-02 04:47:02.359 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.83.213/tcp/16012/p2p/16Uiu2HAkw4LSmXPHXB6DohadUwgj4c9FFQ878wDm8NPCdrdvzK7h","/ip4/172.18.83.213/tcp/16013/ws/p2p/16Uiu2HAkw4LSmXPHXB6DohadUwgj4c9FFQ878wDm8NPCdrdvzK7h"],"enrUri":"enr:-L24QLiBi8oQkZztAnmsKDflTwgFkK9xJWDcepiEEoRie9zUUo0FUlpIA1i3Vz7cU0KyLDLkhwr5Yxj7EG-V513Qb60CgmlkgnY0gmlwhKwSU9WKbXVsdGlhZGRyc5YACASsElPVBj6MAAoErBJT1QY-jd0DgnJzhQADAQAAiXNlY3AyNTZrMaECGEAWsqrxiJhYdnstpm-hYcZIgmd7gUJP1R2IWs-SfwSDdGNwgj6Mg3VkcII-joV3YWt1Mgk"}'
2026-02-02 04:47:02.360 INFO [src.node.waku_node] REST service is ready !!
2026-02-02 04:47:02.366 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-02 04:47:02.366 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node2_2026-02-02_04-47-01__3d68712c-fc42-4f4f-947d-b53304ea56a7__wakuorg_nwaku:latest.log
2026-02-02 04:47:02.367 DEBUG [src.node.waku_node] Starting Node...
2026-02-02 04:47:02.367 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-02 04:47:02.368 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-02 04:47:02.368 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.14.154
2026-02-02 04:47:02.368 DEBUG [src.node.docker_mananger] Generated ports ['36115', '36116', '36117', '36118', '36119']
2026-02-02 04:47:02.369 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-02 04:47:02.369 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-02 04:47:02.369 DEBUG [src.node.waku_node] Using volumes []
2026-02-02 04:47:02.369 DEBUG [src.node.docker_mananger] docker run -i -t -p 36115:36115 -p 36116:36116 -p 36117:36117 -p 36118:36118 -p 36119:36119 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=36117 --rest-port=36115 --tcp-port=36116 --discv5-udp-port=36118 --rest-address=0.0.0.0 --nat=extip:172.18.14.154 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d92a75c413dac6e1c7231eebed4c0c2e84b846a1e9292699ca4903a2397dd49f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=36119 --metrics-logging=true --lightpush=false --relay=true
2026-02-02 04:47:02.554 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.14.154 waku 0dcf21d634b7f14f76a0603b831dd95839865d5b90e13021ff1c6217b21bc198
2026-02-02 04:47:02.582 DEBUG [src.node.docker_mananger] Container started with ID 0dcf21d634b7. Setting up logs at ./log/docker/receiving_node2_2026-02-02_04-47-01__3d68712c-fc42-4f4f-947d-b53304ea56a7__wakuorg_nwaku:latest.log
2026-02-02 04:47:02.583 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 36115
2026-02-02 04:47:02.583 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-02 04:47:03.583 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:36115/health" -H "Content-Type: application/json" -d 'None'
2026-02-02 04:47:03.587 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-02 04:47:03.587 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-02 04:47:03.587 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:36115/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-02 04:47:03.589 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.14.154/tcp/36116/p2p/16Uiu2HAmRUsQT9hdktUE3kGEhuxYBhhzRPpxi9NYrJU9vBhpFbwD","/ip4/172.18.14.154/tcp/36117/ws/p2p/16Uiu2HAmRUsQT9hdktUE3kGEhuxYBhhzRPpxi9NYrJU9vBhpFbwD"],"enrUri":"enr:-L24QAfEiWqjaSfk6hb4YE2DxoFyYN-X9cmOTD8c_Up8R8QfbfaMPtW5LK9IbkKQb60YcjJ3EMNjB6Hp7Gw8qBCy68wCgmlkgnY0gmlwhKwSDpqKbXVsdGlhZGRyc5YACASsEg6aBo0UAAoErBIOmgaNFd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDvpBEx0SkGvhZaedsyUZjDr9BUd5xbqpYJtZQ4ePBbTCDdGNwgo0Ug3VkcIKNFoV3YWt1MgE"}'
2026-02-02 04:47:03.589 INFO [src.node.waku_node] REST service is ready !!
2026-02-02 04:47:03.590 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:36115/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.83.213/tcp/16012/p2p/16Uiu2HAkw4LSmXPHXB6DohadUwgj4c9FFQ878wDm8NPCdrdvzK7h"]'
2026-02-02 04:47:03.620 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-02 04:47:03.629 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-02 04:47:03.629 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/lightpush_node1_2026-02-02_04-47-01__3d68712c-fc42-4f4f-947d-b53304ea56a7__wakuorg_nwaku:latest.log
2026-02-02 04:47:03.629 DEBUG [src.node.waku_node] Starting Node...
2026-02-02 04:47:03.629 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-02 04:47:03.631 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-02 04:47:03.631 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.153.251
2026-02-02 04:47:03.631 DEBUG [src.node.docker_mananger] Generated ports ['3238', '3239', '3240', '3241', '3242']
2026-02-02 04:47:03.631 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-02 04:47:03.632 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-02 04:47:03.632 DEBUG [src.node.waku_node] Using volumes []
2026-02-02 04:47:03.632 DEBUG [src.node.docker_mananger] docker run -i -t -p 3238:3238 -p 3239:3239 -p 3240:3240 -p 3241:3241 -p 3242:3242 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=3240 --rest-port=3238 --tcp-port=3239 --discv5-udp-port=3241 --rest-address=0.0.0.0 --nat=extip:172.18.153.251 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=29be0177f71aaa58da42c6cebd0f49dc75962b7dcbbd97fadbee27e0ba1aeecb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=3242 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QLiBi8oQkZztAnmsKDflTwgFkK9xJWDcepiEEoRie9zUUo0FUlpIA1i3Vz7cU0KyLDLkhwr5Yxj7EG-V513Qb60CgmlkgnY0gmlwhKwSU9WKbXVsdGlhZGRyc5YACASsElPVBj6MAAoErBJT1QY-jd0DgnJzhQADAQAAiXNlY3AyNTZrMaECGEAWsqrxiJhYdnstpm-hYcZIgmd7gUJP1R2IWs-SfwSDdGNwgj6Mg3VkcII-joV3YWt1Mgk --lightpushnode=/ip4/172.18.83.213/tcp/16012/p2p/16Uiu2HAkw4LSmXPHXB6DohadUwgj4c9FFQ878wDm8NPCdrdvzK7h --lightpush=true --relay=true
2026-02-02 04:47:03.829 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.153.251 waku c7bc967424f5477f88ca5bc646215337bd98d0c322c0e99a13c35e5dc8e7aab2
2026-02-02 04:47:03.859 DEBUG [src.node.docker_mananger] Container started with ID c7bc967424f5. Setting up logs at ./log/docker/lightpush_node1_2026-02-02_04-47-01__3d68712c-fc42-4f4f-947d-b53304ea56a7__wakuorg_nwaku:latest.log
2026-02-02 04:47:03.860 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 3238
2026-02-02 04:47:03.861 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-02 04:47:04.861 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:3238/health" -H "Content-Type: application/json" -d 'None'
2026-02-02 04:47:04.865 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Rln Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_READY","desc":"Node has no relay peers to fullfill push requests"},{"Legacy Lightpush":"NOT_READY","desc":"Node has no relay peers to fullfill push requests"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"READY"},{"Legacy Lightpush Client":"READY"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"}]}'
2026-02-02 04:47:04.865 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-02 04:47:04.865 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:3238/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-02 04:47:04.868 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.153.251/tcp/3239/p2p/16Uiu2HAmJfdyMhuy3RdYR61fi9snWDfyYPZHYDKRWrKVZUPZDhSV","/ip4/172.18.153.251/tcp/3240/ws/p2p/16Uiu2HAmJfdyMhuy3RdYR61fi9snWDfyYPZHYDKRWrKVZUPZDhSV"],"enrUri":"enr:-L24QEitfZeirNQa9HlZSf0pMH13lzIsghO7BWnu9aZ_W2i3PrUyfntv7NI_AeJa7plWhScqfAuuNpuazURj98WRwWgCgmlkgnY0gmlwhKwSmfuKbXVsdGlhZGRyc5YACASsEpn7BgynAAoErBKZ-wYMqN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDWVCpJbhEpgBGNGk-ojqUbnuiP2l6hNypfDNdLdgov8aDdGNwggyng3VkcIIMqYV3YWt1Mgk"}'
2026-02-02 04:47:04.868 INFO [src.node.waku_node] REST service is ready !!
2026-02-02 04:47:04.868 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:3238/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.83.213/tcp/16012/p2p/16Uiu2HAkw4LSmXPHXB6DohadUwgj4c9FFQ878wDm8NPCdrdvzK7h"]'
2026-02-02 04:47:04.899 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-02 04:47:04.900 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:3238/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.14.154/tcp/36116/p2p/16Uiu2HAmRUsQT9hdktUE3kGEhuxYBhhzRPpxi9NYrJU9vBhpFbwD"]'
2026-02-02 04:47:04.929 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-02 04:47:04.929 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:16011/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-02 04:47:04.935 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-02 04:47:04.936 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:36115/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-02 04:47:04.942 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-02 04:47:04.942 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:3238/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-02 04:47:04.944 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-02 04:47:04.945 DEBUG [tests.light_push.test_publish] Running test with timestamp Now
2026-02-02 04:47:04.945 DEBUG [src.steps.light_push] Lightpushing message
2026-02-02 04:47:04.946 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:3238/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1770007224670774784}}'
2026-02-02 04:47:04.956 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-02 04:47:04.957 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-02 04:47:05.059 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2026-02-02 04:47:05.059 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:16011/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-02 04:47:05.061 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770007224670774784,"ephemeral":false,"proof":""}]'
2026-02-02 04:47:05.063 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2026-02-02 04:47:05.063 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:36115/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-02 04:47:05.065 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770007224670774784,"ephemeral":false,"proof":""}]'
2026-02-02 04:47:05.067 DEBUG [src.steps.light_push] Checking that peer NODE_3:wakuorg/nwaku:latest can find the lightpushed message
2026-02-02 04:47:05.067 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:3238/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-02 04:47:05.069 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770007224670774784,"ephemeral":false,"proof":""}]'
2026-02-02 04:47:05.070 DEBUG [tests.light_push.test_publish] Running test with timestamp Far future
2026-02-02 04:47:05.071 DEBUG [src.steps.light_push] Lightpushing message
2026-02-02 04:47:05.071 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:3238/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 2085367224670761216}}'
2026-02-02 04:47:05.083 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-02 04:47:05.084 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-02 04:47:05.184 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2026-02-02 04:47:05.184 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:16011/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-02 04:47:05.187 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":2085367224670761216,"ephemeral":false,"proof":""}]'
2026-02-02 04:47:05.188 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2026-02-02 04:47:05.189 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:36115/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-02 04:47:05.191 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":2085367224670761216,"ephemeral":false,"proof":""}]'
2026-02-02 04:47:05.192 DEBUG [src.steps.light_push] Checking that peer NODE_3:wakuorg/nwaku:latest can find the lightpushed message
2026-02-02 04:47:05.192 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:3238/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-02 04:47:05.194 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":2085367224670761216,"ephemeral":false,"proof":""}]'
2026-02-02 04:47:05.196 DEBUG [tests.light_push.test_publish] Running test with timestamp Recent past
2026-02-02 04:47:05.196 DEBUG [src.steps.light_push] Lightpushing message
2026-02-02 04:47:05.197 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:3238/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1770003624670761216}}'
2026-02-02 04:47:05.210 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-02 04:47:05.211 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-02 04:47:05.311 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2026-02-02 04:47:05.311 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:16011/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-02 04:47:05.313 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770003624670761216,"ephemeral":false,"proof":""}]'
2026-02-02 04:47:05.315 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2026-02-02 04:47:05.315 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:36115/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-02 04:47:05.317 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770003624670761216,"ephemeral":false,"proof":""}]'
2026-02-02 04:47:05.318 DEBUG [src.steps.light_push] Checking that peer NODE_3:wakuorg/nwaku:latest can find the lightpushed message
2026-02-02 04:47:05.319 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:3238/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-02 04:47:05.321 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770003624670761216,"ephemeral":false,"proof":""}]'
2026-02-02 04:47:05.322 DEBUG [tests.light_push.test_publish] Running test with timestamp Near future
2026-02-02 04:47:05.322 DEBUG [src.steps.light_push] Lightpushing message
2026-02-02 04:47:05.323 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:3238/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1770010824670761216}}'
2026-02-02 04:47:05.333 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-02 04:47:05.334 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-02 04:47:05.435 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2026-02-02 04:47:05.435 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:16011/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-02 04:47:05.437 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770010824670761216,"ephemeral":false,"proof":""}]'
2026-02-02 04:47:05.439 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2026-02-02 04:47:05.439 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:36115/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-02 04:47:05.441 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770010824670761216,"ephemeral":false,"proof":""}]'
2026-02-02 04:47:05.442 DEBUG [src.steps.light_push] Checking that peer NODE_3:wakuorg/nwaku:latest can find the lightpushed message
2026-02-02 04:47:05.442 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:3238/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-02 04:47:05.445 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1770010824670761216,"ephemeral":false,"proof":""}]'
2026-02-02 04:47:05.446 DEBUG [tests.light_push.test_publish] Running test with timestamp Positive number
2026-02-02 04:47:05.446 DEBUG [src.steps.light_push] Lightpushing message
2026-02-02 04:47:05.446 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:3238/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1}}'
2026-02-02 04:47:05.460 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-02 04:47:05.460 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-02 04:47:05.561 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2026-02-02 04:47:05.561 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:16011/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-02 04:47:05.563 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1,"ephemeral":false,"proof":""}]'
2026-02-02 04:47:05.564 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2026-02-02 04:47:05.565 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:36115/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-02 04:47:05.567 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1,"ephemeral":false,"proof":""}]'
2026-02-02 04:47:05.568 DEBUG [src.steps.light_push] Checking that peer NODE_3:wakuorg/nwaku:latest can find the lightpushed message
2026-02-02 04:47:05.568 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:3238/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-02 04:47:05.571 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1,"ephemeral":false,"proof":""}]'
2026-02-02 04:47:05.572 DEBUG [tests.light_push.test_publish] Running test with timestamp Negative number
2026-02-02 04:47:05.572 DEBUG [src.steps.light_push] Lightpushing message
2026-02-02 04:47:05.572 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:3238/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": -1}}'
2026-02-02 04:47:05.586 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-02 04:47:05.586 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-02 04:47:05.687 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2026-02-02 04:47:05.687 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:16011/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-02 04:47:05.689 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":-1,"ephemeral":false,"proof":""}]'
2026-02-02 04:47:05.691 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2026-02-02 04:47:05.691 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:36115/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-02 04:47:05.693 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":-1,"ephemeral":false,"proof":""}]'
2026-02-02 04:47:05.694 DEBUG [src.steps.light_push] Checking that peer NODE_3:wakuorg/nwaku:latest can find the lightpushed message
2026-02-02 04:47:05.694 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:3238/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-02 04:47:05.696 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":-1,"ephemeral":false,"proof":""}]'
2026-02-02 04:47:05.698 DEBUG [tests.light_push.test_publish] Running test with timestamp DST change
2026-02-02 04:47:05.698 DEBUG [src.steps.light_push] Lightpushing message
2026-02-02 04:47:05.698 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:3238/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1583632800000000000}}'
2026-02-02 04:47:05.710 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-02 04:47:05.710 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2026-02-02 04:47:05.811 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2026-02-02 04:47:05.811 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:16011/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-02 04:47:05.813 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1583632800000000000,"ephemeral":false,"proof":""}]'
2026-02-02 04:47:05.815 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2026-02-02 04:47:05.815 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:36115/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-02 04:47:05.817 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1583632800000000000,"ephemeral":false,"proof":""}]'
2026-02-02 04:47:05.818 DEBUG [src.steps.light_push] Checking that peer NODE_3:wakuorg/nwaku:latest can find the lightpushed message
2026-02-02 04:47:05.818 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:3238/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2026-02-02 04:47:05.821 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1583632800000000000,"ephemeral":false,"proof":""}]'
2026-02-02 04:47:05.824 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-02-02 04:47:05.825 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-02-02 04:47:05.825 DEBUG [src.node.waku_node] Stopping container with id ec65df79dffd
2026-02-02 04:47:06.345 DEBUG [src.node.waku_node] Container stopped.
2026-02-02 04:47:06.345 DEBUG [src.node.waku_node] Stopping container with id 0dcf21d634b7
2026-02-02 04:47:06.890 DEBUG [src.node.waku_node] Container stopped.
2026-02-02 04:47:06.890 DEBUG [src.node.waku_node] Stopping container with id c7bc967424f5
2026-02-02 04:47:07.158 ERROR [src.node.docker_mananger] Max retries reached for container ec65df79dffd. Exiting log stream.
2026-02-02 04:47:07.411 DEBUG [src.node.waku_node] Container stopped.
2026-02-02 04:47:07.412 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-02-02 04:47:07.425 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-02 04:47:07.434 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-02 04:47:07.447 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
