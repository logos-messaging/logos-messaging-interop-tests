2026-02-14 04:33:47.841 DEBUG [tests.conftest] Running fixture setup: test_id
2026-02-14 04:33:47.842 DEBUG [tests.conftest] Running test: test_relay_subscribe_with_empty_pubsub_topic_list with id: 2026-02-14_04-33-47__bfa35860-ba57-479b-9597-fe918b834ddc
2026-02-14 04:33:47.842 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-02-14 04:33:47.843 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2026-02-14 04:33:47.843 DEBUG [src.steps.relay] Running fixture setup: setup_main_relay_nodes
2026-02-14 04:33:47.853 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-14 04:33:47.854 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2026-02-14_04-33-47__bfa35860-ba57-479b-9597-fe918b834ddc__wakuorg_nwaku:latest.log
2026-02-14 04:33:47.854 DEBUG [src.node.waku_node] Starting Node...
2026-02-14 04:33:47.854 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-14 04:33:47.857 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-14 04:33:47.857 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.84.70
2026-02-14 04:33:47.857 DEBUG [src.node.docker_mananger] Generated ports ['26319', '26320', '26321', '26322', '26323']
2026-02-14 04:33:47.857 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-14 04:33:47.857 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-14 04:33:47.857 DEBUG [src.node.waku_node] Using volumes []
2026-02-14 04:33:47.857 DEBUG [src.node.docker_mananger] docker run -i -t -p 26319:26319 -p 26320:26320 -p 26321:26321 -p 26322:26322 -p 26323:26323 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=26321 --rest-port=26319 --tcp-port=26320 --discv5-udp-port=26322 --rest-address=0.0.0.0 --nat=extip:172.18.84.70 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=cb3806e136f91ef2ebf7a99b7879af11b67dbdf9eb2059d43a7666fabebbef37 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=26323 --metrics-logging=true --relay=true
2026-02-14 04:33:48.050 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.84.70 waku 2d785bb5ef9d9862fcb4b2f506548665128079851eb2ceef165759d1c9cfb86f
2026-02-14 04:33:48.100 DEBUG [src.node.docker_mananger] Container started with ID 2d785bb5ef9d. Setting up logs at ./log/docker/node1_2026-02-14_04-33-47__bfa35860-ba57-479b-9597-fe918b834ddc__wakuorg_nwaku:latest.log
2026-02-14 04:33:48.100 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 26319
2026-02-14 04:33:48.100 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-14 04:33:48.397 ERROR [src.node.docker_mananger] Max retries reached for container 3e1051fd0e09. Exiting log stream.
2026-02-14 04:33:48.668 ERROR [src.node.docker_mananger] Max retries reached for container aa9732644ee7. Exiting log stream.
2026-02-14 04:33:49.101 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26319/health" -H "Content-Type: application/json" -d 'None'
2026-02-14 04:33:49.103 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","connectionStatus":"Disconnected","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"},{"Rln Relay":"NOT_MOUNTED"}]}'
2026-02-14 04:33:49.103 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-14 04:33:49.104 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26319/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-14 04:33:49.106 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.84.70/tcp/26320/p2p/16Uiu2HAmR7Eoh8ryDjD27KK7eMivWDdWGkojuLhyijwx9o6pcAob","/ip4/172.18.84.70/tcp/26321/ws/p2p/16Uiu2HAmR7Eoh8ryDjD27KK7eMivWDdWGkojuLhyijwx9o6pcAob"],"enrUri":"enr:-L24QIfgMLvwTPnuWe732Cr_PfrgIUz-UOeIRKnq1VdBzRKlBPMJ5favLTGp1j99yludiyNcAdbiT34A-2H7dZbxIcQCgmlkgnY0gmlwhKwSVEaKbXVsdGlhZGRyc5YACASsElRGBmbQAAoErBJURgZm0d0DgnJzhQADAQAAiXNlY3AyNTZrMaEDuQWwUEZ5GB3YceaWLuIXpQ_wH6YuJ9-QJn8Bi6fgnNqDdGNwgmbQg3VkcIJm0oV3YWt1MgE"}'
2026-02-14 04:33:49.106 INFO [src.node.waku_node] REST service is ready !!
2026-02-14 04:33:49.113 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-14 04:33:49.113 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2026-02-14_04-33-47__bfa35860-ba57-479b-9597-fe918b834ddc__wakuorg_nwaku:latest.log
2026-02-14 04:33:49.113 DEBUG [src.node.waku_node] Starting Node...
2026-02-14 04:33:49.113 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-14 04:33:49.114 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-14 04:33:49.115 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.212.79
2026-02-14 04:33:49.115 DEBUG [src.node.docker_mananger] Generated ports ['11972', '11973', '11974', '11975', '11976']
2026-02-14 04:33:49.115 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-14 04:33:49.115 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-14 04:33:49.115 DEBUG [src.node.waku_node] Using volumes []
2026-02-14 04:33:49.115 DEBUG [src.node.docker_mananger] docker run -i -t -p 11972:11972 -p 11973:11973 -p 11974:11974 -p 11975:11975 -p 11976:11976 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=11974 --rest-port=11972 --tcp-port=11973 --discv5-udp-port=11975 --rest-address=0.0.0.0 --nat=extip:172.18.212.79 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=5a03042cae2deef450f768adf307c46aee63fe8ab7b69abd2cffabe769aaa328 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=11976 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QIfgMLvwTPnuWe732Cr_PfrgIUz-UOeIRKnq1VdBzRKlBPMJ5favLTGp1j99yludiyNcAdbiT34A-2H7dZbxIcQCgmlkgnY0gmlwhKwSVEaKbXVsdGlhZGRyc5YACASsElRGBmbQAAoErBJURgZm0d0DgnJzhQADAQAAiXNlY3AyNTZrMaEDuQWwUEZ5GB3YceaWLuIXpQ_wH6YuJ9-QJn8Bi6fgnNqDdGNwgmbQg3VkcIJm0oV3YWt1MgE
2026-02-14 04:33:49.316 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.212.79 waku a6c0b3fd0ef4460c6b4ff24051e470075d0bcdb63107231e3e477ed97be4a640
2026-02-14 04:33:49.363 DEBUG [src.node.docker_mananger] Container started with ID a6c0b3fd0ef4. Setting up logs at ./log/docker/node2_2026-02-14_04-33-47__bfa35860-ba57-479b-9597-fe918b834ddc__wakuorg_nwaku:latest.log
2026-02-14 04:33:49.363 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 11972
2026-02-14 04:33:49.363 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-14 04:33:50.364 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:11972/health" -H "Content-Type: application/json" -d 'None'
2026-02-14 04:33:50.374 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","connectionStatus":"Disconnected","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"},{"Rln Relay":"NOT_MOUNTED"}]}'
2026-02-14 04:33:50.375 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-14 04:33:50.375 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:11972/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-14 04:33:50.378 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.212.79/tcp/11973/p2p/16Uiu2HAmBpC8mMUXerauDMG2huGXuC5ESwSE7CHJHqGY9oRr2kM9","/ip4/172.18.212.79/tcp/11974/ws/p2p/16Uiu2HAmBpC8mMUXerauDMG2huGXuC5ESwSE7CHJHqGY9oRr2kM9"],"enrUri":"enr:-L24QDbgVfdJwvdS9p-EZIH7_L4gQcmOSAyXJc7G0ai_6gPiCuF0RCqwoQcfwhr60X2wvgj510DIQIbyJaeu_eUy8fwCgmlkgnY0gmlwhKwS1E-KbXVsdGlhZGRyc5YACASsEtRPBi7FAAoErBLUTwYuxt0DgnJzhQADAQAAiXNlY3AyNTZrMaEC83_dWOWVsyvoaEdF_eNBTMKvGAqZn_yyyr37toZ6Q1SDdGNwgi7Fg3VkcIIux4V3YWt1MgE"}'
2026-02-14 04:33:50.378 INFO [src.node.waku_node] REST service is ready !!
2026-02-14 04:33:50.379 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:11972/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.84.70/tcp/26320/p2p/16Uiu2HAmR7Eoh8ryDjD27KK7eMivWDdWGkojuLhyijwx9o6pcAob"]'
2026-02-14 04:33:50.382 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-14 04:33:50.383 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:26319/relay/v1/subscriptions" -H "Content-Type: application/json" -d '[]'
2026-02-14 04:33:50.386 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-14 04:33:50.386 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:11972/relay/v1/subscriptions" -H "Content-Type: application/json" -d '[]'
2026-02-14 04:33:50.388 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-14 04:33:50.389 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-02-14 04:33:50.391 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-02-14 04:33:50.391 DEBUG [src.node.waku_node] Stopping container with id 2d785bb5ef9d
2026-02-14 04:33:50.655 DEBUG [src.node.waku_node] Container stopped.
2026-02-14 04:33:50.656 DEBUG [src.node.waku_node] Stopping container with id a6c0b3fd0ef4
2026-02-14 04:33:50.925 DEBUG [src.node.waku_node] Container stopped.
2026-02-14 04:33:50.927 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-02-14 04:33:50.937 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-14 04:33:50.942 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
