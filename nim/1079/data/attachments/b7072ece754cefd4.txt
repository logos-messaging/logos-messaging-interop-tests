2026-02-14 04:33:50.952 DEBUG [tests.conftest] Running fixture setup: test_id
2026-02-14 04:33:50.953 DEBUG [tests.conftest] Running test: test_relay_unsubscribe_with_invalid_pubsub_topic_format with id: 2026-02-14_04-33-50__9184fcde-0945-44dc-a2be-21aa2e562084
2026-02-14 04:33:50.954 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-02-14 04:33:50.954 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2026-02-14 04:33:50.955 DEBUG [src.steps.relay] Running fixture setup: setup_main_relay_nodes
2026-02-14 04:33:50.963 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-14 04:33:50.964 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2026-02-14_04-33-50__9184fcde-0945-44dc-a2be-21aa2e562084__wakuorg_nwaku:latest.log
2026-02-14 04:33:50.964 DEBUG [src.node.waku_node] Starting Node...
2026-02-14 04:33:50.964 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-14 04:33:50.966 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-14 04:33:50.966 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.15.243
2026-02-14 04:33:50.967 DEBUG [src.node.docker_mananger] Generated ports ['37700', '37701', '37702', '37703', '37704']
2026-02-14 04:33:50.967 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-14 04:33:50.967 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-14 04:33:50.967 DEBUG [src.node.waku_node] Using volumes []
2026-02-14 04:33:50.967 DEBUG [src.node.docker_mananger] docker run -i -t -p 37700:37700 -p 37701:37701 -p 37702:37702 -p 37703:37703 -p 37704:37704 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=37702 --rest-port=37700 --tcp-port=37701 --discv5-udp-port=37703 --rest-address=0.0.0.0 --nat=extip:172.18.15.243 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bcdd0fccc0b22c821fdb2a35c732ba1a51cb97bfd7afae26b5cf90fdb7816db7 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=37704 --metrics-logging=true --relay=true
2026-02-14 04:33:51.160 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.15.243 waku 2638883ad15fc61468e0fe382f851f03d8f49d3fdc076a495dca1b432e8c59d9
2026-02-14 04:33:51.207 DEBUG [src.node.docker_mananger] Container started with ID 2638883ad15f. Setting up logs at ./log/docker/node1_2026-02-14_04-33-50__9184fcde-0945-44dc-a2be-21aa2e562084__wakuorg_nwaku:latest.log
2026-02-14 04:33:51.207 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 37700
2026-02-14 04:33:51.208 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-14 04:33:51.488 ERROR [src.node.docker_mananger] Max retries reached for container 2d785bb5ef9d. Exiting log stream.
2026-02-14 04:33:51.777 ERROR [src.node.docker_mananger] Max retries reached for container a6c0b3fd0ef4. Exiting log stream.
2026-02-14 04:33:52.208 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:37700/health" -H "Content-Type: application/json" -d 'None'
2026-02-14 04:33:52.211 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","connectionStatus":"Disconnected","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"},{"Rln Relay":"NOT_MOUNTED"}]}'
2026-02-14 04:33:52.211 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-14 04:33:52.211 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:37700/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-14 04:33:52.213 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.15.243/tcp/37701/p2p/16Uiu2HAmC13wWNS7UsbC41q5p5VqaCXpyrCP7GM3cT2VrjVogf9X","/ip4/172.18.15.243/tcp/37702/ws/p2p/16Uiu2HAmC13wWNS7UsbC41q5p5VqaCXpyrCP7GM3cT2VrjVogf9X"],"enrUri":"enr:-L24QAlvLxzS5t_Ym9MDF2-sYBxkWmNj29_yryyEyoDAhfC8DHSe91LENudb-jyO4TqB31nJI4giAlzgiSh4F-vdNtYCgmlkgnY0gmlwhKwSD_OKbXVsdGlhZGRyc5YACASsEg_zBpNFAAoErBIP8waTRt0DgnJzhQADAQAAiXNlY3AyNTZrMaEC9kf9Cal3FQwSX-MmwWns3ugiqV0o_0Q9uafDjG2whr6DdGNwgpNFg3VkcIKTR4V3YWt1MgE"}'
2026-02-14 04:33:52.214 INFO [src.node.waku_node] REST service is ready !!
2026-02-14 04:33:52.220 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-14 04:33:52.220 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2026-02-14_04-33-50__9184fcde-0945-44dc-a2be-21aa2e562084__wakuorg_nwaku:latest.log
2026-02-14 04:33:52.221 DEBUG [src.node.waku_node] Starting Node...
2026-02-14 04:33:52.221 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-14 04:33:52.222 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-14 04:33:52.222 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.127.97
2026-02-14 04:33:52.222 DEBUG [src.node.docker_mananger] Generated ports ['31562', '31563', '31564', '31565', '31566']
2026-02-14 04:33:52.223 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-14 04:33:52.223 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-14 04:33:52.223 DEBUG [src.node.waku_node] Using volumes []
2026-02-14 04:33:52.223 DEBUG [src.node.docker_mananger] docker run -i -t -p 31562:31562 -p 31563:31563 -p 31564:31564 -p 31565:31565 -p 31566:31566 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=31564 --rest-port=31562 --tcp-port=31563 --discv5-udp-port=31565 --rest-address=0.0.0.0 --nat=extip:172.18.127.97 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=920c479e33bbffafeed9bdf10ddbe9b7b42178c09d171a71e7a7e8642d15b88e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=31566 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QAlvLxzS5t_Ym9MDF2-sYBxkWmNj29_yryyEyoDAhfC8DHSe91LENudb-jyO4TqB31nJI4giAlzgiSh4F-vdNtYCgmlkgnY0gmlwhKwSD_OKbXVsdGlhZGRyc5YACASsEg_zBpNFAAoErBIP8waTRt0DgnJzhQADAQAAiXNlY3AyNTZrMaEC9kf9Cal3FQwSX-MmwWns3ugiqV0o_0Q9uafDjG2whr6DdGNwgpNFg3VkcIKTR4V3YWt1MgE
2026-02-14 04:33:52.426 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.127.97 waku 95c992f0a2a00b94d04c9cb110c6daeaf66a80003ff59d7786113228f7281b20
2026-02-14 04:33:52.473 DEBUG [src.node.docker_mananger] Container started with ID 95c992f0a2a0. Setting up logs at ./log/docker/node2_2026-02-14_04-33-50__9184fcde-0945-44dc-a2be-21aa2e562084__wakuorg_nwaku:latest.log
2026-02-14 04:33:52.473 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 31562
2026-02-14 04:33:52.474 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-14 04:33:53.475 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31562/health" -H "Content-Type: application/json" -d 'None'
2026-02-14 04:33:53.483 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","connectionStatus":"Disconnected","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"},{"Rln Relay":"NOT_MOUNTED"}]}'
2026-02-14 04:33:53.484 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-14 04:33:53.485 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31562/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-14 04:33:53.493 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.127.97/tcp/31563/p2p/16Uiu2HAmQ33VKDnk146SRB9qihbVVoNqNUJJAU1XirUHAK3eyCbx","/ip4/172.18.127.97/tcp/31564/ws/p2p/16Uiu2HAmQ33VKDnk146SRB9qihbVVoNqNUJJAU1XirUHAK3eyCbx"],"enrUri":"enr:-L24QILH38JtKRsTNY-KQk3a-nB20Qy0x4d6vgnqOtsc58kBUSIs4A1E3VJqeloV-f6f-uqxiLN32m-eVMpkpCEdoC8CgmlkgnY0gmlwhKwSf2GKbXVsdGlhZGRyc5YACASsEn9hBntLAAoErBJ_YQZ7TN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDqRbh7rM2NLHOsISqylOUZUKbqXrtdDE2TNPjEqg4SMeDdGNwgntLg3VkcIJ7TYV3YWt1MgE"}'
2026-02-14 04:33:53.493 INFO [src.node.waku_node] REST service is ready !!
2026-02-14 04:33:53.493 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:31562/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.15.243/tcp/37701/p2p/16Uiu2HAmC13wWNS7UsbC41q5p5VqaCXpyrCP7GM3cT2VrjVogf9X"]'
2026-02-14 04:33:53.496 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-14 04:33:53.497 DEBUG [tests.relay.test_subscribe] Running test with payload /test/2/rs/0/1
2026-02-14 04:33:53.498 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:37700/relay/v1/subscriptions" -H "Content-Type: application/json" -d '"/test/2/rs/0/1"'
2026-02-14 04:33:53.500 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:37700/relay/v1/subscriptions. Response content: b'Invalid content body, could not decode: Unable to deserialize data: '
2026-02-14 04:33:53.501 DEBUG [tests.relay.test_subscribe] Running test with payload /waku/3/rs/0/1
2026-02-14 04:33:53.501 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:37700/relay/v1/subscriptions" -H "Content-Type: application/json" -d '"/waku/3/rs/0/1"'
2026-02-14 04:33:53.503 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:37700/relay/v1/subscriptions. Response content: b'Invalid content body, could not decode: Unable to deserialize data: '
2026-02-14 04:33:53.504 DEBUG [tests.relay.test_subscribe] Running test with payload /waku/2/test/0/1
2026-02-14 04:33:53.504 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:37700/relay/v1/subscriptions" -H "Content-Type: application/json" -d '"/waku/2/test/0/1"'
2026-02-14 04:33:53.506 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:37700/relay/v1/subscriptions. Response content: b'Invalid content body, could not decode: Unable to deserialize data: '
2026-02-14 04:33:53.507 DEBUG [tests.relay.test_subscribe] Running test with payload /waku/2/rs/3/b
2026-02-14 04:33:53.507 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:37700/relay/v1/subscriptions" -H "Content-Type: application/json" -d '"/waku/2/rs/3/b"'
2026-02-14 04:33:53.510 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:37700/relay/v1/subscriptions. Response content: b'Invalid content body, could not decode: Unable to deserialize data: '
2026-02-14 04:33:53.510 DEBUG [tests.relay.test_subscribe] Running test with payload /waku/2/rs/0
2026-02-14 04:33:53.510 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:37700/relay/v1/subscriptions" -H "Content-Type: application/json" -d '"/waku/2/rs/0"'
2026-02-14 04:33:53.513 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:37700/relay/v1/subscriptions. Response content: b'Invalid content body, could not decode: Unable to deserialize data: '
2026-02-14 04:33:53.514 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-02-14 04:33:53.516 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-02-14 04:33:53.516 DEBUG [src.node.waku_node] Stopping container with id 2638883ad15f
2026-02-14 04:33:53.783 DEBUG [src.node.waku_node] Container stopped.
2026-02-14 04:33:53.785 DEBUG [src.node.waku_node] Stopping container with id 95c992f0a2a0
2026-02-14 04:33:54.062 DEBUG [src.node.waku_node] Container stopped.
2026-02-14 04:33:54.063 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-02-14 04:33:54.071 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-14 04:33:54.075 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
