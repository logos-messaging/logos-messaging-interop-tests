2026-02-14 04:33:41.585 DEBUG [tests.conftest] Running fixture setup: test_id
2026-02-14 04:33:41.587 DEBUG [tests.conftest] Running test: test_store_without_pubsub_topic_and_content_topic with id: 2026-02-14_04-33-41__ceed2de4-d9c5-4f5b-aece-76db8900e34f
2026-02-14 04:33:41.588 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-02-14 04:33:41.588 DEBUG [src.steps.store] Running fixture setup: store_setup
2026-02-14 04:33:41.588 DEBUG [src.steps.store] Running fixture setup: node_setup
2026-02-14 04:33:41.597 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-14 04:33:41.597 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/publishing_node1_2026-02-14_04-33-41__ceed2de4-d9c5-4f5b-aece-76db8900e34f__wakuorg_nwaku:latest.log
2026-02-14 04:33:41.597 DEBUG [src.node.waku_node] Starting Node...
2026-02-14 04:33:41.597 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-14 04:33:41.599 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-14 04:33:41.599 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.113.69
2026-02-14 04:33:41.599 DEBUG [src.node.docker_mananger] Generated ports ['64290', '64291', '64292', '64293', '64294']
2026-02-14 04:33:41.599 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-14 04:33:41.599 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-14 04:33:41.599 DEBUG [src.node.waku_node] Using volumes []
2026-02-14 04:33:41.599 DEBUG [src.node.docker_mananger] docker run -i -t -p 64290:64290 -p 64291:64291 -p 64292:64292 -p 64293:64293 -p 64294:64294 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=64292 --rest-port=64290 --tcp-port=64291 --discv5-udp-port=64293 --rest-address=0.0.0.0 --nat=extip:172.18.113.69 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=1125b62df6b6d85abcccaecccaeb7a6b9d80ce8cff6abdbb99a4ed8baa9eacc0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=64294 --metrics-logging=true --store=true --relay=true
2026-02-14 04:33:41.800 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.113.69 waku 34bf03598c0602e22da2f35d473009b0e8303842df616485ea538fa0a0b5ef67
2026-02-14 04:33:41.851 DEBUG [src.node.docker_mananger] Container started with ID 34bf03598c06. Setting up logs at ./log/docker/publishing_node1_2026-02-14_04-33-41__ceed2de4-d9c5-4f5b-aece-76db8900e34f__wakuorg_nwaku:latest.log
2026-02-14 04:33:41.851 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 64290
2026-02-14 04:33:41.852 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-14 04:33:42.114 ERROR [src.node.docker_mananger] Max retries reached for container d611fd1821d4. Exiting log stream.
2026-02-14 04:33:42.408 ERROR [src.node.docker_mananger] Max retries reached for container 95a7537fa175. Exiting log stream.
2026-02-14 04:33:42.853 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64290/health" -H "Content-Type: application/json" -d 'None'
2026-02-14 04:33:42.855 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","connectionStatus":"Disconnected","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"READY"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"READY"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"},{"Rln Relay":"NOT_MOUNTED"}]}'
2026-02-14 04:33:42.856 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-14 04:33:42.856 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64290/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-14 04:33:42.859 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.113.69/tcp/64291/p2p/16Uiu2HAm3Yk33JuGnqUtaiVwdSvkgVdi7pGe1uPaiEo3xc2Rx45j","/ip4/172.18.113.69/tcp/64292/ws/p2p/16Uiu2HAm3Yk33JuGnqUtaiVwdSvkgVdi7pGe1uPaiEo3xc2Rx45j"],"enrUri":"enr:-L24QNYvLFZiYNBcRd5vowFVYL95JJFF0tcv_7O3AkyVksk-alAmDV_jjTBkCNRNnhg9N3rOkSYAB-E2gmEfsBHmxwsCgmlkgnY0gmlwhKwScUWKbXVsdGlhZGRyc5YACASsEnFFBvsjAAoErBJxRQb7JN0DgnJzhQADAQAAiXNlY3AyNTZrMaECeK0lrkn7C_2uIltQM8ng1I8F2gUa2Osow0LZdLLr7HaDdGNwgvsjg3VkcIL7JYV3YWt1MgM"}'
2026-02-14 04:33:42.859 INFO [src.node.waku_node] REST service is ready !!
2026-02-14 04:33:42.867 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-14 04:33:42.867 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/store_node1_2026-02-14_04-33-41__ceed2de4-d9c5-4f5b-aece-76db8900e34f__wakuorg_nwaku:latest.log
2026-02-14 04:33:42.868 DEBUG [src.node.waku_node] Starting Node...
2026-02-14 04:33:42.868 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-14 04:33:42.869 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-14 04:33:42.869 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.73.8
2026-02-14 04:33:42.869 DEBUG [src.node.docker_mananger] Generated ports ['34208', '34209', '34210', '34211', '34212']
2026-02-14 04:33:42.869 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-14 04:33:42.870 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-14 04:33:42.870 DEBUG [src.node.waku_node] Using volumes []
2026-02-14 04:33:42.870 DEBUG [src.node.docker_mananger] docker run -i -t -p 34208:34208 -p 34209:34209 -p 34210:34210 -p 34211:34211 -p 34212:34212 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=34210 --rest-port=34208 --tcp-port=34209 --discv5-udp-port=34211 --rest-address=0.0.0.0 --nat=extip:172.18.73.8 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=68eec6d1beeabdc19e557497ce28ee5f69b96bccba97093af15af37e26f73a80 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=34212 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QNYvLFZiYNBcRd5vowFVYL95JJFF0tcv_7O3AkyVksk-alAmDV_jjTBkCNRNnhg9N3rOkSYAB-E2gmEfsBHmxwsCgmlkgnY0gmlwhKwScUWKbXVsdGlhZGRyc5YACASsEnFFBvsjAAoErBJxRQb7JN0DgnJzhQADAQAAiXNlY3AyNTZrMaECeK0lrkn7C_2uIltQM8ng1I8F2gUa2Osow0LZdLLr7HaDdGNwgvsjg3VkcIL7JYV3YWt1MgM --storenode=/ip4/172.18.113.69/tcp/64291/p2p/16Uiu2HAm3Yk33JuGnqUtaiVwdSvkgVdi7pGe1uPaiEo3xc2Rx45j --store=true --relay=true
2026-02-14 04:33:43.083 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.73.8 waku 294a454f473c5bcfd08381e4698f4f5c6c812d2dbb5809ca733d5f2de417a2fd
2026-02-14 04:33:43.134 DEBUG [src.node.docker_mananger] Container started with ID 294a454f473c. Setting up logs at ./log/docker/store_node1_2026-02-14_04-33-41__ceed2de4-d9c5-4f5b-aece-76db8900e34f__wakuorg_nwaku:latest.log
2026-02-14 04:33:43.135 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 34208
2026-02-14 04:33:43.135 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-14 04:33:44.135 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:34208/health" -H "Content-Type: application/json" -d 'None'
2026-02-14 04:33:44.139 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","connectionStatus":"PartiallyConnected","protocolsHealth":[{"Relay":"READY"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"READY"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"READY"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"},{"Rln Relay":"NOT_MOUNTED"}]}'
2026-02-14 04:33:44.139 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-14 04:33:44.139 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:34208/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-14 04:33:44.142 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.73.8/tcp/34209/p2p/16Uiu2HAmK9KVjg3CczEzkNLSFzWfTb187pTdL3RJtCxuJpnw4kbh","/ip4/172.18.73.8/tcp/34210/ws/p2p/16Uiu2HAmK9KVjg3CczEzkNLSFzWfTb187pTdL3RJtCxuJpnw4kbh"],"enrUri":"enr:-L24QCu8VbIrS6Sdae1VcBCQ9ysGN4FZ_JGTUPgm2sEZo108EUcIsXdTTL27gcaeyItULUkn2f78J_qsuvMonhIs6BoCgmlkgnY0gmlwhKwSSQiKbXVsdGlhZGRyc5YACASsEkkIBoWhAAoErBJJCAaFot0DgnJzhQADAQAAiXNlY3AyNTZrMaEDYGgIQWVFEzDshPB6GqfTpelXc4Fc833JAr2o07nLcCCDdGNwgoWhg3VkcIKFo4V3YWt1MgM"}'
2026-02-14 04:33:44.142 INFO [src.node.waku_node] REST service is ready !!
2026-02-14 04:33:44.142 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:34208/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.113.69/tcp/64291/p2p/16Uiu2HAm3Yk33JuGnqUtaiVwdSvkgVdi7pGe1uPaiEo3xc2Rx45j"]'
2026-02-14 04:33:44.145 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-14 04:33:44.146 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:64290/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-14 04:33:44.148 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-14 04:33:44.149 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:34208/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2026-02-14 04:33:44.151 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-14 04:33:44.151 DEBUG [src.steps.store] Relaying message
2026-02-14 04:33:44.152 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:64290/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2026-02-14 04:33:44.157 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-14 04:33:44.158 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-14 04:33:44.359 DEBUG [src.steps.store] Relaying message
2026-02-14 04:33:44.359 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:64290/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2026-02-14 04:33:44.365 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-14 04:33:44.366 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-14 04:33:44.566 DEBUG [src.steps.store] Relaying message
2026-02-14 04:33:44.567 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:64290/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-02-14 04:33:44.572 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-14 04:33:44.573 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-14 04:33:44.774 DEBUG [src.steps.store] Relaying message
2026-02-14 04:33:44.774 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:64290/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2026-02-14 04:33:44.783 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-14 04:33:44.784 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-14 04:33:44.985 DEBUG [src.steps.store] Relaying message
2026-02-14 04:33:44.985 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:64290/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2026-02-14 04:33:44.991 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-14 04:33:44.991 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-14 04:33:45.192 DEBUG [src.steps.store] Relaying message
2026-02-14 04:33:45.192 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:64290/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-02-14 04:33:45.197 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-14 04:33:45.198 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-14 04:33:45.399 DEBUG [src.steps.store] Relaying message
2026-02-14 04:33:45.399 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:64290/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-02-14 04:33:45.405 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-14 04:33:45.405 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-14 04:33:45.606 DEBUG [src.steps.store] Relaying message
2026-02-14 04:33:45.606 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:64290/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2026-02-14 04:33:45.612 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-14 04:33:45.612 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2026-02-14 04:33:45.814 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64290/store/v3/messages?pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
2026-02-14 04:33:45.818 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xbc05101b388a78ef29ce382fc085cea10e8de40c1339e9fddb873dde2ec0a96f"},{"messageHash":"0x2b777c945a76299c7f075b2cccf5951ded9e1f0ca445d3f565c911df88ffe27a"},{"messageHash":"0xe69564fe0b315b2da213cfb4e80580f23a7d3dc1e20b21c1dfdc0e68236ad553"},{"messageHash":"0xe6c9d821f573f95b8f9d95fa4fe6b22bc8c94321a513f5916c27405991e0dc1f"},{"messageHash":"0x8b0360c53c8065deae692a49f0b4cd00638e35792825ddbd10a6a79faaa4a408"},{"messageHash":"0xa3d62442ad0ba2067c4a73ca05e560dcdbdd10c6ba8291b5c752665e31f47ea5"},{"messageHash":"0x089cb47f21ee2aabf951e80fb55f259e76819f386e340ebd90c7888066493be7"},{"messageHash":"0x08b4f448bbf781b4011613f9018b36de85ae57c0b42d6c51dfe6e744715c4e14"}]}'
2026-02-14 04:33:45.818 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:34208/store/v3/messages?pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
2026-02-14 04:33:45.821 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xbc05101b388a78ef29ce382fc085cea10e8de40c1339e9fddb873dde2ec0a96f"},{"messageHash":"0x2b777c945a76299c7f075b2cccf5951ded9e1f0ca445d3f565c911df88ffe27a"},{"messageHash":"0xe69564fe0b315b2da213cfb4e80580f23a7d3dc1e20b21c1dfdc0e68236ad553"},{"messageHash":"0xe6c9d821f573f95b8f9d95fa4fe6b22bc8c94321a513f5916c27405991e0dc1f"},{"messageHash":"0x8b0360c53c8065deae692a49f0b4cd00638e35792825ddbd10a6a79faaa4a408"},{"messageHash":"0xa3d62442ad0ba2067c4a73ca05e560dcdbdd10c6ba8291b5c752665e31f47ea5"},{"messageHash":"0x089cb47f21ee2aabf951e80fb55f259e76819f386e340ebd90c7888066493be7"},{"messageHash":"0x08b4f448bbf781b4011613f9018b36de85ae57c0b42d6c51dfe6e744715c4e14"}]}'
2026-02-14 04:33:45.823 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-02-14 04:33:45.824 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-02-14 04:33:45.824 DEBUG [src.node.waku_node] Stopping container with id 34bf03598c06
2026-02-14 04:33:46.097 DEBUG [src.node.waku_node] Container stopped.
2026-02-14 04:33:46.097 DEBUG [src.node.waku_node] Stopping container with id 294a454f473c
2026-02-14 04:33:46.346 DEBUG [src.node.waku_node] Container stopped.
2026-02-14 04:33:46.349 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-02-14 04:33:46.363 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-14 04:33:46.371 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
