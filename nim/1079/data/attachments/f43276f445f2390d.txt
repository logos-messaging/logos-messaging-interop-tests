2026-02-14 04:32:15.403 DEBUG [tests.conftest] Running fixture setup: test_id
2026-02-14 04:32:15.404 DEBUG [tests.conftest] Running test: test_filter_update_subscription_with_no_pubsub_topic with id: 2026-02-14_04-32-15__69dd38de-2de5-41cb-8603-dce3ff35e7ae
2026-02-14 04:32:15.405 DEBUG [src.steps.common] Running fixture setup: common_setup
2026-02-14 04:32:15.405 DEBUG [src.steps.filter] Running fixture setup: filter_setup
2026-02-14 04:32:15.405 DEBUG [src.steps.filter] Running fixture setup: setup_main_relay_node
2026-02-14 04:32:15.415 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-14 04:32:15.416 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2026-02-14_04-32-15__69dd38de-2de5-41cb-8603-dce3ff35e7ae__wakuorg_nwaku:latest.log
2026-02-14 04:32:15.417 DEBUG [src.node.waku_node] Starting Node...
2026-02-14 04:32:15.417 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-14 04:32:15.418 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-14 04:32:15.418 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.206.157
2026-02-14 04:32:15.419 DEBUG [src.node.docker_mananger] Generated ports ['24224', '24225', '24226', '24227', '24228']
2026-02-14 04:32:15.419 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-14 04:32:15.419 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-14 04:32:15.419 DEBUG [src.node.waku_node] Using volumes []
2026-02-14 04:32:15.419 DEBUG [src.node.docker_mananger] docker run -i -t -p 24224:24224 -p 24225:24225 -p 24226:24226 -p 24227:24227 -p 24228:24228 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=24226 --rest-port=24224 --tcp-port=24225 --discv5-udp-port=24227 --rest-address=0.0.0.0 --nat=extip:172.18.206.157 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=8bfeeffbbfab845b300aa8d5af9303de41ce9b822bbcd1ab334bfcc6ed0df7d3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=24228 --metrics-logging=true --relay=true --filter=true
2026-02-14 04:32:15.621 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.206.157 waku 9fd65e6f63db0d9b078671687c9c71a00bc09abbfac3eff92900d44c7541274e
2026-02-14 04:32:15.644 ERROR [src.node.docker_mananger] Max retries reached for container 9dcb89eb9cbf. Exiting log stream.
2026-02-14 04:32:15.671 DEBUG [src.node.docker_mananger] Container started with ID 9fd65e6f63db. Setting up logs at ./log/docker/node1_2026-02-14_04-32-15__69dd38de-2de5-41cb-8603-dce3ff35e7ae__wakuorg_nwaku:latest.log
2026-02-14 04:32:15.672 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 24224
2026-02-14 04:32:15.672 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-14 04:32:15.886 ERROR [src.node.docker_mananger] Max retries reached for container 41e7ff788ece. Exiting log stream.
2026-02-14 04:32:16.229 ERROR [src.node.docker_mananger] Max retries reached for container 704dc6612c3e. Exiting log stream.
2026-02-14 04:32:16.673 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:24224/health" -H "Content-Type: application/json" -d 'None'
2026-02-14 04:32:16.676 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","connectionStatus":"Disconnected","protocolsHealth":[{"Relay":"NOT_READY","desc":"No connected peers"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_READY","desc":"Relay is not ready, filter will not be able to sort out messages"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"},{"Rln Relay":"NOT_MOUNTED"}]}'
2026-02-14 04:32:16.677 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-14 04:32:16.677 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:24224/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-14 04:32:16.679 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.206.157/tcp/24225/p2p/16Uiu2HAm3DSBJuBChSCGYaEDVp3Xow9Pg771nQPE5zY6TF8YLDJG","/ip4/172.18.206.157/tcp/24226/ws/p2p/16Uiu2HAm3DSBJuBChSCGYaEDVp3Xow9Pg771nQPE5zY6TF8YLDJG"],"enrUri":"enr:-L24QHsfbj6GbA4XPozLGUS6JyF0DxyDOSejXmYLwIIauatHJwVvAeoS-tNTWC2G1PdrqK3uRJlk95_FazUYu8bfgNgCgmlkgnY0gmlwhKwSzp2KbXVsdGlhZGRyc5YACASsEs6dBl6hAAoErBLOnQZeot0DgnJzhQADAQAAiXNlY3AyNTZrMaECc7rrnD94e8yOISXvct72TEa4UVhYuK0eU9VibS_L5mGDdGNwgl6hg3VkcIJeo4V3YWt1MgU"}'
2026-02-14 04:32:16.679 INFO [src.node.waku_node] REST service is ready !!
2026-02-14 04:32:16.680 DEBUG [src.steps.filter] Running fixture setup: setup_main_filter_node
2026-02-14 04:32:16.687 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2026-02-14 04:32:16.687 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2026-02-14_04-32-15__69dd38de-2de5-41cb-8603-dce3ff35e7ae__wakuorg_nwaku:latest.log
2026-02-14 04:32:16.687 DEBUG [src.node.waku_node] Starting Node...
2026-02-14 04:32:16.688 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2026-02-14 04:32:16.689 DEBUG [src.node.docker_mananger] Network waku already exists
2026-02-14 04:32:16.689 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.195.166
2026-02-14 04:32:16.689 DEBUG [src.node.docker_mananger] Generated ports ['30533', '30534', '30535', '30536', '30537']
2026-02-14 04:32:16.690 DEBUG [src.node.waku_node] RLN credentials were not set
2026-02-14 04:32:16.690 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2026-02-14 04:32:16.690 DEBUG [src.node.waku_node] Using volumes []
2026-02-14 04:32:16.690 DEBUG [src.node.docker_mananger] docker run -i -t -p 30533:30533 -p 30534:30534 -p 30535:30535 -p 30536:30536 -p 30537:30537 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=30535 --rest-port=30533 --tcp-port=30534 --discv5-udp-port=30536 --rest-address=0.0.0.0 --nat=extip:172.18.195.166 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f6a1a1bc15abcede288a336b1a93b44909bb29fb8fe01705aecb8c6e31d3bd8d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=30537 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QHsfbj6GbA4XPozLGUS6JyF0DxyDOSejXmYLwIIauatHJwVvAeoS-tNTWC2G1PdrqK3uRJlk95_FazUYu8bfgNgCgmlkgnY0gmlwhKwSzp2KbXVsdGlhZGRyc5YACASsEs6dBl6hAAoErBLOnQZeot0DgnJzhQADAQAAiXNlY3AyNTZrMaECc7rrnD94e8yOISXvct72TEa4UVhYuK0eU9VibS_L5mGDdGNwgl6hg3VkcIJeo4V3YWt1MgU --filternode=/ip4/172.18.206.157/tcp/24225/p2p/16Uiu2HAm3DSBJuBChSCGYaEDVp3Xow9Pg771nQPE5zY6TF8YLDJG
2026-02-14 04:32:16.891 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.195.166 waku 479ddd5fe3411afaeee21bcd801aec5aabed2d08b66c0248f9ec40c6851e01b4
2026-02-14 04:32:16.939 DEBUG [src.node.docker_mananger] Container started with ID 479ddd5fe341. Setting up logs at ./log/docker/node2_2026-02-14_04-32-15__69dd38de-2de5-41cb-8603-dce3ff35e7ae__wakuorg_nwaku:latest.log
2026-02-14 04:32:16.939 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 30533
2026-02-14 04:32:16.939 DEBUG [src.libs.common] Sleeping for 1 seconds
2026-02-14 04:32:17.941 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30533/health" -H "Content-Type: application/json" -d 'None'
2026-02-14 04:32:17.944 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"READY","connectionStatus":"Disconnected","protocolsHealth":[{"Relay":"NOT_MOUNTED"},{"Lightpush":"NOT_MOUNTED"},{"Legacy Lightpush":"NOT_MOUNTED"},{"Filter":"NOT_MOUNTED"},{"Store":"NOT_MOUNTED"},{"Legacy Store":"NOT_MOUNTED"},{"Peer Exchange":"READY"},{"Rendezvous":"NOT_READY","desc":"No Rendezvous peers are available yet"},{"Mix":"NOT_MOUNTED"},{"Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Legacy Lightpush Client":"NOT_READY","desc":"No Lightpush service peer available yet"},{"Store Client":"NOT_READY","desc":"No Store service peer available yet, neither Store service set up for the node"},{"Legacy Store Client":"NOT_READY","desc":"No Legacy Store service peers are available yet, neither Store service set up for the node"},{"Filter Client":"NOT_READY","desc":"No Filter service peer available yet"},{"Rln Relay":"NOT_MOUNTED"}]}'
2026-02-14 04:32:17.944 INFO [src.node.waku_node] Node protocols are initialized !!
2026-02-14 04:32:17.944 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30533/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2026-02-14 04:32:17.947 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.195.166/tcp/30534/p2p/16Uiu2HAkx15x72vdxze6Z9bkUP1RRRu2ki2W4YYmbNV2stJ99SXn","/ip4/172.18.195.166/tcp/30535/ws/p2p/16Uiu2HAkx15x72vdxze6Z9bkUP1RRRu2ki2W4YYmbNV2stJ99SXn"],"enrUri":"enr:-L24QKHtaWB72HCbehQQOzHhZWPa4LoWtmKrQQjVb5_LXXTGOm2RpTNRbiGZ82jXuJc-iTdY64YNTLiMSrKdZhv8ZvwCgmlkgnY0gmlwhKwSw6aKbXVsdGlhZGRyc5YACASsEsOmBndGAAoErBLDpgZ3R90DgnJzhQADAQAAiXNlY3AyNTZrMaECJkak_yK5lWwvSqpcLgkhct3HGpo0WqaJUVeNTgnhIZ2DdGNwgndGg3VkcIJ3SIV3YWt1MgA"}'
2026-02-14 04:32:17.947 INFO [src.node.waku_node] REST service is ready !!
2026-02-14 04:32:17.947 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:30533/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.206.157/tcp/24225/p2p/16Uiu2HAm3DSBJuBChSCGYaEDVp3Xow9Pg771nQPE5zY6TF8YLDJG"]'
2026-02-14 04:32:17.986 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-14 04:32:17.989 DEBUG [src.steps.filter] Running fixture setup: subscribe_main_nodes
2026-02-14 04:32:17.990 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:24224/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2026-02-14 04:32:18.003 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2026-02-14 04:32:18.004 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:30533/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "8a309fca-c1d6-4eef-8e60-e3dd2de1cdbe", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
2026-02-14 04:32:18.019 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"8a309fca-c1d6-4eef-8e60-e3dd2de1cdbe","statusDesc":"OK"}'
2026-02-14 04:32:18.022 INFO [src.node.api_clients.base_client] curl -v -X PUT "http://127.0.0.1:30533/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": ["/test/2/waku-filter/proto"]}'
2026-02-14 04:32:18.032 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"1","statusDesc":"OK"}'
2026-02-14 04:32:18.034 DEBUG [tests.conftest] Running fixture teardown: test_setup
2026-02-14 04:32:18.035 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2026-02-14 04:32:18.035 DEBUG [src.node.waku_node] Stopping container with id 9fd65e6f63db
2026-02-14 04:32:18.287 DEBUG [src.node.waku_node] Container stopped.
2026-02-14 04:32:18.288 DEBUG [src.node.waku_node] Stopping container with id 479ddd5fe341
2026-02-14 04:32:18.556 DEBUG [src.node.waku_node] Container stopped.
2026-02-14 04:32:18.559 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2026-02-14 04:32:18.569 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2026-02-14 04:32:18.575 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
